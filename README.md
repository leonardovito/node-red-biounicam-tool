# node-red-biounicam-tool
#### Install
To install these nodes in Node-Red, follow this guide. <br/>
<br/>
First of all, open the terminal or cmd(Windows). Then move to your Node-Red user directory (typically "~/.node-red") and use the command **npm install** by specify the path of the node's folder (the folder of a node contain a file named _package.json_). Example:<br/>
<br/>
**1. Linux or Mac OS:<br/>**
  . _cd ~/.node-red<br/>
  . npm install (insert path of node folder)_<br/>
**2. Windows:<br/>**
  . _cd C:\\Users\\(username)\\.node_red<br/>
  . npm install (insert path of node folder)_<br/>

Remember to restart Node-Red after have installed or updated one or more nodes.<br/>
#### Uninstall
For uninstall the module go under Node-Red user directory, as we explained above, and use this command:<br/>

_npm uninstall node-red-biounicam-tool_<br/>

### FLOWS
#### Increment Fasta

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/IncementFasta.PNG)

```json
[{"id":"9fe9dc8a.5b72e","type":"tab","label":"Form-Increment-Fasta","disabled":false,"info":""},{"id":"6d405c0f.1e6754","type":"http in","z":"9fe9dc8a.5b72e","name":"","url":"/incrementfasta","method":"post","upload":true,"swaggerDoc":"","x":180,"y":420,"wires":[["8d4abaa2.f78e98","d8fd35a9.9452e8"]]},{"id":"8d4abaa2.f78e98","type":"function","z":"9fe9dc8a.5b72e","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"incrementFasta/out/\" + msg.req.files[0].originalname\n\nreturn [msg,null];","outputs":1,"noerr":0,"initialize":"","finalize":"","x":360,"y":460,"wires":[["ef3ad2f9.41025"]]},{"id":"4f44a3ae.49e01c","type":"http response","z":"9fe9dc8a.5b72e","name":"","statusCode":"","headers":{},"x":1970,"y":460,"wires":[]},{"id":"ef3ad2f9.41025","type":"file","z":"9fe9dc8a.5b72e","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":490,"y":460,"wires":[["6922d16b.75946"]]},{"id":"321ddc39.18dc64","type":"increment_fasta_contig","z":"9fe9dc8a.5b72e","name":"","fasta":"","pathfolder":"","outputname":"","x":970,"y":420,"wires":[["1918f053.89216","242af0d9.e8993","9f3980d2.e801e"]]},{"id":"d8fd35a9.9452e8","type":"function","z":"9fe9dc8a.5b72e","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload.fasta = \"incrementFasta/out/\" + msg.req.files[0].originalname\nmsg.payload.pathfolder = \"incrementFasta/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":340,"wires":[["82e6ff40.f634d"]]},{"id":"1918f053.89216","type":"function","z":"9fe9dc8a.5b72e","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\nif(msg.payload.zip===\"no\") {\n    msg.payload = msg.payload.outputname\n    return[msg,null,null]\n}\nelse if(msg.payload.zip===\"yes\") {\n    msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n    msg.payload.pathIn = \"incrementFasta/out\"\n    msg.payload.pathOut = \"incrementFasta/\"+msg.payload.outputname\n    return [null,msg,null]\n}\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1200,"y":440,"wires":[["a9091e05.a7a93"],["fce4b1de.c11a9"],["10981fc1.3d3d1"]]},{"id":"70ccd55f.51677c","type":"template","z":"9fe9dc8a.5b72e","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/incrementFasta/out/{{payload}}\" onclick=\"clickAndDisable(this);\">{{payload}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":400,"wires":[["4f44a3ae.49e01c"]]},{"id":"6922d16b.75946","type":"function","z":"9fe9dc8a.5b72e","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":460,"wires":[["82e6ff40.f634d"]]},{"id":"82e6ff40.f634d","type":"join","z":"9fe9dc8a.5b72e","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":750,"y":420,"wires":[["321ddc39.18dc64"]]},{"id":"a9091e05.a7a93","type":"delay","z":"9fe9dc8a.5b72e","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1400,"y":400,"wires":[["70ccd55f.51677c"]]},{"id":"c1f1bcc9.c62c9","type":"ui_template","z":"9fe9dc8a.5b72e","group":"4808d99f.8982c8","name":"Data-table","order":3,"width":"24","height":"14","format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/incrementfasta\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">INCREMENT FASTA FILE</font><br /></div>\n    <p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta\" type=\"file\" name=\"file\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":170,"y":360,"wires":[[]]},{"id":"242af0d9.e8993","type":"fs-ops-delete","z":"9fe9dc8a.5b72e","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1110,"y":520,"wires":[[]]},{"id":"9f3980d2.e801e","type":"change","z":"9fe9dc8a.5b72e","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":340,"wires":[["8ba6ee8f.f58c9"]]},{"id":"8ba6ee8f.f58c9","type":"ui_toast","z":"9fe9dc8a.5b72e","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1410,"y":340,"wires":[[]]},{"id":"fce4b1de.c11a9","type":"zip_folder","z":"9fe9dc8a.5b72e","name":"","pathIn":"","pathOut":"","x":1400,"y":460,"wires":[["af0404d2.6dbb48"]]},{"id":"d0178a1a.877eb8","type":"template","z":"9fe9dc8a.5b72e","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":460,"wires":[["4f44a3ae.49e01c"]]},{"id":"af0404d2.6dbb48","type":"delay","z":"9fe9dc8a.5b72e","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1560,"y":460,"wires":[["d0178a1a.877eb8"]]},{"id":"3183b6b3.af71ea","type":"ui_text","z":"9fe9dc8a.5b72e","group":"979b5f31.ef2a","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":170,"y":480,"wires":[]},{"id":"10981fc1.3d3d1","type":"delay","z":"9fe9dc8a.5b72e","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1400,"y":520,"wires":[["b1d0044d.2a72b8"]]},{"id":"b1d0044d.2a72b8","type":"template","z":"9fe9dc8a.5b72e","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":520,"wires":[["4f44a3ae.49e01c"]]},{"id":"4808d99f.8982c8","type":"ui_group","z":"","name":"IncrementFasta","tab":"ed3d38de.22ee28","order":1,"disp":false,"width":"32","collapse":false},{"id":"979b5f31.ef2a","type":"ui_group","z":"","name":"AuthMessage","tab":"ed3d38de.22ee28","order":2,"disp":false,"width":"27","collapse":false},{"id":"ed3d38de.22ee28","type":"ui_tab","z":"","name":"IncrementFasta","icon":"dashboard","order":6,"disabled":false,"hidden":false}]
```
#### Extract Intron from Cuff

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/ExtractFromCuff.PNG)

```json
[{"id":"40261d3d.1ed334","type":"tab","label":"Form-Extract-Intron-Cuff","disabled":false,"info":""},{"id":"b120cdcf.7eb51","type":"http in","z":"40261d3d.1ed334","name":"","url":"/extractfromcuff","method":"post","upload":true,"swaggerDoc":"","x":180,"y":320,"wires":[["27571f47.2becb","7c53ec49.67c674"]]},{"id":"27571f47.2becb","type":"function","z":"40261d3d.1ed334","name":"","func":"//msg.name = msg.req.files[0].originalname;\nglobal.set(\"name\",msg.payload.outputname);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"extractFromCUFF/out/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromCUFF/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":360,"y":380,"wires":[["6a1d2ff.e73bcd"],["6121918e.f42f4"]]},{"id":"5e801f92.908c3","type":"http response","z":"40261d3d.1ed334","name":"","statusCode":"","headers":{},"x":2070,"y":320,"wires":[]},{"id":"6a1d2ff.e73bcd","type":"file","z":"40261d3d.1ed334","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":490,"y":320,"wires":[["bae6938a.6c431"]]},{"id":"7c53ec49.67c674","type":"function","z":"40261d3d.1ed334","name":"","func":"//global.set(\"name\",msg.payload.outputname);\nmsg.payload.fasta = \"extractFromCUFF/out/\" + msg.req.files[0].originalname\nmsg.payload.cuff = \"extractFromCUFF/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"extractFromCUFF/out\"\nmsg.payload.flanking = msg.payload.flanking\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":260,"wires":[["2f76501a.d9fbd"]]},{"id":"c5a1405.09ae9c","type":"ui_template","z":"40261d3d.1ed334","group":"359677f.e0f6a88","name":"Data-table","order":1,"width":24,"height":14,"format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/extractfromcuff\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">EXTRACT INTRON FROM CUFF</font><br /></div>\n    <br><p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta3\" type=\"file\" name=\"filefasta\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"filecuff\">CUFF File:&emsp;</label>\n      <input id=\"file-input-cuff\" type=\"file\" name=\"filecuff\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"flanking\">Flanking:&emsp;</label>\n      <input type=\"text\" name=\"flanking\" style=\"width: 200px; height: 20px\"/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":170,"y":260,"wires":[[]]},{"id":"6121918e.f42f4","type":"file","z":"40261d3d.1ed334","name":"CUFF","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":490,"y":440,"wires":[["2e5bab78.67e854"]]},{"id":"72f19093.8adc6","type":"ui_toast","z":"40261d3d.1ed334","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1350,"y":140,"wires":[[]]},{"id":"2f76501a.d9fbd","type":"join","z":"40261d3d.1ed334","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":850,"y":300,"wires":[["a5ca7387.3d7d9"]]},{"id":"bae6938a.6c431","type":"function","z":"40261d3d.1ed334","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":320,"wires":[["2f76501a.d9fbd"]]},{"id":"2e5bab78.67e854","type":"function","z":"40261d3d.1ed334","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":440,"wires":[["2f76501a.d9fbd"]]},{"id":"a5ca7387.3d7d9","type":"extract_intron_from_cuff_gtf","z":"40261d3d.1ed334","name":"","fasta":"","cuff":"","pathfolder":"","outputname":"","flanking":"","x":950,"y":220,"wires":[["25b37daa.e7c9d2","660c8ae2.49df84","3d09a500.4f9d7c","5dbbbdf4.9d66a4"]]},{"id":"25b37daa.e7c9d2","type":"function","z":"40261d3d.1ed334","name":"","func":"var name = global.get(\"name\");\n\nif(msg.payload.stdout!==\"Error\") {\nif(msg.payload.zip===\"no\") {\n    if(msg.payload.stdout!==\"Error\" && msg.payload.flanking===\"\") {\n        msg.payload = {\n            fasta : name,\n            fastaPlus : name + \"Plus\"\n        }\n        return [msg,null,null,null];\n    }\n    else if(msg.payload.stdout!==\"Error\" && msg.payload.flanking!==\"\"){\n        msg.filename = name+\"Plus\"\n        msg.payload = {\n            fasta : name,\n            fastaPlus : name+\"Plus\",\n            flDx : \"flanking_Dx_\" + name,\n            flDxPlus : \"flanking_Dx_\" + name + \"Plus\",\n            flSx : \"flanking_Sx_\" + name,\n            flSxPlus : \"flanking_Sx_\" + name + \"Plus\",\n            flTot: \"flanking_tot_\" + name,\n            flTotPlus : \"flanking_tot_\" + name + \"Plus\"\n        }\n        return [null,msg,null,null];\n    }\n}\nelse if(msg.payload.zip===\"yes\") {\n    msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n    msg.payload.pathIn = \"extractFromCUFF/out\"\n    msg.payload.pathOut = \"extractFromCUFF/\"+msg.payload.outputname\n    return [null,null,msg,null]\n}\n}\nelse {\n    return [null,null,null,msg]\n}","outputs":4,"noerr":0,"initialize":"","finalize":"","x":1180,"y":280,"wires":[["1cb703da.f962cc"],["ff318d8c.6cad6"],["52213520.77b49c"],["6ddb6122.d3b43"]]},{"id":"1cb703da.f962cc","type":"delay","z":"40261d3d.1ed334","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1380,"y":220,"wires":[["45d6998b.fecf98"]]},{"id":"ff318d8c.6cad6","type":"delay","z":"40261d3d.1ed334","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1380,"y":280,"wires":[["7f45073a.08ac18"]]},{"id":"7f45073a.08ac18","type":"template","z":"40261d3d.1ed334","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromCUFF/out/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flDx}}\" onclick=\"clickAndDisable(this);\">{{payload.flDx}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flDxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flDxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flSx}}\" onclick=\"clickAndDisable(this);\">{{payload.flSx}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flSxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flSxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flTot}}\" onclick=\"clickAndDisable(this);\">{{payload.flTot}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flTotPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flTotPlus}}</a> <br><br>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1750,"y":280,"wires":[["5e801f92.908c3"]]},{"id":"45d6998b.fecf98","type":"template","z":"40261d3d.1ed334","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromCUFF/out/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1750,"y":220,"wires":[["5e801f92.908c3"]]},{"id":"7960cc31.0aa3d4","type":"ui_text","z":"40261d3d.1ed334","group":"c8831f06.a2221","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":170,"y":380,"wires":[]},{"id":"660c8ae2.49df84","type":"fs-ops-delete","z":"40261d3d.1ed334","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1090,"y":400,"wires":[[]]},{"id":"3d09a500.4f9d7c","type":"fs-ops-delete","z":"40261d3d.1ed334","name":"Delete Cuff","path":"","pathType":"str","filename":"payload.cuff","filenameType":"msg","x":1070,"y":460,"wires":[[]]},{"id":"5dbbbdf4.9d66a4","type":"change","z":"40261d3d.1ed334","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1140,"y":140,"wires":[["72f19093.8adc6"]]},{"id":"52213520.77b49c","type":"zip_folder","z":"40261d3d.1ed334","name":"","pathIn":"","pathOut":"","x":1380,"y":340,"wires":[["9d8e6c49.d48d9"]]},{"id":"9d8e6c49.d48d9","type":"delay","z":"40261d3d.1ed334","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1560,"y":340,"wires":[["e756be52.0bab2"]]},{"id":"e756be52.0bab2","type":"template","z":"40261d3d.1ed334","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1750,"y":340,"wires":[["5e801f92.908c3"]]},{"id":"6ddb6122.d3b43","type":"delay","z":"40261d3d.1ed334","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1380,"y":400,"wires":[["f477c4e1.ae36c8"]]},{"id":"f477c4e1.ae36c8","type":"template","z":"40261d3d.1ed334","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1750,"y":400,"wires":[["5e801f92.908c3"]]},{"id":"359677f.e0f6a88","type":"ui_group","z":"","name":"ExtractFromCUFF","tab":"159fc757.80d0d9","order":2,"disp":false,"width":"27","collapse":false},{"id":"c8831f06.a2221","type":"ui_group","z":"","name":"AuthMessage","tab":"159fc757.80d0d9","order":2,"disp":false,"width":"27","collapse":false},{"id":"159fc757.80d0d9","type":"ui_tab","z":"","name":"ExtractFromCUFF","icon":"dashboard","order":7,"disabled":false,"hidden":false}]
```
#### Extract Intron from Topat

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/ExtractFromTopat.PNG)

```json
[{"id":"77879970.645d68","type":"tab","label":"Form-Extract-From-Topat","disabled":false,"info":""},{"id":"3bc067eb.4775c8","type":"http in","z":"77879970.645d68","name":"","url":"/extractintronfromtopat","method":"post","upload":true,"swaggerDoc":"","x":300,"y":360,"wires":[["a37a97de.d72448","8d89395f.a61288"]]},{"id":"a37a97de.d72448","type":"function","z":"77879970.645d68","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.payload.outputname);\n//global.set(\"flanking\",msg.payload.flanking);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"extractFromTopat/out/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromTopat/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":480,"y":420,"wires":[["fe23cf02.d677b"],["9d5ca752.3ff4c8"]]},{"id":"dc332a89.36fa68","type":"http response","z":"77879970.645d68","name":"","statusCode":"","headers":{},"x":2230,"y":260,"wires":[]},{"id":"fe23cf02.d677b","type":"file","z":"77879970.645d68","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":610,"y":360,"wires":[["c5c21fe0.6af74"]]},{"id":"8d89395f.a61288","type":"function","z":"77879970.645d68","name":"","func":"msg.payload.fasta = \"extractFromTopat/out/\" + msg.req.files[0].originalname\nmsg.payload.tp = \"extractFromTopat/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"extractFromTopat/out\"\nmsg.payload.flanking = msg.payload.flanking\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":760,"y":300,"wires":[["ede92c8b.759ff"]]},{"id":"5d40c25e.76db1c","type":"template","z":"77879970.645d68","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromTopat/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1950,"y":160,"wires":[["dc332a89.36fa68"]]},{"id":"68f2d771.0d9528","type":"ui_template","z":"77879970.645d68","group":"eebecb08.3f4318","name":"Data-table","order":1,"width":24,"height":14,"format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/extractintronfromtopat\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">EXTRACT INTRON FROM TOPAT</font><br /></div>\n    <br><p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta2\" type=\"file\" name=\"filefasta\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Topat File:&emsp;</label>\n      <input id=\"file-input-topat\" type=\"file\" name=\"filetopat\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"flanking\">Flanking:&emsp;</label>\n      <input type=\"text\" name=\"flanking\" style=\"width: 200px; height: 20px\"/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":290,"y":300,"wires":[[]]},{"id":"9d5ca752.3ff4c8","type":"file","z":"77879970.645d68","name":"topat","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":610,"y":480,"wires":[["9523ef7a.7c6c7"]]},{"id":"2fd3bafa.a35ca6","type":"function","z":"77879970.645d68","name":"","func":"var name = msg.payload.outputname;\n\nif(msg.payload.stdout!==\"Error\") {\n    if(msg.payload.zip===\"no\") {\n        if(msg.payload.stdout!==\"Error\" && msg.payload.flanking===\"\") {\n            msg.payload = {\n                fasta : name,\n                fastaPlus : name + \"Plus\"\n            }\n            return [msg,null,null,null];\n        }\n        else if(msg.payload.stdout!==\"Error\" && msg.payload.flanking!==\"\"){\n            msg.filename = name+\"Plus\"\n            msg.payload = {\n                fasta : name,\n                fastaPlus : name+\"Plus\",\n                flDx : \"flanking_Dx_IR_\" + name,\n                flDxPlus : \"flanking_Dx_IR_\" + name + \"Plus\",\n                flSx : \"flanking_Sx_IR_\" + name,\n                flSxPlus : \"flanking_Sx_IR_\" + name + \"Plus\",\n                flIr: \"flanking_IR_\" + name,\n                flIrPlus : \"flanking_IR_\" + name + \"Plus\"\n            }\n            return [null,msg,null,null];\n        }\n    }\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"extractFromTopat/out\"\n        msg.payload.pathOut = \"extractFromTopat/\"+msg.payload.outputname\n        return [null,null,msg,null]\n    }\n}\nelse {\n    return[null,null,null,msg]\n}","outputs":4,"noerr":0,"initialize":"","finalize":"","x":1420,"y":240,"wires":[["d833750f.3e1ef8"],["6cc679de.e29f38"],["68545af1.366514"],["1e3c79e4.ca2376"]]},{"id":"d833750f.3e1ef8","type":"delay","z":"77879970.645d68","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":160,"wires":[["5d40c25e.76db1c"]]},{"id":"ede92c8b.759ff","type":"join","z":"77879970.645d68","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":970,"y":340,"wires":[["e059b4ac.5beeb8"]]},{"id":"c5c21fe0.6af74","type":"function","z":"77879970.645d68","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":760,"y":360,"wires":[["ede92c8b.759ff"]]},{"id":"9523ef7a.7c6c7","type":"function","z":"77879970.645d68","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":760,"y":480,"wires":[["ede92c8b.759ff"]]},{"id":"6cc679de.e29f38","type":"delay","z":"77879970.645d68","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":220,"wires":[["ffb84408.d6f378"]]},{"id":"ffb84408.d6f378","type":"template","z":"77879970.645d68","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromTopat/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flDx}}\" onclick=\"clickAndDisable(this);\">{{payload.flDx}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flDxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flDxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flSx}}\" onclick=\"clickAndDisable(this);\">{{payload.flSx}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flSxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flSxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flIr}}\" onclick=\"clickAndDisable(this);\">{{payload.flIr}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flIrPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flIrPlus}}</a> <br><br>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1950,"y":220,"wires":[["dc332a89.36fa68"]]},{"id":"d7991ca6.ca237","type":"ui_text","z":"77879970.645d68","group":"da1179ed.deb7a8","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":290,"y":420,"wires":[]},{"id":"e504388.1cf64c8","type":"fs-ops-delete","z":"77879970.645d68","name":"Delete Topat","path":"","pathType":"str","filename":"payload.tp","filenameType":"msg","x":1230,"y":360,"wires":[[]]},{"id":"6c2e3fef.ae8ba","type":"fs-ops-delete","z":"77879970.645d68","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1250,"y":300,"wires":[[]]},{"id":"b5c7017c.e2738","type":"change","z":"77879970.645d68","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1400,"y":100,"wires":[["9ee84299.7531a"]]},{"id":"9ee84299.7531a","type":"ui_toast","z":"77879970.645d68","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1610,"y":100,"wires":[[]]},{"id":"68545af1.366514","type":"zip_folder","z":"77879970.645d68","name":"","pathIn":"","pathOut":"","x":1640,"y":280,"wires":[["81c8e8d0.69efd8"]]},{"id":"81c8e8d0.69efd8","type":"delay","z":"77879970.645d68","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1800,"y":280,"wires":[["4c4eaf4c.58848"]]},{"id":"4c4eaf4c.58848","type":"template","z":"77879970.645d68","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1950,"y":280,"wires":[["dc332a89.36fa68"]]},{"id":"e059b4ac.5beeb8","type":"extract_intron_using_bed_file_from_topat","z":"77879970.645d68","name":"","fasta":"","tp":"","pathfolder":"","outputname":"","flanking":"","x":1060,"y":180,"wires":[["b5c7017c.e2738","2fd3bafa.a35ca6","6c2e3fef.ae8ba","e504388.1cf64c8"]]},{"id":"1e3c79e4.ca2376","type":"delay","z":"77879970.645d68","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":340,"wires":[["44db07af.507178"]]},{"id":"44db07af.507178","type":"template","z":"77879970.645d68","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1950,"y":340,"wires":[["dc332a89.36fa68"]]},{"id":"eebecb08.3f4318","type":"ui_group","z":"","name":"ExtractFromTopat","tab":"230231d6.efa81e","order":1,"disp":false,"width":"27","collapse":false},{"id":"da1179ed.deb7a8","type":"ui_group","z":"","name":"AuthMessage","tab":"230231d6.efa81e","order":2,"disp":false,"width":"27","collapse":false},{"id":"230231d6.efa81e","type":"ui_tab","z":"","name":"ExtractFromTopat","icon":"dashboard","order":8,"disabled":false,"hidden":false}]
```
#### Remove Contig From Fasta

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/RemoveContingFromFasta.PNG) 

```json
[{"id":"618eb36e.cbbf0c","type":"tab","label":"Form-Remove-Contig-From-Fasta","disabled":false,"info":""},{"id":"3209b802.d9a058","type":"http in","z":"618eb36e.cbbf0c","name":"","url":"/removecontingfasta","method":"post","upload":true,"swaggerDoc":"","x":190,"y":220,"wires":[["66cec88b.7f4658","ab1c9c99.ff7c7"]]},{"id":"66cec88b.7f4658","type":"function","z":"618eb36e.cbbf0c","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"removeFromFasta/out/\" + msg.req.files[0].originalname\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"removeFromFasta/out/\" + msg.req.files[1].originalname};\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":360,"y":280,"wires":[["d23f8302.3c463"],["9840c4ac.a9a068"]]},{"id":"35f620c3.2cfe4","type":"http response","z":"618eb36e.cbbf0c","name":"","statusCode":"","headers":{},"x":1990,"y":260,"wires":[]},{"id":"d23f8302.3c463","type":"file","z":"618eb36e.cbbf0c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":510,"y":260,"wires":[["e7c09734.4e0cc8"]]},{"id":"ab1c9c99.ff7c7","type":"function","z":"618eb36e.cbbf0c","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload.fasta1 = \"removeFromFasta/out/\" + msg.req.files[0].originalname\nmsg.payload.fasta2 = \"removeFromFasta/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"removeFromFasta/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":500,"y":140,"wires":[["b144b0d.f5b275"]]},{"id":"178eb6de.439d39","type":"function","z":"618eb36e.cbbf0c","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\n    if(msg.payload.zip===\"no\") {\n        msg.payload = msg.payload.outputname\n        return[msg,null,null]\n    }\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"removeFromFasta/out\"\n        msg.payload.pathOut = \"removeFromFasta/\"+msg.payload.outputname\n        return [null,msg,null]\n    }\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1220,"y":220,"wires":[["aa79328d.b0b88"],["316e2e9a.182562"],["9fec4fb9.d391e"]]},{"id":"6a54f9ae.22c648","type":"template","z":"618eb36e.cbbf0c","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/removeFromFasta/out/{{payload}}\" onclick=\"clickAndDisable(this);\">{{payload}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1590,"y":200,"wires":[["35f620c3.2cfe4"]]},{"id":"e7c09734.4e0cc8","type":"function","z":"618eb36e.cbbf0c","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":260,"wires":[["b144b0d.f5b275"]]},{"id":"b144b0d.f5b275","type":"join","z":"618eb36e.cbbf0c","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":810,"y":240,"wires":[["8b039dbe.068d8"]]},{"id":"aa79328d.b0b88","type":"delay","z":"618eb36e.cbbf0c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1420,"y":200,"wires":[["6a54f9ae.22c648"]]},{"id":"5067b3e2.c4ce3c","type":"ui_template","z":"618eb36e.cbbf0c","group":"67710136.09c61","name":"Data-table","order":3,"width":"24","height":"14","format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/removecontingfasta\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">REMOVE CONTING FROM FASTA</font><br /></div>\n    <p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta1\">Fasta File 1:&emsp;</label>\n      <input id=\"file-input-fasta1\" type=\"file\" name=\"file\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"fasta2\">Fasta File 2:&emsp;</label>\n      <input id=\"file-input-fasta2\" type=\"file\" name=\"file2\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":190,"y":160,"wires":[[]]},{"id":"6a4c1521.3b868c","type":"fs-ops-delete","z":"618eb36e.cbbf0c","name":"Delete Fasta1","path":"","pathType":"str","filename":"payload.fasta1","filenameType":"msg","x":1140,"y":320,"wires":[[]]},{"id":"316e2e9a.182562","type":"zip_folder","z":"618eb36e.cbbf0c","name":"","pathIn":"","pathOut":"","x":1420,"y":260,"wires":[["18f8fd01.9176c3"]]},{"id":"a9c3a802.9121f8","type":"template","z":"618eb36e.cbbf0c","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1730,"y":260,"wires":[["35f620c3.2cfe4"]]},{"id":"18f8fd01.9176c3","type":"delay","z":"618eb36e.cbbf0c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1580,"y":260,"wires":[["a9c3a802.9121f8"]]},{"id":"10a8b144.16d0ff","type":"ui_text","z":"618eb36e.cbbf0c","group":"35c9da15.fa77f6","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":190,"y":280,"wires":[]},{"id":"4563ce9b.21aa1","type":"fs-ops-delete","z":"618eb36e.cbbf0c","name":"Delete Fasta2","path":"","pathType":"str","filename":"payload.fasta2","filenameType":"msg","x":1100,"y":380,"wires":[[]]},{"id":"8b039dbe.068d8","type":"remove_conting_from_fasta","z":"618eb36e.cbbf0c","name":"","fasta1":"","fasta2":"","pathfolder":"","outputname":"","x":1000,"y":220,"wires":[["178eb6de.439d39","6a4c1521.3b868c","4563ce9b.21aa1","9b8244a3.e84868"]]},{"id":"9840c4ac.a9a068","type":"file","z":"618eb36e.cbbf0c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":510,"y":320,"wires":[["db151590.d174e8"]]},{"id":"db151590.d174e8","type":"function","z":"618eb36e.cbbf0c","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":320,"wires":[["b144b0d.f5b275"]]},{"id":"9fec4fb9.d391e","type":"delay","z":"618eb36e.cbbf0c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1420,"y":320,"wires":[["da8a173d.0c5478"]]},{"id":"da8a173d.0c5478","type":"template","z":"618eb36e.cbbf0c","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1570,"y":320,"wires":[["35f620c3.2cfe4"]]},{"id":"9b8244a3.e84868","type":"change","z":"618eb36e.cbbf0c","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":120,"wires":[["568a183a.22fc88"]]},{"id":"568a183a.22fc88","type":"ui_toast","z":"618eb36e.cbbf0c","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1430,"y":120,"wires":[[]]},{"id":"67710136.09c61","type":"ui_group","z":"","name":"RemoveFromFasta","tab":"fdafc552.df9028","order":1,"disp":false,"width":"27","collapse":false},{"id":"35c9da15.fa77f6","type":"ui_group","z":"","name":"AuthMessage","tab":"fdafc552.df9028","order":2,"disp":false,"width":"27","collapse":false},{"id":"fdafc552.df9028","type":"ui_tab","z":"","name":"RemoveFromFasta","icon":"dashboard","order":9,"disabled":false,"hidden":false}]
```
#### Merge Fasta

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/MergeFastas.PNG) 

```json
[{"id":"54786150.1490a","type":"tab","label":"Form-Merge-Fasta","disabled":false,"info":""},{"id":"5b1bcd01.4d0fd4","type":"http in","z":"54786150.1490a","name":"","url":"/mergefasta","method":"post","upload":true,"swaggerDoc":"","x":170,"y":300,"wires":[["e9d4c67c.0795f8","97bd051a.061c48"]]},{"id":"e9d4c67c.0795f8","type":"function","z":"54786150.1490a","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"mergeFasta/out/\" + msg.req.files[0].originalname\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"mergeFasta/out/\" + msg.req.files[1].originalname};\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":360,"y":360,"wires":[["55ce07e5.f91578"],["d10b1865.12bb58"]]},{"id":"4ebde3f9.96a5cc","type":"http response","z":"54786150.1490a","name":"","statusCode":"","headers":{},"x":1990,"y":340,"wires":[]},{"id":"55ce07e5.f91578","type":"file","z":"54786150.1490a","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":510,"y":340,"wires":[["6175f65c.416128"]]},{"id":"97bd051a.061c48","type":"function","z":"54786150.1490a","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload.fasta1 = \"mergeFasta/out/\" + msg.req.files[0].originalname\nmsg.payload.fasta2 = \"mergeFasta/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"mergeFasta/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":500,"y":220,"wires":[["eab08603.1c0048"]]},{"id":"c6e2e609.5c28e8","type":"function","z":"54786150.1490a","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\n    if(msg.payload.zip===\"no\") {\n        msg.payload = msg.payload.outputname\n        return[msg,null,null]\n    }\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"mergeFasta/out\"\n        msg.payload.pathOut = \"mergeFasta/\"+msg.payload.outputname\n        return [null,msg,null]\n    }\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1220,"y":300,"wires":[["c448b69f.56bd78"],["f0e8f8ae.743d08"],["66830c69.17e574"]]},{"id":"8a465db6.a8e61","type":"template","z":"54786150.1490a","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/mergeFasta/out/{{payload}}\" onclick=\"clickAndDisable(this);\">{{payload}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1590,"y":280,"wires":[["4ebde3f9.96a5cc"]]},{"id":"6175f65c.416128","type":"function","z":"54786150.1490a","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":340,"wires":[["eab08603.1c0048"]]},{"id":"eab08603.1c0048","type":"join","z":"54786150.1490a","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":810,"y":320,"wires":[["af5f8fef.b46de"]]},{"id":"c448b69f.56bd78","type":"delay","z":"54786150.1490a","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1420,"y":280,"wires":[["8a465db6.a8e61"]]},{"id":"345f9e36.1b1422","type":"ui_template","z":"54786150.1490a","group":"12604437.f7dd5c","name":"Data-table","order":3,"width":"24","height":"14","format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/mergefasta\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">MERGE FASTA</font><br /></div>\n    <p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta1\">Fasta File 1:&emsp;</label>\n      <input id=\"file-input-fasta1\" type=\"file\" name=\"file\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"fasta2\">Fasta File 2:&emsp;</label>\n      <input id=\"file-input-fasta2\" type=\"file\" name=\"file2\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":190,"y":240,"wires":[[]]},{"id":"a5a3b2ab.c4205","type":"fs-ops-delete","z":"54786150.1490a","name":"Delete Fasta1","path":"","pathType":"str","filename":"payload.fasta1","filenameType":"msg","x":1160,"y":400,"wires":[[]]},{"id":"41939ba1.9e6c34","type":"change","z":"54786150.1490a","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":180,"wires":[["57397566.bb234c"]]},{"id":"57397566.bb234c","type":"ui_toast","z":"54786150.1490a","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1430,"y":180,"wires":[[]]},{"id":"f0e8f8ae.743d08","type":"zip_folder","z":"54786150.1490a","name":"","pathIn":"","pathOut":"","x":1420,"y":340,"wires":[["a05e2518.564ae8"]]},{"id":"db4d9cd2.e5d6a","type":"template","z":"54786150.1490a","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1730,"y":340,"wires":[["4ebde3f9.96a5cc"]]},{"id":"a05e2518.564ae8","type":"delay","z":"54786150.1490a","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1580,"y":340,"wires":[["db4d9cd2.e5d6a"]]},{"id":"d2911f53.32a54","type":"ui_text","z":"54786150.1490a","group":"c112becb.28eaf","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":190,"y":360,"wires":[]},{"id":"2ab12ab1.d1a216","type":"fs-ops-delete","z":"54786150.1490a","name":"Delete Fasta2","path":"","pathType":"str","filename":"payload.fasta2","filenameType":"msg","x":1100,"y":460,"wires":[[]]},{"id":"d10b1865.12bb58","type":"file","z":"54786150.1490a","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":510,"y":400,"wires":[["83b70937.6bc3b8"]]},{"id":"83b70937.6bc3b8","type":"function","z":"54786150.1490a","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":400,"wires":[["eab08603.1c0048"]]},{"id":"66830c69.17e574","type":"delay","z":"54786150.1490a","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1420,"y":400,"wires":[["fcd12833.cdeea8"]]},{"id":"fcd12833.cdeea8","type":"template","z":"54786150.1490a","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1570,"y":400,"wires":[["4ebde3f9.96a5cc"]]},{"id":"af5f8fef.b46de","type":"merge_fasta","z":"54786150.1490a","name":"","fasta1":"","fasta2":"","pathfolder":"","outputname":"","x":980,"y":300,"wires":[["41939ba1.9e6c34","c6e2e609.5c28e8","a5a3b2ab.c4205","2ab12ab1.d1a216"]]},{"id":"12604437.f7dd5c","type":"ui_group","z":"","name":"MergeFasta","tab":"268bbc91.5d0b04","order":1,"disp":false,"width":"27","collapse":false},{"id":"c112becb.28eaf","type":"ui_group","z":"","name":"AuthMessage","tab":"268bbc91.5d0b04","order":2,"disp":false,"width":"27","collapse":false},{"id":"268bbc91.5d0b04","type":"ui_tab","z":"","name":"MergeFasta","icon":"dashboard","order":10,"disabled":false,"hidden":false}]
```
#### Remove Nucleotides

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/RemoveNucleotides.PNG) 

```json
[{"id":"f28db1c7.5937d","type":"tab","label":"Form-Remove-Nucleotides","disabled":false,"info":""},{"id":"33468cab.64bd34","type":"http in","z":"f28db1c7.5937d","name":"","url":"/removenucleotides","method":"post","upload":true,"swaggerDoc":"","x":150,"y":240,"wires":[["b8d2b4d3.060f58","74f9f3c6.22befc"]]},{"id":"b8d2b4d3.060f58","type":"function","z":"f28db1c7.5937d","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"removeNucleotides/out/\" + msg.req.files[0].originalname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":320,"y":300,"wires":[["6c88185e.555aa8"]]},{"id":"faba7ce2.61487","type":"http response","z":"f28db1c7.5937d","name":"","statusCode":"","headers":{},"x":1950,"y":280,"wires":[]},{"id":"6c88185e.555aa8","type":"file","z":"f28db1c7.5937d","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":470,"y":300,"wires":[["6728dc32.8de7d4"]]},{"id":"74f9f3c6.22befc","type":"function","z":"f28db1c7.5937d","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload.fasta = \"removeNucleotides/out/\" + msg.req.files[0].originalname\nmsg.payload.n = msg.payload.n\nmsg.payload.pathfolder = \"removeNucleotides/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":160,"wires":[["f2090e59.23913"]]},{"id":"c6791bbc.4b7ee8","type":"function","z":"f28db1c7.5937d","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\n    if(msg.payload.zip===\"no\") {\n        msg.payload = msg.payload.outputname\n        return[msg,null,null]\n    }\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"removeNucleotides/out\"\n        msg.payload.pathOut = \"removeNucleotides/\"+msg.payload.outputname\n        return [null,msg,null]\n    }\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1160,"y":260,"wires":[["3a054d5f.0fa5e2"],["190bc48e.ceb41b"],["1018bd72.767e33"]]},{"id":"b9ab7016.9dd6c","type":"template","z":"f28db1c7.5937d","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/removeNucleotides/out/flanking_Dx_{{payload}}\" onclick=\"clickAndDisable(this);\">flanking_Dx_{{payload}}</a> <br><br>\n    <a href=\"/file/removeNucleotides/out/flanking_Sx_{{payload}}\" onclick=\"clickAndDisable(this);\">flanking_Sx_{{payload}}</a> <br><br>\n    <a href=\"/file/removeNucleotides/out/no_flanking_{{payload}}\" onclick=\"clickAndDisable(this);\">no_flanking_{{payload}}</a> <br><br>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1550,"y":220,"wires":[["faba7ce2.61487"]]},{"id":"6728dc32.8de7d4","type":"function","z":"f28db1c7.5937d","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":600,"y":300,"wires":[["f2090e59.23913"]]},{"id":"f2090e59.23913","type":"join","z":"f28db1c7.5937d","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":770,"y":260,"wires":[["e6bf0ecb.6a5af"]]},{"id":"3a054d5f.0fa5e2","type":"delay","z":"f28db1c7.5937d","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1380,"y":220,"wires":[["b9ab7016.9dd6c"]]},{"id":"3dee95ec.87772a","type":"ui_template","z":"f28db1c7.5937d","group":"e164d591.d12eb8","name":"Data-table","order":3,"width":"24","height":"14","format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/removenucleotides\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">REMOVE NUCLEOTIDES</font><br /></div>\n    <p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta\" type=\"file\" name=\"file\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"fasta2\">Number of Nucleotides to remove:&emsp;</label>\n      <input type=\"text\" name=\"n\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":150,"y":180,"wires":[[]]},{"id":"a2f53d4a.9ad6c","type":"fs-ops-delete","z":"f28db1c7.5937d","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1130,"y":360,"wires":[[]]},{"id":"2fb9d562.14aaea","type":"change","z":"f28db1c7.5937d","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1200,"y":120,"wires":[["7041e1fa.aa5d1"]]},{"id":"7041e1fa.aa5d1","type":"ui_toast","z":"f28db1c7.5937d","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1390,"y":120,"wires":[[]]},{"id":"190bc48e.ceb41b","type":"zip_folder","z":"f28db1c7.5937d","name":"","pathIn":"","pathOut":"","x":1380,"y":280,"wires":[["377dca6d.8c0746"]]},{"id":"1817cce3.a3a293","type":"template","z":"f28db1c7.5937d","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1690,"y":280,"wires":[["faba7ce2.61487"]]},{"id":"377dca6d.8c0746","type":"delay","z":"f28db1c7.5937d","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":280,"wires":[["1817cce3.a3a293"]]},{"id":"19c27a6e.371436","type":"ui_text","z":"f28db1c7.5937d","group":"3f548f7b.306b4","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":150,"y":300,"wires":[]},{"id":"1018bd72.767e33","type":"delay","z":"f28db1c7.5937d","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1380,"y":340,"wires":[["b4a6e081.ce01d"]]},{"id":"b4a6e081.ce01d","type":"template","z":"f28db1c7.5937d","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1530,"y":340,"wires":[["faba7ce2.61487"]]},{"id":"e6bf0ecb.6a5af","type":"remove_nucleotides","z":"f28db1c7.5937d","name":"","fasta":"","n":"","pathfolder":"","outputname":"","x":960,"y":260,"wires":[["c6791bbc.4b7ee8","a2f53d4a.9ad6c","2fb9d562.14aaea"]]},{"id":"e164d591.d12eb8","type":"ui_group","z":"","name":"RemoveNucleotides","tab":"3691d90e.709346","order":1,"disp":false,"width":"27","collapse":false},{"id":"3f548f7b.306b4","type":"ui_group","z":"","name":"AuthMessage","tab":"3691d90e.709346","order":2,"disp":false,"width":"27","collapse":false},{"id":"3691d90e.709346","type":"ui_tab","z":"","name":"RemoveNucleotides","icon":"dashboard","order":11,"disabled":false,"hidden":false}]
```
#### Extract Intron From Augustus

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/ExtractFromAugustus.PNG) 

```json
[{"id":"5ee18230.15372c","type":"tab","label":"Form-Extract-From-August","disabled":false,"info":""},{"id":"d0d023bc.06eab","type":"http in","z":"5ee18230.15372c","name":"","url":"/extractfromaugustus","method":"post","upload":true,"swaggerDoc":"","x":210,"y":300,"wires":[["2e9a4a5b.9cede6","f6fc71e3.fd05f"]]},{"id":"2e9a4a5b.9cede6","type":"function","z":"5ee18230.15372c","name":"","func":"//msg.name = msg.req.files[0].originalname;\nglobal.set(\"name\",msg.payload.outputname);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"extractFromAugustus/out/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromAugustus/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":400,"y":360,"wires":[["74d00653.c35f48"],["551f2ca4.049054"]]},{"id":"73d6751b.c4f12c","type":"http response","z":"5ee18230.15372c","name":"","statusCode":"","headers":{},"x":2210,"y":300,"wires":[]},{"id":"74d00653.c35f48","type":"file","z":"5ee18230.15372c","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":530,"y":300,"wires":[["7489bc5a.49be84"]]},{"id":"f6fc71e3.fd05f","type":"function","z":"5ee18230.15372c","name":"","func":"//global.set(\"name\",msg.payload.outputname);\nmsg.payload.fasta = \"extractFromAugustus/out/\" + msg.req.files[0].originalname\nmsg.payload.au = \"extractFromAugustus/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"extractFromAugustus/out\"\nmsg.payload.flanking = msg.payload.flanking\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":240,"wires":[["c16bb01a.d2923"]]},{"id":"f24f88e0.d52d68","type":"ui_template","z":"5ee18230.15372c","group":"81a38a69.0a5a38","name":"Data-table","order":1,"width":24,"height":14,"format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/extractfromaugustus\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">EXTRACT INTRON FROM AUGUSTUS</font><br /></div>\n    <br><p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta3\" type=\"file\" name=\"filefasta\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"fileaug\">AUGUSTUS File:&emsp;</label>\n      <input id=\"file-input-aug\" type=\"file\" name=\"fileaug\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"flanking\">Flanking:&emsp;</label>\n      <input type=\"text\" name=\"flanking\" style=\"width: 200px; height: 20px\"/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":190,"y":240,"wires":[[]]},{"id":"551f2ca4.049054","type":"file","z":"5ee18230.15372c","name":"CUFF","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":530,"y":420,"wires":[["a836d03c.00d65"]]},{"id":"993d047d.42a9f8","type":"ui_toast","z":"5ee18230.15372c","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1490,"y":120,"wires":[[]]},{"id":"c16bb01a.d2923","type":"join","z":"5ee18230.15372c","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":850,"y":280,"wires":[["b78e86bc.501948"]]},{"id":"7489bc5a.49be84","type":"function","z":"5ee18230.15372c","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":300,"wires":[["c16bb01a.d2923"]]},{"id":"a836d03c.00d65","type":"function","z":"5ee18230.15372c","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":420,"wires":[["c16bb01a.d2923"]]},{"id":"ab76e6f9.d84d98","type":"function","z":"5ee18230.15372c","name":"","func":"var name = global.get(\"name\");\n\nif(msg.payload.stdout!==\"Error\") {\nif(msg.payload.zip===\"no\") {\n    if(msg.payload.stdout!==\"Error\" && msg.payload.flanking===\"\") {\n        msg.payload = {\n            fasta : name,\n            fastaPlus : name + \"Plus\"\n        }\n        return [msg,null,null,null];\n    }\n    else if(msg.payload.stdout!==\"Error\" && msg.payload.flanking!==\"\"){\n        msg.filename = name+\"Plus\"\n        msg.payload = {\n            fasta : name,\n            fastaPlus : name+\"Plus\",\n            flDx : \"flanking_Dx_\" + name,\n            flDxPlus : \"flanking_Dx_\" + name + \"Plus\",\n            flSx : \"flanking_Sx_\" + name,\n            flSxPlus : \"flanking_Sx_\" + name + \"Plus\",\n            flTot: \"flanking_tot_\" + name,\n            flTotPlus : \"flanking_tot_\" + name + \"Plus\"\n        }\n        return [null,msg,null,null];\n    }\n}\nelse if(msg.payload.zip===\"yes\") {\n    msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n    msg.payload.pathIn = \"extractFromAugustus/out\"\n    msg.payload.pathOut = \"extractFromAugustus/\"+msg.payload.outputname\n    return [null,null,msg,null]\n}\n}\nelse {\n    return [null,null,null,msg]\n}","outputs":4,"noerr":0,"initialize":"","finalize":"","x":1320,"y":280,"wires":[["1385cb8f.d26af4"],["d2cfd0d4.a673e"],["5722482a.183898"],["71deb3d.712674c"]]},{"id":"1385cb8f.d26af4","type":"delay","z":"5ee18230.15372c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1520,"y":200,"wires":[["6b92385b.982fd8"]]},{"id":"d2cfd0d4.a673e","type":"delay","z":"5ee18230.15372c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1520,"y":260,"wires":[["94dc2aab.97c698"]]},{"id":"94dc2aab.97c698","type":"template","z":"5ee18230.15372c","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromAugustus/out/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flDx}}\" onclick=\"clickAndDisable(this);\">{{payload.flDx}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flDxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flDxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flSx}}\" onclick=\"clickAndDisable(this);\">{{payload.flSx}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flSxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flSxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flTot}}\" onclick=\"clickAndDisable(this);\">{{payload.flTot}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flTotPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flTotPlus}}</a> <br><br>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1890,"y":260,"wires":[["73d6751b.c4f12c"]]},{"id":"6b92385b.982fd8","type":"template","z":"5ee18230.15372c","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromAugustus/out/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1890,"y":200,"wires":[["73d6751b.c4f12c"]]},{"id":"57f00952.24d828","type":"ui_text","z":"5ee18230.15372c","group":"6bf434f.b6a95cc","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":190,"y":360,"wires":[]},{"id":"66aa60b6.29f4d","type":"fs-ops-delete","z":"5ee18230.15372c","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1210,"y":400,"wires":[[]]},{"id":"5e3242df.7234cc","type":"fs-ops-delete","z":"5ee18230.15372c","name":"Delete Augustus","path":"","pathType":"str","filename":"payload.au","filenameType":"msg","x":1220,"y":440,"wires":[[]]},{"id":"1da7864b.61c96a","type":"change","z":"5ee18230.15372c","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1280,"y":120,"wires":[["993d047d.42a9f8"]]},{"id":"5722482a.183898","type":"zip_folder","z":"5ee18230.15372c","name":"","pathIn":"","pathOut":"","x":1520,"y":320,"wires":[["52da7a31.6c4784"]]},{"id":"52da7a31.6c4784","type":"delay","z":"5ee18230.15372c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1700,"y":320,"wires":[["cbfbff9c.3ba2d"]]},{"id":"cbfbff9c.3ba2d","type":"template","z":"5ee18230.15372c","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1890,"y":320,"wires":[["73d6751b.c4f12c"]]},{"id":"71deb3d.712674c","type":"delay","z":"5ee18230.15372c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1520,"y":380,"wires":[["e989d64a.f5bf58"]]},{"id":"e989d64a.f5bf58","type":"template","z":"5ee18230.15372c","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1890,"y":380,"wires":[["73d6751b.c4f12c"]]},{"id":"b78e86bc.501948","type":"extract_intron_from_gtf_augustus","z":"5ee18230.15372c","name":"","fasta":"","au":"","pathfolder":"","outputname":"","flanking":"","x":1060,"y":280,"wires":[["ab76e6f9.d84d98","1da7864b.61c96a","66aa60b6.29f4d","5e3242df.7234cc"]]},{"id":"81a38a69.0a5a38","type":"ui_group","z":"","name":"ExtractFromAugustus","tab":"baf315b3.b9d9a8","order":1,"disp":false,"width":"27","collapse":false},{"id":"6bf434f.b6a95cc","type":"ui_group","z":"","name":"AuthMessage","tab":"baf315b3.b9d9a8","order":2,"disp":false,"width":"27","collapse":false},{"id":"baf315b3.b9d9a8","type":"ui_tab","z":"","name":"ExtractFromAugustus","icon":"dashboard","order":12,"disabled":false,"hidden":false}]
```
#### Extract Intron From String Tie

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/ExtractFromStringTie.PNG) 

```json
[{"id":"dbc74340.05afb","type":"tab","label":"Form-Extract-From-String-Tie","disabled":false,"info":""},{"id":"5aab588e.f13ad8","type":"http in","z":"dbc74340.05afb","name":"","url":"/extractfromstringtie","method":"post","upload":true,"swaggerDoc":"","x":150,"y":260,"wires":[["9731bc2d.249cb","edbc8804.db5008"]]},{"id":"9731bc2d.249cb","type":"function","z":"dbc74340.05afb","name":"","func":"//msg.name = msg.req.files[0].originalname;\nglobal.set(\"name\",msg.payload.outputname);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"extractFromFileTie/out/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromFileTie/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":340,"y":320,"wires":[["9b8e8af2.37d978"],["4c2aa80.1a5ea58"]]},{"id":"7456f374.248b7c","type":"http response","z":"dbc74340.05afb","name":"","statusCode":"","headers":{},"x":2150,"y":260,"wires":[]},{"id":"9b8e8af2.37d978","type":"file","z":"dbc74340.05afb","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":470,"y":260,"wires":[["56ab0d6a.c22454"]]},{"id":"edbc8804.db5008","type":"function","z":"dbc74340.05afb","name":"","func":"//global.set(\"name\",msg.payload.outputname);\nmsg.payload.fasta = \"extractFromFileTie/out/\" + msg.req.files[0].originalname\nmsg.payload.st = \"extractFromFileTie/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"extractFromFileTie/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":200,"wires":[["59732dcf.726954"]]},{"id":"d6f1af41.b03b7","type":"ui_template","z":"dbc74340.05afb","group":"8eab26f1.f77ec8","name":"Data-table","order":1,"width":24,"height":14,"format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/extractfromstringtie\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">EXTRACT INTRON FROM STRING TIE</font><br /></div>\n    <br><p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta3\" type=\"file\" name=\"filefasta\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"filest\">StringTie File:&emsp;</label>\n      <input id=\"file-input-st\" type=\"file\" name=\"filest\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"start\">Start:</label>\n      <input type=\"text\" name=\"start\" style=\"width: 20px; height: 20px\"/>\n      \n      <label style=\"font-size:20px\" for=\"end\">&emsp;End:</label>\n      <input type=\"text\" name=\"end\" style=\"width: 20px; height: 20px\"/>\n      \n      <label style=\"font-size:20px\" for=\"contig\">&emsp;Contig:</label>\n      <input type=\"text\" name=\"contig\" style=\"width: 20px; height: 20px\"/>\n      <br><br>\n      <label style=\"font-size:20px\" for=\"strand\">Strand:</label>\n      <input type=\"text\" name=\"strand\" style=\"width: 20px; height: 20px\"/>\n   \n      <label style=\"font-size:20px\" for=\"coverage\">&emsp;Coverage:</label>\n      <input type=\"text\" name=\"coverage\" style=\"width: 20px; height: 20px\"/>\n     \n      <label style=\"font-size:20px\" for=\"label\">&emsp;Label:</label>\n      <input type=\"text\" name=\"label\" style=\"width: 20px; height: 20px\"/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":130,"y":200,"wires":[[]]},{"id":"4c2aa80.1a5ea58","type":"file","z":"dbc74340.05afb","name":"CUFF","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":470,"y":380,"wires":[["201e1860.6c5fe8"]]},{"id":"bad436d2.13e1a8","type":"ui_toast","z":"dbc74340.05afb","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1430,"y":80,"wires":[[]]},{"id":"59732dcf.726954","type":"join","z":"dbc74340.05afb","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":790,"y":240,"wires":[["990f4d05.962d9"]]},{"id":"56ab0d6a.c22454","type":"function","z":"dbc74340.05afb","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":260,"wires":[["59732dcf.726954"]]},{"id":"201e1860.6c5fe8","type":"function","z":"dbc74340.05afb","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":380,"wires":[["59732dcf.726954"]]},{"id":"79466c20.6d3e84","type":"function","z":"dbc74340.05afb","name":"","func":"var name = global.get(\"name\");\n\nif(msg.payload.stdout!==\"Error\") {\nif(msg.payload.zip===\"no\") {\n    if(msg.payload.stdout!==\"Error\") {\n        msg.payload = {\n            fasta : name,\n            fastaPlus : name + \"Plus\"\n        }\n        return [msg,null,null];\n    }\n}\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"extractFromFileTie/out\"\n        msg.payload.pathOut = \"extractFromFileTie/\"+msg.payload.outputname\n        return [null,msg,null]\n    }\n}\nelse {\n    return [null,null,msg]\n}","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1260,"y":240,"wires":[["1e4cd48f.0acc1b"],["14da4ca6.96a6e3"],["9d990e30.34dd3"]]},{"id":"1e4cd48f.0acc1b","type":"delay","z":"dbc74340.05afb","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1460,"y":160,"wires":[["5c63198.fd2cee8"]]},{"id":"5c63198.fd2cee8","type":"template","z":"dbc74340.05afb","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromFileTie/out/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromFileTie/out/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1830,"y":160,"wires":[["7456f374.248b7c"]]},{"id":"49ba0085.e1cc4","type":"ui_text","z":"dbc74340.05afb","group":"86f203bb.a4a69","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":130,"y":320,"wires":[]},{"id":"acf3a1c1.727a4","type":"fs-ops-delete","z":"dbc74340.05afb","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1150,"y":360,"wires":[[]]},{"id":"8aeaa0df.bbfb8","type":"fs-ops-delete","z":"dbc74340.05afb","name":"Delete FileTie","path":"","pathType":"str","filename":"payload.st","filenameType":"msg","x":1160,"y":400,"wires":[[]]},{"id":"cce50fd6.2b56b","type":"change","z":"dbc74340.05afb","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":80,"wires":[["bad436d2.13e1a8"]]},{"id":"14da4ca6.96a6e3","type":"zip_folder","z":"dbc74340.05afb","name":"","pathIn":"","pathOut":"","x":1460,"y":240,"wires":[["4673613d.52294"]]},{"id":"4673613d.52294","type":"delay","z":"dbc74340.05afb","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":240,"wires":[["cc03113d.8828b"]]},{"id":"cc03113d.8828b","type":"template","z":"dbc74340.05afb","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1830,"y":240,"wires":[["7456f374.248b7c"]]},{"id":"9d990e30.34dd3","type":"delay","z":"dbc74340.05afb","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1460,"y":320,"wires":[["325806c8.520a6a"]]},{"id":"325806c8.520a6a","type":"template","z":"dbc74340.05afb","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1830,"y":320,"wires":[["7456f374.248b7c"]]},{"id":"990f4d05.962d9","type":"extract_intron_from_string_tie","z":"dbc74340.05afb","name":"","fasta":"","au":"","pathfolder":"","outputname":"","start":"","end":"","contig":"","strand":"","coverage":"","label":"","x":1010,"y":240,"wires":[["cce50fd6.2b56b","79466c20.6d3e84","acf3a1c1.727a4","8aeaa0df.bbfb8"]]},{"id":"8eab26f1.f77ec8","type":"ui_group","z":"","name":"ExtractFromStringTie","tab":"c8c9f203.c20bf","order":1,"disp":false,"width":"27","collapse":false},{"id":"86f203bb.a4a69","type":"ui_group","z":"","name":"AuthMessage","tab":"c8c9f203.c20bf","order":2,"disp":false,"width":"27","collapse":false},{"id":"c8c9f203.c20bf","type":"ui_tab","z":"","name":"ExtractFromStringTie","icon":"dashboard","order":13,"disabled":false,"hidden":false}]
```
#### Create Dot From Fasta

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/CreateDot.PNG) 

```json
[{"id":"5f351f06.e29ef","type":"tab","label":"Form-Create-Dot","disabled":false,"info":""},{"id":"29dc80b.a7dcb8","type":"http in","z":"5f351f06.e29ef","name":"","url":"/createdotfromfasta","method":"post","upload":true,"swaggerDoc":"","x":150,"y":420,"wires":[["c3067ab7.29bd98","de12853.73f2b78"]]},{"id":"c3067ab7.29bd98","type":"function","z":"5f351f06.e29ef","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"createDot/out/\" + msg.req.files[0].originalname\n\nreturn [msg,null];","outputs":1,"noerr":0,"initialize":"","finalize":"","x":360,"y":460,"wires":[["e66b41cf.68e81"]]},{"id":"c2ca9206.dfb5f","type":"http response","z":"5f351f06.e29ef","name":"","statusCode":"","headers":{},"x":1970,"y":460,"wires":[]},{"id":"e66b41cf.68e81","type":"file","z":"5f351f06.e29ef","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":490,"y":460,"wires":[["a9e3e42d.8b7a88"]]},{"id":"de12853.73f2b78","type":"function","z":"5f351f06.e29ef","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload.fasta = \"createDot/out/\" + msg.req.files[0].originalname\nmsg.payload.pathfolder = \"createDot/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":340,"wires":[["9258073a.fee798"]]},{"id":"198a6fe4.e75d","type":"function","z":"5f351f06.e29ef","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\nif(msg.payload.zip===\"no\") {\n    msg.payload = msg.payload.outputname\n    return[msg,null,null]\n}\nelse if(msg.payload.zip===\"yes\") {\n    msg.payload.outputname = msg.payload.outputname.slice(0,-4) + \".zip\";\n    msg.payload.pathIn = \"createDot/out\"\n    msg.payload.pathOut = \"createDot/\"+msg.payload.outputname\n    return [null,msg,null]\n}\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1200,"y":420,"wires":[["9208b553.d48eb8"],["edd2ec46.fd755"],["79b8b83.05b6f48"]]},{"id":"a6f37b65.897a48","type":"template","z":"5f351f06.e29ef","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/createDot/out/{{payload}}\" onclick=\"clickAndDisable(this);\">{{payload}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":400,"wires":[["c2ca9206.dfb5f"]]},{"id":"a9e3e42d.8b7a88","type":"function","z":"5f351f06.e29ef","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":460,"wires":[["9258073a.fee798"]]},{"id":"9258073a.fee798","type":"join","z":"5f351f06.e29ef","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":750,"y":420,"wires":[["4063fd23.f8db24"]]},{"id":"9208b553.d48eb8","type":"delay","z":"5f351f06.e29ef","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1400,"y":400,"wires":[["a6f37b65.897a48"]]},{"id":"f4e3e9e9.71d328","type":"ui_template","z":"5f351f06.e29ef","group":"92a0682f.53fce8","name":"Data-table","order":1,"width":"24","height":"14","format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/createdotfromfasta\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">CREATE DOT FROM FASTA</font><br /></div>\n    <p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta\" type=\"file\" name=\"file\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"no\">NO</option>\n          <option value=\"yes\">YES</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":130,"y":360,"wires":[[]]},{"id":"482e3e5e.42751","type":"fs-ops-delete","z":"5f351f06.e29ef","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1110,"y":520,"wires":[[]]},{"id":"accc3420.56af88","type":"change","z":"5f351f06.e29ef","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":340,"wires":[["626b1b0d.b05b34"]]},{"id":"626b1b0d.b05b34","type":"ui_toast","z":"5f351f06.e29ef","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1410,"y":340,"wires":[[]]},{"id":"edd2ec46.fd755","type":"zip_folder","z":"5f351f06.e29ef","name":"","pathIn":"","pathOut":"","x":1400,"y":460,"wires":[["ea24542b.33e8a8"]]},{"id":"1279c13c.6e695f","type":"template","z":"5f351f06.e29ef","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":460,"wires":[["c2ca9206.dfb5f"]]},{"id":"ea24542b.33e8a8","type":"delay","z":"5f351f06.e29ef","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1560,"y":460,"wires":[["1279c13c.6e695f"]]},{"id":"2cb915aa.9d403a","type":"ui_text","z":"5f351f06.e29ef","group":"9f10dcdc.cce5b","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":130,"y":480,"wires":[]},{"id":"79b8b83.05b6f48","type":"delay","z":"5f351f06.e29ef","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1400,"y":520,"wires":[["d66481fa.b5b"]]},{"id":"d66481fa.b5b","type":"template","z":"5f351f06.e29ef","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":520,"wires":[["c2ca9206.dfb5f"]]},{"id":"4063fd23.f8db24","type":"create_dot_from_fasta","z":"5f351f06.e29ef","name":"","fasta":"","pathfolder":"","outputname":"","x":940,"y":420,"wires":[["accc3420.56af88","198a6fe4.e75d","482e3e5e.42751"]]},{"id":"92a0682f.53fce8","type":"ui_group","z":"","name":"CreateDotFromFasta","tab":"2f5849c6.6b57b6","order":1,"disp":false,"width":"27","collapse":false},{"id":"9f10dcdc.cce5b","type":"ui_group","z":"","name":"AuthMessage","tab":"2f5849c6.6b57b6","order":2,"disp":false,"width":"27","collapse":false},{"id":"2f5849c6.6b57b6","type":"ui_tab","z":"","name":"CreateDotFromFasta","icon":"dashboard","order":14,"disabled":false,"hidden":false}]
```

#### Complex Process

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/ComplexProcessIn.png) 

```json
[{"id":"69aa04a5.0a86dc","type":"tab","label":"Complex-Process","disabled":false,"info":""},{"id":"d497e3d6.9f0ca","type":"http in","z":"69aa04a5.0a86dc","name":"","url":"/process","method":"post","upload":true,"swaggerDoc":"","x":180,"y":340,"wires":[["a85300c.cd8bc","4bf1b9ee.4c0ea8","e9ce4cc7.b7227","993f4cc9.62fca","e0a320e1.392fa","3a2cca34.780226","25387cc6.294fb4","af977356.3ea51","1cc2e17.322d71f"]]},{"id":"4bf1b9ee.4c0ea8","type":"function","z":"69aa04a5.0a86dc","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.payload.outputname);\n//global.set(\"flanking\",msg.payload.flanking);\n\nvar msg1 = { payload: msg.req.files[2].buffer, filename: \"extractFromTopat/out/\" + msg.req.files[2].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromTopat/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":460,"y":500,"wires":[["b6b09653.f656f8"],["eb110ed4.e23c8"]]},{"id":"b6b09653.f656f8","type":"file","z":"69aa04a5.0a86dc","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":590,"y":440,"wires":[["d4106ff0.06fc9"]]},{"id":"993f4cc9.62fca","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload.fasta = \"extractFromTopat/out/\" + msg.req.files[0].originalname\nmsg.payload.tp = \"extractFromTopat/out/\" + msg.req.files[2].originalname\nmsg.payload.pathfolder = \"outputProcess/out\"\nmsg.payload.flanking = msg.payload.flanking\nmsg.payload.outputname = \"IR_\" + msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":740,"wires":[["c8ecf677.a15db8"]]},{"id":"1848a470.76897c","type":"ui_template","z":"69aa04a5.0a86dc","d":true,"group":"ad13600c.10388","name":"Data-table","order":1,"width":0,"height":0,"format":"<style>\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n      <center>\n    <form id=\"upload_form\" method=\"post\" enctype=\"multipart/form-data\">\n        <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Genoma File:&emsp;</label>\n      <input id=\"filefasta\" type=\"file\" name=\"filefasta\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"gtf\">GTF file:&emsp;</label>\n      <input id=\"filegtf\" type=\"file\" name=\"filegtf\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"irgtf\"> IR GTF file:&emsp;</label>\n      <input id=\"fileirgtf\" type=\"file\" name=\"fileirgtf\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" id=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"flanking\">Flanking:&emsp;</label>\n      <input type=\"text\" name=\"flanking\" id=\"flanking\" style=\"width: 200px; height: 20px\"/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"button\" value=\"Start\" onclick=\"uploadFile()\"> <br>\n      <progress id=\"progressBar\" value=\"0\" max=\"100\" style=\"width:300px;\"></progress>\n      <p id=\"status\"></p>\n    </form>\n    </center>\n    \n    <script>\n    function _(el){\n    return document.getElementById(el);\n}\nfunction uploadFile(){\n    var fileFasta = _(\"filefasta\").files[0];\n    var fileGTF = _(\"filegtf\").files[0];\n    var fileIRGTF = _(\"fileirgtf\").files[0];\n    var outputname = document.getElementById('outputname').value\n    var flanking = document.getElementById('flanking').value\n    var zip = document.getElementById('zip').value\n\n    var formdata = new FormData();\n    formdata.append(\"filefasta\", fileFasta);\n    formdata.append(\"filegtf\", fileGTF);\n    formdata.append(\"fileirgtf\", fileIRGTF);\n    formdata.append(\"outputname\", outputname);\n    formdata.append(\"flanking\", flanking);\n    formdata.append(\"zip\", zip);\n    var ajax = new XMLHttpRequest();\n    ajax.upload.addEventListener(\"progress\", progressHandler, false);\n    ajax.addEventListener(\"load\", completeHandler, false);\n    ajax.addEventListener(\"error\", errorHandler, false);\n    ajax.addEventListener(\"abort\", abortHandler, false);\n    ajax.open(\"POST\", \"/process\");\n    ajax.send(formdata);\n}\nfunction progressHandler(event){\n    var percent = (event.loaded / event.total) * 100;\n    _(\"progressBar\").value = Math.round(percent);\n    _(\"status\").innerHTML = Math.round(percent)+\"% uploaded... please wait\";\n}\nfunction completeHandler(event){\n    _(\"status\").innerHTML = \"Upload Done\";\n    _(\"progressBar\").value = 0;\n}\nfunction errorHandler(event){\n    _(\"status\").innerHTML = \"Upload Failed\";\n}\nfunction abortHandler(event){\n    _(\"status\").innerHTML = \"Upload Aborted\";\n}\n</script>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":170,"y":80,"wires":[[]]},{"id":"eb110ed4.e23c8","type":"file","z":"69aa04a5.0a86dc","name":"topat","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":590,"y":560,"wires":[["99730d0b.85c2a"]]},{"id":"c8ecf677.a15db8","type":"join","z":"69aa04a5.0a86dc","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"8","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":970,"y":540,"wires":[["28b9e8be.c03de8"]]},{"id":"d4106ff0.06fc9","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload = {\n    f1:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":740,"y":440,"wires":[["c8ecf677.a15db8"]]},{"id":"99730d0b.85c2a","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload = {\n    f2:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":740,"y":560,"wires":[["c8ecf677.a15db8"]]},{"id":"28b9e8be.c03de8","type":"extract_intron_using_bed_file_from_topat","z":"69aa04a5.0a86dc","name":"","fasta":"","tp":"","pathfolder":"","outputname":"","flanking":"","x":1220,"y":540,"wires":[["396a0241.ac32ce","a09946d9.70d698","2057fc0b.81d8e4","77b8b99.0d23948","67e50c2a.9fa994"]]},{"id":"a85300c.cd8bc","type":"function","z":"69aa04a5.0a86dc","name":"","func":"//msg.name = msg.req.files[0].originalname;\nglobal.set(\"name\",msg.payload.outputname);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"extractFromCUFF/out/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromCUFF/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":460,"y":220,"wires":[["809b4185.c9454"],["1fe64cee.470423"]]},{"id":"809b4185.c9454","type":"file","z":"69aa04a5.0a86dc","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":590,"y":160,"wires":[["114b444d.3af9fc"]]},{"id":"e9ce4cc7.b7227","type":"function","z":"69aa04a5.0a86dc","name":"","func":"//global.set(\"name\",msg.payload.outputname);\nmsg.payload.fasta = \"extractFromCUFF/out/\" + msg.req.files[0].originalname\nmsg.payload.cuff = \"extractFromCUFF/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"extractFromCUFF/out\"\nmsg.payload.flanking = msg.payload.flanking\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":40,"wires":[["288b31be.1e09ce"]]},{"id":"1fe64cee.470423","type":"file","z":"69aa04a5.0a86dc","name":"CUFF","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":590,"y":280,"wires":[["487f2ce4.360cb4"]]},{"id":"288b31be.1e09ce","type":"join","z":"69aa04a5.0a86dc","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"8","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":950,"y":140,"wires":[["ce110f2e.7c85"]]},{"id":"114b444d.3af9fc","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload = {\n    f1:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":740,"y":160,"wires":[["288b31be.1e09ce"]]},{"id":"487f2ce4.360cb4","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload = {\n    f2:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":740,"y":280,"wires":[["288b31be.1e09ce"]]},{"id":"ce110f2e.7c85","type":"extract_intron_from_cuff_gtf","z":"69aa04a5.0a86dc","name":"","fasta":"","cuff":"","pathfolder":"","outputname":"","flanking":"","x":1180,"y":140,"wires":[["847a17be.7ccf78","19db0c99.2f6493","8de1c2b3.a2074","86170aad.d0de78","b69584f5.56db88"]]},{"id":"19db0c99.2f6493","type":"fs-ops-delete","z":"69aa04a5.0a86dc","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1450,"y":40,"wires":[[]]},{"id":"8de1c2b3.a2074","type":"fs-ops-delete","z":"69aa04a5.0a86dc","name":"Delete Cuff","path":"","pathType":"str","filename":"payload.cuff","filenameType":"msg","x":1450,"y":80,"wires":[[]]},{"id":"2057fc0b.81d8e4","type":"fs-ops-delete","z":"69aa04a5.0a86dc","name":"Delete Topat","path":"","pathType":"str","filename":"payload.tp","filenameType":"msg","x":1470,"y":720,"wires":[[]]},{"id":"a09946d9.70d698","type":"fs-ops-delete","z":"69aa04a5.0a86dc","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1470,"y":660,"wires":[[]]},{"id":"847a17be.7ccf78","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload = {\n    fasta1: msg.payload.pathfolder + \"/\" + msg.payload.outputname\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1220,"y":300,"wires":[["e0a320e1.392fa"]]},{"id":"396a0241.ac32ce","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload = {\n    fasta2: msg.payload.pathfolder + \"/\" + msg.payload.outputname,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1220,"y":380,"wires":[["e0a320e1.392fa"]]},{"id":"e0a320e1.392fa","type":"join","z":"69aa04a5.0a86dc","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"5","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1410,"y":340,"wires":[["4a5c957a.a7391c","4f94239a.d7244c","9520b91a.c3deb8"]]},{"id":"7f0eebd5.9ae334","type":"function","z":"69aa04a5.0a86dc","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\n    if(msg.payload.zip===\"no\") {\n        msg.payload.path = \"/file/outputProcess/out/\"+msg.payload.outputname\n        msg.payload.fasta2 = \"/file/\"+msg.payload.fasta2\n        return[msg,null,null]\n    }\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outzip.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"outputProcess/out\"\n        msg.payload.pathOut = \"outputProcess/\"+msg.payload.outputname\n        return [null,msg,null]\n    }\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":2320,"y":340,"wires":[["eae66d47.68a96","38cfc8ac.49d1f8"],["20943bbe.0bea14"],["3ea0714f.072f8e"]]},{"id":"20943bbe.0bea14","type":"zip_folder","z":"69aa04a5.0a86dc","name":"","pathIn":"","pathOut":"","x":2520,"y":340,"wires":[["2b4ef969.3bc726","2e63d5a5.1a561a"]]},{"id":"eba925c3.554948","type":"remove_conting_from_fasta","z":"69aa04a5.0a86dc","name":"","fasta1":"","fasta2":"","pathfolder":"","outputname":"","x":1800,"y":340,"wires":[["efda103f.f0127","c9e72a30.7b6bd8","b613120d.fe0cf"]]},{"id":"4a5c957a.a7391c","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload.pathfolder = \"outputProcess/out\"\nmsg.payload.outzip = msg.payload.outputname\nmsg.payload.outputname = \"INR_\" + msg.payload.outputname\nmsg.payload.text = \"Remove contig from Fasta is processing...\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1580,"y":340,"wires":[["eba925c3.554948","8efdd13e.8f995"]]},{"id":"4f94239a.d7244c","type":"fs-ops-mkdir","z":"69aa04a5.0a86dc","name":"","path":"","pathType":"str","dirname":"removeFromFasta","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":1600,"y":280,"wires":[["769265f3.97466c"]]},{"id":"769265f3.97466c","type":"fs-ops-mkdir","z":"69aa04a5.0a86dc","name":"","path":"removeFromFasta/","pathType":"str","dirname":"out","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":1800,"y":280,"wires":[[]]},{"id":"77b8b99.0d23948","type":"json","z":"69aa04a5.0a86dc","name":"","property":"payload.stdout","action":"","pretty":true,"x":1670,"y":540,"wires":[["a6df621b.2d4e1","6a78a9b1.61f4b8"]]},{"id":"a6df621b.2d4e1","type":"ui_gauge","z":"69aa04a5.0a86dc","name":"","group":"8f4bdced.35e2f","order":5,"width":5,"height":3,"gtype":"gage","title":"Intron removed","label":"","format":"{{msg.payload.stdout.intron_removed}}","min":0,"max":"1","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1860,"y":540,"wires":[]},{"id":"6a78a9b1.61f4b8","type":"ui_gauge","z":"69aa04a5.0a86dc","name":"","group":"8f4bdced.35e2f","order":7,"width":5,"height":3,"gtype":"gage","title":"Total intron reteined","label":"","format":"{{msg.payload.stdout.total_intron_reteined}}","min":0,"max":"1","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1870,"y":580,"wires":[]},{"id":"86170aad.d0de78","type":"json","z":"69aa04a5.0a86dc","name":"","property":"payload.stdout","action":"","pretty":false,"x":1510,"y":140,"wires":[["d129a1bc.05c49","9281062a.4893a8","e17fd615.117628","283f4029.2cee1"]]},{"id":"e17fd615.117628","type":"ui_gauge","z":"69aa04a5.0a86dc","name":"","group":"8f4bdced.35e2f","order":27,"width":6,"height":3,"gtype":"gage","title":"Total intron found","label":"","format":"{{msg.payload.stdout.total_intron_foud}}","min":0,"max":"1","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1870,"y":140,"wires":[]},{"id":"9281062a.4893a8","type":"ui_gauge","z":"69aa04a5.0a86dc","name":"","group":"8f4bdced.35e2f","order":16,"width":5,"height":3,"gtype":"gage","title":"Total intron removed","label":"","format":"{{msg.payload.stdout.total_intron_removed}}","min":0,"max":"1","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1880,"y":180,"wires":[]},{"id":"283f4029.2cee1","type":"ui_text","z":"69aa04a5.0a86dc","group":"8f4bdced.35e2f","order":2,"width":8,"height":1,"name":"","label":"Intron Candidate","format":"{{msg.payload.stdout.candidate_intron}}","layout":"col-center","x":1870,"y":100,"wires":[]},{"id":"d129a1bc.05c49","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg = {ui_control:{max:msg.payload.stdout.candidate_intron}};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1600,"y":200,"wires":[["9281062a.4893a8","e17fd615.117628","a6df621b.2d4e1","6a78a9b1.61f4b8","5a8544a6.01a68c"]]},{"id":"38cfc8ac.49d1f8","type":"function","z":"69aa04a5.0a86dc","name":"Output_group","func":"msg = {};\nmsg.payload = { group: {\n    show : [\"ComplexProcess_Download\",\"ComplexProcess_Output\"],\n    hide : [\"ComplexProcess_Text\"]\n}\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2480,"y":480,"wires":[["de8ad467.e3fd68"]]},{"id":"de8ad467.e3fd68","type":"ui_ui_control","z":"69aa04a5.0a86dc","name":"Go to Group","events":"all","x":2770,"y":540,"wires":[[]]},{"id":"44169841.8d1718","type":"ui_ui_control","z":"69aa04a5.0a86dc","name":"Refresh page restore","events":"all","x":160,"y":440,"wires":[["8cc99890.3a29c8"]]},{"id":"8cc99890.3a29c8","type":"function","z":"69aa04a5.0a86dc","name":"","func":"if(msg.payload == \"connect\" || msg.payload == \"change\") {\n    msg.payload = { group: {\n    show : [\"ComplexProcess_Process\"],\n    hide : [\"ComplexProcess_Text\",\"ComplexProcess_Download\",\"ComplexProcess_Output\",\"ComplexProcess_Error\",\"ComplexProcess_Zip\"]\n}\n};\n    return msg;\n}\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":160,"y":520,"wires":[["574ff05f.c4fc8"]]},{"id":"574ff05f.c4fc8","type":"ui_ui_control","z":"69aa04a5.0a86dc","name":"","events":"all","x":160,"y":600,"wires":[[]]},{"id":"efda103f.f0127","type":"json","z":"69aa04a5.0a86dc","name":"","property":"payload.stdout","action":"","pretty":true,"x":1970,"y":260,"wires":[["5a8544a6.01a68c"]]},{"id":"5a8544a6.01a68c","type":"ui_gauge","z":"69aa04a5.0a86dc","name":"","group":"8f4bdced.35e2f","order":18,"width":5,"height":3,"gtype":"gage","title":"Total not reteined intron","label":"","format":"{{msg.payload.stdout.Total_Not_Reteined_Intron}}","min":0,"max":"1","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":2170,"y":200,"wires":[]},{"id":"168bfdc6.8f0c12","type":"ui_text","z":"69aa04a5.0a86dc","group":"882fbf32.10588","order":3,"width":8,"height":1,"name":"","label":"","format":"{{msg.payload}}","layout":"col-center","x":950,"y":300,"wires":[]},{"id":"3d203996.2af896","type":"ui_text","z":"69aa04a5.0a86dc","group":"882fbf32.10588","order":6,"width":8,"height":1,"name":"","label":"","format":"{{msg.payload}}","layout":"col-center","x":950,"y":380,"wires":[]},{"id":"25387cc6.294fb4","type":"function","z":"69aa04a5.0a86dc","name":"","func":"var msg1 = {payload:\"Extract intron from Astalavista is processing....\"}\nmsg.payload = \"Extract intron from CUFF is processing....\"\nreturn [msg,msg1]","outputs":2,"noerr":0,"initialize":"","finalize":"","x":740,"y":340,"wires":[["168bfdc6.8f0c12"],["3d203996.2af896"]]},{"id":"3a2cca34.780226","type":"function","z":"69aa04a5.0a86dc","name":"Redirection","func":"msg = {};\nmsg.payload = { group: {\n    show : [\"ComplexProcess_Text\"],\n    hide : [\"ComplexProcess_Process\"]\n}\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":150,"y":240,"wires":[["f3fc4100.6117a"]]},{"id":"f3fc4100.6117a","type":"ui_ui_control","z":"69aa04a5.0a86dc","name":"Go to Group","events":"all","x":150,"y":180,"wires":[[]]},{"id":"67e50c2a.9fa994","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload = \"Process Extract intron from Astalavista: DONE!\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1070,"y":460,"wires":[["3d203996.2af896"]]},{"id":"b69584f5.56db88","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload = \"Process Extract intron from CUFF: DONE!\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1040,"y":220,"wires":[["168bfdc6.8f0c12"]]},{"id":"eae66d47.68a96","type":"ui_template","z":"69aa04a5.0a86dc","group":"6dc617fd.6a1268","name":"Dowlnload","order":1,"width":24,"height":4,"format":"<script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <body>\n      <center>\n<h1>File Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"{{msg.payload.path}}\" onclick=\"clickAndDisable(this);\">Fasta Intron Not Retained</a> <br>\n    <a href=\"{{msg.payload.fasta2}}\" onclick=\"clickAndDisable(this);\">Fasta Intron Retained</a> <br>\n    <a href=\"{{msg.payload.path}}Plus\" onclick=\"clickAndDisable(this);\">Fasta Intron Not Retained PLUS</a> <br>\n    <a href=\"{{msg.payload.fasta2}}Plus\" onclick=\"clickAndDisable(this);\">Fasta Intron Retained PLUS</a>\n</div>\n</center>\n</body>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":false,"templateScope":"local","x":2790,"y":280,"wires":[[]]},{"id":"2b4ef969.3bc726","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload.path = \"/file/\"+msg.payload.pathOut\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2680,"y":340,"wires":[["8f9ef019.5b447"]]},{"id":"8efdd13e.8f995","type":"ui_text","z":"69aa04a5.0a86dc","group":"882fbf32.10588","order":9,"width":0,"height":0,"name":"","label":"","format":"{{msg.payload.text}}","layout":"col-center","x":1750,"y":860,"wires":[]},{"id":"af977356.3ea51","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload.text =\"\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":880,"wires":[["8efdd13e.8f995"]]},{"id":"c9e72a30.7b6bd8","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload.text = \"Process Remove contig from Fasta: DONE!\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2080,"y":720,"wires":[["8efdd13e.8f995"]]},{"id":"93240ece.92b4","type":"ui_template","z":"69aa04a5.0a86dc","group":"aa4af923.111738","name":"Error","order":1,"width":8,"height":3,"format":" <body>\n <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":2850,"y":400,"wires":[[]]},{"id":"3ea0714f.072f8e","type":"function","z":"69aa04a5.0a86dc","name":"Error_group","func":"msg.payload = { group: {\n    show : [\"ComplexProcess_Error\"],\n    hide : [\"ComplexProcess_Text\"]\n}}\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2530,"y":420,"wires":[["de8ad467.e3fd68"]]},{"id":"1cc2e17.322d71f","type":"fs-ops-mkdir","z":"69aa04a5.0a86dc","name":"","path":"","pathType":"str","dirname":"outputProcess","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":500,"y":800,"wires":[["1098ce3f.fe4662"]]},{"id":"1098ce3f.fe4662","type":"fs-ops-mkdir","z":"69aa04a5.0a86dc","name":"","path":"outputProcess/","pathType":"str","dirname":"out","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":700,"y":800,"wires":[[]]},{"id":"369a6e03.559282","type":"ui_text","z":"69aa04a5.0a86dc","group":"89851d32.591a9","order":1,"width":26,"height":9,"name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":150,"y":680,"wires":[]},{"id":"8f9ef019.5b447","type":"ui_template","z":"69aa04a5.0a86dc","group":"b04a68f2.7f0d08","name":"Zip","order":1,"width":24,"height":3,"format":"<script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <body>\n      <center>\n<h1>File Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"{{msg.payload.path}}\" onclick=\"clickAndDisable(this);\">{{msg.payload.outputname}}</a> <br>\n</div>\n</center>\n</body>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":2850,"y":340,"wires":[[]]},{"id":"2e63d5a5.1a561a","type":"function","z":"69aa04a5.0a86dc","name":"zip_group","func":"msg.payload = { group: {\n    show : [\"ComplexProcess_Zip\",\"ComplexProcess_Output\"],\n    hide : [\"ComplexProcess_Text\"]\n}}\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2620,"y":380,"wires":[["de8ad467.e3fd68"]]},{"id":"fb39ca0.f622738","type":"remove_conting_from_fasta","z":"69aa04a5.0a86dc","name":"","fasta1":"","fasta2":"","pathfolder":"","outputname":"","x":1800,"y":400,"wires":[["b181cb24.dada48"]]},{"id":"9520b91a.c3deb8","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload.pathfolder = \"outputProcess/out\"\nmsg.payload.outzip = msg.payload.outputname+\"Plus\"\nmsg.payload.outputname = \"INR_\" + msg.payload.outputname + \"Plus\"\nmsg.payload.fasta1 = msg.payload.fasta1 + \"Plus\"\nmsg.payload.fasta2 = msg.payload.fasta2 + \"Plus\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1580,"y":400,"wires":[["fb39ca0.f622738"]]},{"id":"b181cb24.dada48","type":"function","z":"69aa04a5.0a86dc","name":"","func":"msg.payload = {go:\"y\"}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2060,"y":400,"wires":[["b613120d.fe0cf"]]},{"id":"b613120d.fe0cf","type":"join","z":"69aa04a5.0a86dc","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"10","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2150,"y":340,"wires":[["7f0eebd5.9ae334"]]},{"id":"a5ea24e6.1cdc48","type":"ui_template","z":"69aa04a5.0a86dc","group":"ad13600c.10388","name":"","order":1,"width":0,"height":0,"format":"<!DOCTYPE html>\n<html>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<link href=\"https://fonts.googleapis.com/css?family=Raleway\" rel=\"stylesheet\">\n<style>\n* {\n  box-sizing: border-box;\n}\n\nbody {\n  background-color: #f1f1f1;\n}\n\n#regForm {\n  background-color: #ffffff;\n  margin: 100px auto;\n  font-family: Raleway;\n  padding: 40px;\n  width: 70%;\n  min-width: 300px;\n}\n\nh1 {\n  text-align: center;  \n}\n\ninput {\n  padding: 10px;\n  width: 100%;\n  font-size: 17px;\n  font-family: Raleway;\n  border: 1px solid #aaaaaa;\n}\n\n/* Mark input boxes that gets an error on validation: */\ninput.invalid {\n  background-color: #ffdddd;\n}\n\n/* Hide all steps by default: */\n.tab {\n  display: none;\n}\n\nbutton {\n  background-color: #4CAF50;\n  color: #ffffff;\n  border: none;\n  padding: 10px 20px;\n  font-size: 17px;\n  font-family: Raleway;\n  cursor: pointer;\n}\n\nbutton:hover {\n  opacity: 0.8;\n}\n\n#prevBtn {\n  background-color: #bbbbbb;\n}\n\n/* Make circles that indicate the steps of the form: */\n.step {\n  height: 15px;\n  width: 15px;\n  margin: 0 2px;\n  background-color: #bbbbbb;\n  border: none;  \n  border-radius: 50%;\n  display: inline-block;\n  opacity: 0.5;\n}\n\n.step.active {\n  opacity: 1;\n}\n\n/* Mark the steps that are finished and valid: */\n.step.finish {\n  background-color: #4CAF50;\n}\n</style>\n<body>\n\n<form id=\"regForm\" action=\"/step\" method=\"post\" enctype=\"multipart/form-data\">\n  <h1>Complex Process</h1>\n  <!-- One \"tab\" for each step in the form: -->\n  <div class=\"tab\">Insert Genoma file:\n    <p><input placeholder=\"Fasta File\" id=\"filefasta\" type=\"file\" name=\"filefasta\"  accept=\".fasta\" oninput=\"this.className = ''\"></p>\n  </div>\n  <div class=\"tab\">Insert CUFF file:\n    <p><input placeholder=\"Cuff File\" id=\"filegtf\" type=\"file\" name=\"filegtf\" oninput=\"this.className = ''\" accept=\".gtf\"></p>\n  </div>\n  <div class=\"tab\">Insert Astalavista file:\n    <p><input placeholder=\"Astalavista File\" id=\"fileirgtf\" type=\"file\" name=\"fileirgtf\" class=\"auto-style1\" accept=\".gtf\" oninput=\"this.className = ''\"></p>\n  </div>\n  <div class=\"tab\">Insert output options:\n    <p><input placeholder=\"Name...\" oninput=\"this.className = ''\" name=\"outputname\" id=\"outputname\"></p>\n    <p><input placeholder=\"Flanking... (OPTIONAL)\" name=\"flanking\" id=\"flanking\"></p>\n    <label for=\"zip\">Want zip the output (if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select> <br><br>\n  </div>\n  <div style=\"overflow:auto;\">\n    <div style=\"float:right;\">\n      <button type=\"button\" id=\"prevBtn\" onclick=\"nextPrev(-1)\">Previous</button>\n      <button type=\"button\" id=\"nextBtn\" onclick=\"nextPrev(1)\">Next</button>\n    </div>\n  </div>\n  <!-- Circles which indicates the steps of the form: -->\n  <div style=\"text-align:center;margin-top:40px;\">\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n  </div>\n  \n  <div style=\"text-align:center;margin-top:40px;\">\n      <progress id=\"progressBar\" value=\"0\" max=\"100\" style=\"width:300px;\"></progress>\n        <p id=\"status\"></p>\n  </div>\n</form>\n\n<script>\nvar currentTab = 0; // Current tab is set to be the first tab (0)\nshowTab(currentTab); // Display the current tab\n\nfunction showTab(n) {\n    document.getElementById(\"progressBar\").style.display = \"none\";\n  // This function will display the specified tab of the form...\n  var x = document.getElementsByClassName(\"tab\");\n  x[n].style.display = \"block\";\n  //... and fix the Previous/Next buttons:\n  if (n == 0) {\n    document.getElementById(\"prevBtn\").style.display = \"none\";\n  } else {\n    document.getElementById(\"prevBtn\").style.display = \"inline\";\n  }\n  if (n == (x.length - 1)) {\n    document.getElementById(\"nextBtn\").innerHTML = \"Submit\";\n  } else {\n    document.getElementById(\"nextBtn\").innerHTML = \"Next\";\n  }\n  //... and run a function that will display the correct step indicator:\n  fixStepIndicator(n)\n}\n\nfunction nextPrev(n) {\n  // This function will figure out which tab to display\n  var x = document.getElementsByClassName(\"tab\");\n  // Exit the function if any field in the current tab is invalid:\n  if (n == 1 && !validateForm()) return false;\n  // Hide the current tab:\n  x[currentTab].style.display = \"none\";\n  // Increase or decrease the current tab by 1:\n  currentTab = currentTab + n;\n  // if you have reached the end of the form...\n  if (currentTab >= x.length) {\n    // ... the form gets submitted:\n    //document.getElementById(\"regForm\").submit();\n     document.getElementById(\"progressBar\").style.display = \"inline\";\n    document.getElementById(\"prevBtn\").style.display = \"none\";\n    document.getElementById(\"nextBtn\").style.display = \"none\";\n    uploadFile();\n    return false;\n  }\n  // Otherwise, display the correct tab:\n  showTab(currentTab);\n}\n\nfunction validateForm() {\n  // This function deals with validation of the form fields\n  var x, y, i, valid = true;\n  x = document.getElementsByClassName(\"tab\");\n  y = x[currentTab].getElementsByTagName(\"input\");\n  // A loop that checks every input field in the current tab:\n  for (i = 0; i < y.length; i++) {\n    // If a field is empty...\n    if (y[i].value == \"\" && y[i].name != \"flanking\") {\n      // add an \"invalid\" class to the field:\n      y[i].className += \" invalid\";\n      // and set the current valid status to false\n      valid = false;\n    }\n  }\n  // If the valid status is true, mark the step as finished and valid:\n  if (valid) {\n    document.getElementsByClassName(\"step\")[currentTab].className += \" finish\";\n  }\n  return valid; // return the valid status\n}\n\nfunction fixStepIndicator(n) {\n  // This function removes the \"active\" class of all steps...\n  var i, x = document.getElementsByClassName(\"step\");\n  for (i = 0; i < x.length; i++) {\n    x[i].className = x[i].className.replace(\" active\", \"\");\n  }\n  //... and adds the \"active\" class on the current step:\n  x[n].className += \" active\";\n}\n\nfunction uploadFile(){\n    \n    var fileFasta = document.getElementById(\"filefasta\").files[0];\n    var fileGTF = document.getElementById(\"filegtf\").files[0];\n    var fileIRGTF = document.getElementById(\"fileirgtf\").files[0];\n    var outputname = document.getElementById('outputname').value\n    var flanking = document.getElementById('flanking').value\n    var zip = document.getElementById('zip').value\n\n    var formdata = new FormData();\n    formdata.append(\"filefasta\", fileFasta);\n    formdata.append(\"filegtf\", fileGTF);\n    formdata.append(\"fileirgtf\", fileIRGTF);\n    formdata.append(\"outputname\", outputname);\n    formdata.append(\"flanking\", flanking);\n    formdata.append(\"zip\", zip);\n    var ajax = new XMLHttpRequest();\n    ajax.upload.addEventListener(\"progress\", progressHandler, false);\n    ajax.addEventListener(\"load\", completeHandler, false);\n    ajax.addEventListener(\"error\", errorHandler, false);\n    ajax.addEventListener(\"abort\", abortHandler, false);\n    ajax.open(\"POST\", \"/process\");\n    ajax.send(formdata);\n}\n\nfunction progressHandler(event){\n    var percent = (event.loaded / event.total) * 100;\n    document.getElementById(\"progressBar\").value = Math.round(percent);\n    document.getElementById(\"status\").innerHTML = Math.round(percent)+\"% uploaded... please wait\";\n}\nfunction completeHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Done\";\n    document.getElementById(\"progressBar\").value = 0;\n}\nfunction errorHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Failed\";\n}\nfunction abortHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Aborted\";\n}\n</script>\n\n</body>\n</html>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":160,"y":120,"wires":[[]]},{"id":"ad13600c.10388","type":"ui_group","z":"","name":"Process","tab":"f743fdb8.db58f","order":1,"disp":false,"width":"24","collapse":false},{"id":"8f4bdced.35e2f","type":"ui_group","z":"","name":"Output","tab":"f743fdb8.db58f","order":5,"disp":false,"width":24,"collapse":false},{"id":"882fbf32.10588","type":"ui_group","z":"","name":"Text","tab":"f743fdb8.db58f","order":2,"disp":false,"width":8,"collapse":false},{"id":"6dc617fd.6a1268","type":"ui_group","z":"","name":"Download","tab":"f743fdb8.db58f","order":3,"disp":false,"width":"24","collapse":false},{"id":"aa4af923.111738","type":"ui_group","z":"","name":"Error","tab":"f743fdb8.db58f","order":6,"disp":false,"width":8,"collapse":false},{"id":"89851d32.591a9","type":"ui_group","z":"","name":"AuthMessage","tab":"f743fdb8.db58f","order":7,"disp":false,"width":"27","collapse":false},{"id":"b04a68f2.7f0d08","type":"ui_group","z":"","name":"Zip","tab":"f743fdb8.db58f","order":4,"disp":false,"width":24,"collapse":false},{"id":"f743fdb8.db58f","type":"ui_tab","z":"","name":"ComplexProcess","icon":"dashboard","order":16,"disabled":false,"hidden":false}]
```
#### Python Flow

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/Python.png) 

```json
[{"id":"d7c7d71d.3d11d8","type":"tab","label":"Python","disabled":false,"info":""},{"id":"b58d075f.ac6cf8","type":"ui_template","z":"d7c7d71d.3d11d8","group":"9128be89.18406","name":"Data-table","order":2,"width":18,"height":10,"format":"<html>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<link href=\"https://fonts.googleapis.com/css?family=Raleway\" rel=\"stylesheet\">\n<style>\n * {\n  box-sizing: border-box;\n}\n\nbody {\n  background-color: #f1f1f1;\n}\n\n#upload_form {\n  background-color: #ffffff;\n  margin: 100px auto;\n  font-family: Raleway;\n  padding: 40px;\n  width: 70%;\n  min-width: 300px;\n}\n\nh1 {\n  text-align: center;  \n}\n\ninput {\n  padding: 10px;\n  width: 100%;\n  font-size: 17px;\n  font-family: Raleway;\n  border: 1px solid #aaaaaa;\n}\n\nbutton {\n  background-color: #4CAF50;\n  color: #ffffff;\n  border: none;\n  padding: 10px 20px;\n  font-size: 17px;\n  font-family: Raleway;\n  cursor: pointer;\n}\n\nbutton:hover {\n  opacity: 0.8;\n}\n </style>\n <body>\n\n <form id=\"upload_form\" method=\"post\" enctype=\"multipart/form-data\">\n  <h1>Intron Classification Model</h1>\n  <!-- One \"tab\" for each step in the form: -->\n  <div class=\"tab\">Excel File:\n    <p><input id=\"fileexcel\" type=\"file\" name=\"fileexcel\" accept=\".xlsx\" required/></p>\n  </div>\n  \n  <div style=\"overflow:auto;\">\n    <div style=\"float:right;\">\n      <button type=\"button\" id=\"start\" onclick=\"uploadFile()\">Start</button>\n    </div>\n  </div>\n  \n  <div style=\"text-align:center;margin-top:40px;\">\n      <progress id=\"progressBar\" value=\"0\" max=\"100\" style=\"width:300px;\"></progress>\n        <p id=\"status\"></p>\n  </div>\n</form>\n    <script>\n    function _(el){\n    return document.getElementById(el);\n}\nfunction uploadFile(){\n    var fileFasta = _(\"fileexcel\").files[0];\n\n    var formdata = new FormData();\n    formdata.append(\"fileexcel\", fileFasta);\n    var ajax = new XMLHttpRequest();\n    ajax.upload.addEventListener(\"progress\", progressHandler, false);\n    ajax.addEventListener(\"load\", completeHandler, false);\n    ajax.addEventListener(\"error\", errorHandler, false);\n    ajax.addEventListener(\"abort\", abortHandler, false);\n    ajax.open(\"POST\", \"/python\");\n    ajax.send(formdata);\n}\nfunction progressHandler(event){\n    var percent = (event.loaded / event.total) * 100;\n    _(\"progressBar\").value = Math.round(percent);\n    _(\"status\").innerHTML = Math.round(percent)+\"% uploaded... please wait\";\n}\nfunction completeHandler(event){\n    _(\"status\").innerHTML = \"Upload Done\";\n    _(\"progressBar\").value = 0;\n}\nfunction errorHandler(event){\n    _(\"status\").innerHTML = \"Upload Failed\";\n}\nfunction abortHandler(event){\n    _(\"status\").innerHTML = \"Upload Aborted\";\n}\n</script>\n</body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":150,"y":100,"wires":[[]]},{"id":"9ba3c5c3.4b8f18","type":"http in","z":"d7c7d71d.3d11d8","name":"","url":"/python","method":"post","upload":true,"swaggerDoc":"","x":130,"y":180,"wires":[["1e4c2261.a7a36e","8f12ab16.da8e08","9d7b7df5.04c0a","6e257893.4afaa8"]]},{"id":"1e4c2261.a7a36e","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"python/\" + msg.req.files[0].originalname\n\nreturn [msg,null];","outputs":1,"noerr":0,"initialize":"","finalize":"","x":340,"y":220,"wires":[["1a6a5b3f.f19275"]]},{"id":"1a6a5b3f.f19275","type":"file","z":"d7c7d71d.3d11d8","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":470,"y":220,"wires":[["b8a26c5b.fd0b6"]]},{"id":"8f12ab16.da8e08","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload = {path:(\"python/\" + msg.req.files[0].originalname)}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":100,"wires":[["3406c73f.b9add8"]]},{"id":"b8a26c5b.fd0b6","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"msg.payload = {upload:\"yes\"}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":600,"y":220,"wires":[["3406c73f.b9add8"]]},{"id":"3406c73f.b9add8","type":"join","z":"d7c7d71d.3d11d8","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":730,"y":180,"wires":[["3829a7ec.e980e8"]]},{"id":"6ea0c465.6ad26c","type":"ui_text","z":"d7c7d71d.3d11d8","group":"2675649a.e6be4c","order":1,"width":24,"height":9,"name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":130,"y":240,"wires":[]},{"id":"a099d1f4.df65f","type":"python-function","z":"d7c7d71d.3d11d8","name":"","func":"import pandas as pd\nfrom sklearn.decomposition import PCA\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nimport json\n\n\npy_obj =json.dumps(msg)\nresp = json.loads(py_obj)\npath = resp['payload']\n\n#import the dataset\ndata=pd.read_excel(path)\nX=data.iloc[:,1:6] #11:20 senza phi\nY=data.iloc[:,0]\nY=np.ravel(Y)\ntrain_X, test_X, train_y, test_y = train_test_split(X, Y, random_state=1, stratify=Y)\nfrom sklearn.ensemble import AdaBoostClassifier\nfrom sklearn.tree import DecisionTreeClassifier, ExtraTreeClassifier\nfrom sklearn.linear_model import LogisticRegression\n#from sklearn.svm import SVC\nfrom sklearn.metrics import confusion_matrix, classification_report\n#we construct and fit our model to the training set\n##max_depth tells our model the structure of our trees\n##n_estimators specifies the total number of trees in the forest\n\n##DecisionTreeClassifier estimator \nclassifier = AdaBoostClassifier(\n    DecisionTreeClassifier(max_depth=2),\n    n_estimators=500, random_state=0,learning_rate=0.6,\n    algorithm=\"SAMME.R\")\n\n#classifier = AdaBoostClassifier(\n#SVC(probability=True , kernel='rbf'),\n#n_estimators=1000, random_state=0,learning_rate=0.6,\n#algorithm=\"SAMME.R\")\n\n####Support Vector Classification \n##with kernel rbf]]]\n#from sklearn.svm import SVC\n#svclassifier = SVC(kernel='rbf')\n#svclassifier.fit(train_X, train_y)\n#y_pred = svclassifier.predict(test_X)\n#from sklearn.metrics import classification_report\n#print(confusion_matrix(test_y,y_pred))\n#print(classification_report(test_y,y_pred))\n\n####LogisticRegression estimator \n#classifier = AdaBoostClassifier(\n#    LogisticRegression())\n\n####ExtraTreeClassifier estimator \n#classifier = AdaBoostClassifier(\n#   ExtraTreeClassifier())\n\n####SVC estimator\n#classifier = AdaBoostClassifier(\n# SVC(probability=True , kernel='linear'))\n\n####Undefined estimator, which corresponds to a decision stump, i.e.,\n#### a decision tree with max_depth=1 with a single decision node and two leaves\n#classifier = AdaBoostClassifier()\n\n#we fit our model to the training set\nclassifier.fit(train_X, train_y)\n#we use our model to make predictions\npredictions = classifier.predict(test_X)\n#probability predictions used to compute the ROC curve\npredictions_proba= classifier.predict_proba(test_X)\n#we compute the confusion matrix \nmatrix_adaboost=confusion_matrix(test_y, predictions)\nprint(matrix_adaboost)\n#we compute precision, recall, f1 score\nmsg = classification_report(test_y,predictions)\n#ROC curve\n#import scikitplot\n#scikitplot.metrics.plot_roc(test_y,predictions_proba,plot_micro=False,plot_macro=False)\n#DF = np.c_[X,Y]\n#import seaborn as sns\n#sns.pairplot(DF, hue=\"labels\")\n\n\nreturn msg","outputs":1,"x":1080,"y":180,"wires":[["dd119b0b.9196a8"]]},{"id":"3829a7ec.e980e8","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"var path = msg.payload.path\nmsg.payload = path\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":880,"y":180,"wires":[["a099d1f4.df65f"]]},{"id":"5f03f790.089788","type":"ui_text","z":"d7c7d71d.3d11d8","group":"53d952ff.4a1f4c","order":2,"width":18,"height":6,"name":"","label":"","format":"{{msg.payload}}","layout":"col-center","x":1470,"y":120,"wires":[]},{"id":"9d7b7df5.04c0a","type":"function","z":"d7c7d71d.3d11d8","name":"Output_group","func":"msg = {};\nmsg.payload = { group: {\n    show : [\"Python_Output\"],\n    hide : [\"Python_Form\"]\n}\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":340,"y":280,"wires":[["5a814f32.98c75"]]},{"id":"5a814f32.98c75","type":"ui_ui_control","z":"d7c7d71d.3d11d8","name":"Go to Group","events":"all","x":530,"y":360,"wires":[[]]},{"id":"5abbc93b.287458","type":"ui_ui_control","z":"d7c7d71d.3d11d8","name":"Refresh page restore","events":"all","x":160,"y":320,"wires":[["a2ce8346.453c"]]},{"id":"a2ce8346.453c","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"if(msg.payload == \"connect\" || msg.payload == \"change\") {\n    msg.payload = { group: {\n    show : [\"Python_Form\"],\n    hide : [\"Python_Output\"]\n}\n};\n    return msg;\n}\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":160,"y":400,"wires":[["fa686004.40447"]]},{"id":"fa686004.40447","type":"ui_ui_control","z":"d7c7d71d.3d11d8","name":"","events":"all","x":160,"y":480,"wires":[[]]},{"id":"dd119b0b.9196a8","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"var str = msg\nmsg = {payload: str}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1300,"y":180,"wires":[["5f03f790.089788"]]},{"id":"6e257893.4afaa8","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"msg.payload = \"Process in execution... Please wait.\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":40,"wires":[["5f03f790.089788"]]},{"id":"9128be89.18406","type":"ui_group","z":"","name":"Form","tab":"3bf1f0fd.6de7e","order":1,"disp":false,"width":"24","collapse":false},{"id":"2675649a.e6be4c","type":"ui_group","z":"","name":"AuthMessage","tab":"3bf1f0fd.6de7e","order":3,"disp":false,"width":"24","collapse":false},{"id":"53d952ff.4a1f4c","type":"ui_group","z":"","name":"Output","tab":"3bf1f0fd.6de7e","order":2,"disp":false,"width":"24","collapse":false},{"id":"3bf1f0fd.6de7e","type":"ui_tab","z":"","name":"Python","icon":"dashboard","order":13,"disabled":false,"hidden":false}]
```
#### Create Dataset

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/CreateDataset.png) 

```json
[{"id":"f2f9f979.79f0d8","type":"tab","label":"Create-Dataset","disabled":false,"info":""},{"id":"80c84a46.0d8ec8","type":"ui_template","z":"f2f9f979.79f0d8","group":"6975bb20.9b9194","name":"","order":1,"width":18,"height":13,"format":"<!DOCTYPE html>\n<html>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<link href=\"https://fonts.googleapis.com/css?family=Raleway\" rel=\"stylesheet\">\n<style>\n* {\n  box-sizing: border-box;\n}\n\nbody {\n  background-color: #f1f1f1;\n}\n\n#regForm {\n  background-color: #ffffff;\n  margin: 100px auto;\n  font-family: Raleway;\n  padding: 40px;\n  width: 70%;\n  min-width: 300px;\n}\n\nh1 {\n  text-align: center;  \n}\n\ninput {\n  padding: 10px;\n  width: 100%;\n  font-size: 17px;\n  font-family: Raleway;\n  border: 1px solid #aaaaaa;\n}\n\n/* Mark input boxes that gets an error on validation: */\ninput.invalid {\n  background-color: #ffdddd;\n}\n\n/* Hide all steps by default: */\n.tab {\n  display: none;\n}\n\nbutton {\n  background-color: #4CAF50;\n  color: #ffffff;\n  border: none;\n  padding: 10px 20px;\n  font-size: 17px;\n  font-family: Raleway;\n  cursor: pointer;\n}\n\nbutton:hover {\n  opacity: 0.8;\n}\n\n#prevBtn {\n  background-color: #bbbbbb;\n}\n\n/* Make circles that indicate the steps of the form: */\n.step {\n  height: 15px;\n  width: 15px;\n  margin: 0 2px;\n  background-color: #bbbbbb;\n  border: none;  \n  border-radius: 50%;\n  display: inline-block;\n  opacity: 0.5;\n}\n\n.step.active {\n  opacity: 1;\n}\n\n/* Mark the steps that are finished and valid: */\n.step.finish {\n  background-color: #4CAF50;\n}\n</style>\n<body>\n\n<form id=\"regForm\" action=\"/createdataset\" method=\"post\" enctype=\"multipart/form-data\">\n  <h1>Create Dateset Feature</h1>\n  <!-- One \"tab\" for each step in the form: -->\n  <div class=\"tab\">Introni retenuti Fasta:\n    <p><input placeholder=\"Fasta File\" id=\"fileirf\" type=\"file\" name=\"fileirf\"  accept=\".fasta\" oninput=\"this.className = ''\"></p>\n  </div>\n  <div class=\"tab\">Introni non retenuti Fasta:\n    <p><input placeholder=\"Fasta File\" id=\"fileinrf\" type=\"file\" name=\"fileinrf\" oninput=\"this.className = ''\" accept=\".fasta\"></p>\n  </div>\n  <div class=\"tab\">Introni retenuti Dot:\n    <p><input placeholder=\"Dot File\" id=\"fileird\" type=\"file\" name=\"fileird\" class=\"auto-style1\" accept=\".dot\" oninput=\"this.className = ''\"></p>\n    Introni non retenuti Dot:\n    <p><input placeholder=\"Dot File\" id=\"fileinrd\" type=\"file\" name=\"fileinrd\" class=\"auto-style1\" accept=\".dot\" oninput=\"this.className = ''\"></p>\n  </div>\n  <div class=\"tab\">Insert output options:\n  <p><label for=\"pNu\">pNu:</label>\n      <select id=\"pNu\" name=\"pNu\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select> </p>\n    <p><label for=\"kMir\">kMir:</label>\n      <select id=\"kMir\" name=\"kMir\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select> </p>\n    <p><label for=\"eNt\">eNt:</label>\n      <select id=\"eNt\" name=\"eNt\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select></p>\n    <p><input placeholder=\"nf\" oninput=\"this.className = ''\" name=\"nf\" id=\"nf\"></p>\n    <p><input placeholder=\"ni\" name=\"ni\" id=\"ni\"></p>\n    <p><input placeholder=\"nni\" name=\"nni\" id=\"nni\"></p>\n  </div>\n  <div style=\"overflow:auto;\">\n    <div style=\"float:right;\">\n      <button type=\"button\" id=\"prevBtn\" onclick=\"nextPrev(-1)\">Previous</button>\n      <button type=\"button\" id=\"nextBtn\" onclick=\"nextPrev(1)\">Next</button>\n    </div>\n  </div>\n  <!-- Circles which indicates the steps of the form: -->\n  <div style=\"text-align:center;margin-top:40px;\">\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n  </div>\n  \n  <div style=\"text-align:center;margin-top:40px;\">\n      <progress id=\"progressBar\" value=\"0\" max=\"100\" style=\"width:300px;\"></progress>\n        <p id=\"status\"></p>\n  </div>\n</form>\n\n<script>\nvar currentTab = 0; // Current tab is set to be the first tab (0)\nshowTab(currentTab); // Display the current tab\n\nfunction showTab(n) {\n    document.getElementById(\"progressBar\").style.display = \"none\";\n  // This function will display the specified tab of the form...\n  var x = document.getElementsByClassName(\"tab\");\n  x[n].style.display = \"block\";\n  //... and fix the Previous/Next buttons:\n  if (n == 0) {\n    document.getElementById(\"prevBtn\").style.display = \"none\";\n  } else {\n    document.getElementById(\"prevBtn\").style.display = \"inline\";\n  }\n  if (n == (x.length - 1)) {\n    document.getElementById(\"nextBtn\").innerHTML = \"Submit\";\n  } else {\n    document.getElementById(\"nextBtn\").innerHTML = \"Next\";\n  }\n  //... and run a function that will display the correct step indicator:\n  fixStepIndicator(n)\n}\n\nfunction nextPrev(n) {\n  // This function will figure out which tab to display\n  var x = document.getElementsByClassName(\"tab\");\n  // Exit the function if any field in the current tab is invalid:\n  if (n == 1 && !validateForm()) return false;\n  // Hide the current tab:\n  x[currentTab].style.display = \"none\";\n  // Increase or decrease the current tab by 1:\n  currentTab = currentTab + n;\n  // if you have reached the end of the form...\n  if (currentTab >= x.length) {\n    // ... the form gets submitted:\n    //document.getElementById(\"regForm\").submit();\n     document.getElementById(\"progressBar\").style.display = \"inline\";\n    document.getElementById(\"prevBtn\").style.display = \"none\";\n    document.getElementById(\"nextBtn\").style.display = \"none\";\n    document.getElementById(\"status\").style.display = \"none\";\n    document.getElementById(\"progressBar\").style.display = \"none\";\n    uploadFile();\n    return false;\n  }\n  // Otherwise, display the correct tab:\n  showTab(currentTab);\n}\n\nfunction validateForm() {\n  // This function deals with validation of the form fields\n  var x, y, i, valid = true;\n  x = document.getElementsByClassName(\"tab\");\n  y = x[currentTab].getElementsByTagName(\"input\");\n  // A loop that checks every input field in the current tab:\n  for (i = 0; i < y.length; i++) {\n    // If a field is empty...\n    if (y[i].value == \"\" && (y[i].name == \"fileirf\" || y[i].name == \"fileinrf\")) {\n      // add an \"invalid\" class to the field:\n      y[i].className += \" invalid\";\n      // and set the current valid status to false\n      valid = false;\n    }\n  }\n  // If the valid status is true, mark the step as finished and valid:\n  if (valid) {\n    document.getElementsByClassName(\"step\")[currentTab].className += \" finish\";\n  }\n  return valid; // return the valid status\n}\n\nfunction fixStepIndicator(n) {\n  // This function removes the \"active\" class of all steps...\n  var i, x = document.getElementsByClassName(\"step\");\n  for (i = 0; i < x.length; i++) {\n    x[i].className = x[i].className.replace(\" active\", \"\");\n  }\n  //... and adds the \"active\" class on the current step:\n  x[n].className += \" active\";\n}\n\nfunction uploadFile(){\n    var fileirf = document.getElementById(\"fileirf\").files[0];\n    var fileinrf = document.getElementById(\"fileinrf\").files[0];\n    var fileird = document.getElementById(\"fileird\").files[0];\n    var fileinrd = document.getElementById(\"fileinrd\").files[0];\n    var pNu = document.getElementById(\"pNu\").value;\n    var kMir = document.getElementById(\"kMir\").value;\n    var nf = document.getElementById(\"nf\").value;\n    var eNt = document.getElementById(\"eNt\").value;\n    var ni = document.getElementById(\"ni\").value;\n    var nni = document.getElementById(\"nni\").value;\n\n    var formdata = new FormData();\n    formdata.append(\"fileirf\", fileirf);\n    formdata.append(\"fileinrf\", fileinrf);\n    formdata.append(\"fileird\", fileird);\n    formdata.append(\"fileinrd\", fileinrd);\n    formdata.append(\"pNu\", pNu);\n    formdata.append(\"kMir\", kMir);\n    formdata.append(\"nf\", nf);\n    formdata.append(\"eNt\", eNt);\n    formdata.append(\"ni\", ni);\n    formdata.append(\"nni\", nni);\n    \n    var ajax = new XMLHttpRequest();\n    ajax.upload.addEventListener(\"progress\", progressHandler, false);\n    ajax.addEventListener(\"load\", completeHandler, false);\n    ajax.addEventListener(\"error\", errorHandler, false);\n    ajax.addEventListener(\"abort\", abortHandler, false);\n    ajax.open(\"POST\", \"/createdataset\");\n    ajax.send(formdata);\n}\n\nfunction progressHandler(event){\n    var percent = (event.loaded / event.total) * 100;\n    document.getElementById(\"progressBar\").value = Math.round(percent);\n    document.getElementById(\"status\").innerHTML = Math.round(percent)+\"% uploaded... please wait\";\n}\nfunction completeHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Done\";\n    document.getElementById(\"progressBar\").value = 0;\n}\nfunction errorHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Failed\";\n}\nfunction abortHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Aborted\";\n}\n</script>\n</body>\n</html>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":160,"y":320,"wires":[[]]},{"id":"44ca6394.593a6c","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = {\n    f1:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":300,"wires":[["c316f2b8.8bf4e"]]},{"id":"2e94dfd5.fe934","type":"http in","z":"f2f9f979.79f0d8","name":"","url":"/createdataset","method":"post","upload":true,"swaggerDoc":"","x":170,"y":380,"wires":[["51b2dc78.86f744","e3c5bad3.3a45a8"]]},{"id":"51b2dc78.86f744","type":"function","z":"f2f9f979.79f0d8","name":"","func":"//msg.name = msg.req.files[0].originalname;\nif(msg.req.files.length == 2) {\nglobal.set(\"name\",msg.payload.outputname);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"createDataset/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"createDataset/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1,null,null];\n}\nelse {\n    msg1 = { payload: msg.req.files[1].buffer, filename: \"createDataset/\" + msg.req.files[1].originalname};\n    var msg2 = { payload: msg.req.files[2].buffer, filename: \"createDataset/\" + msg.req.files[2].originalname};\n    var msg3 = { payload: msg.req.files[3].buffer, filename: \"createDataset/\" + msg.req.files[3].originalname};\n    msg.payload = msg.req.files[0].buffer\n    msg.filename = \"createDataset/\" + msg.req.files[0].originalname\n    \n    return [msg,msg1,msg2,msg3];\n}","outputs":4,"noerr":0,"initialize":"","finalize":"","x":380,"y":380,"wires":[["f6be787c.49a0d8"],["992cefcc.7c7ae"],["e047d770.74a1b8"],["22214537.d421ca"]]},{"id":"992cefcc.7c7ae","type":"file","z":"f2f9f979.79f0d8","name":"fasta2","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":550,"y":360,"wires":[["7cf48227.4f503c"]]},{"id":"f6be787c.49a0d8","type":"file","z":"f2f9f979.79f0d8","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":550,"y":300,"wires":[["44ca6394.593a6c"]]},{"id":"7cf48227.4f503c","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = {\n    f2:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":360,"wires":[["c316f2b8.8bf4e"]]},{"id":"e3c5bad3.3a45a8","type":"function","z":"f2f9f979.79f0d8","name":"","func":"//global.set(\"name\",msg.payload.outputname);\nif(msg.req.files.length == 2) {\n    msg.payload.fileirf = \"createDataset/\" + msg.req.files[0].originalname\n    msg.payload.fileinrf = \"createDataset/\" + msg.req.files[1].originalname\n    msg.payload.fileird = \"\"\n    msg.payload.fileinrd = \"\"\n    msg.payload.pathfolder = \"createDataset/out\"\n    return msg;\n}\nelse {\n    msg.payload.fileirf = \"createDataset/\" + msg.req.files[0].originalname\n    msg.payload.fileinrf = \"createDataset/\" + msg.req.files[1].originalname\n    msg.payload.fileird = \"createDataset/\" + msg.req.files[2].originalname\n    msg.payload.fileinrd = \"createDataset/\" + msg.req.files[3].originalname\n    msg.payload.pathfolder = \"createDataset/out\"\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":560,"y":220,"wires":[["c316f2b8.8bf4e"]]},{"id":"c316f2b8.8bf4e","type":"join","z":"f2f9f979.79f0d8","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"13","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":930,"y":320,"wires":[["7a4ccab5.c4d834","fb18ab06.368a28"]]},{"id":"7a4ccab5.c4d834","type":"create_dateset_feature","z":"f2f9f979.79f0d8","name":"","fileirf":"","fileinrf":"","fileird":"","fileinrd":"","pathfolder":"","pNu":"","kMir":"","nf":"","eNt":"","ni":"","nni":"","x":1150,"y":320,"wires":[["42166b7c.beb754"]]},{"id":"22214537.d421ca","type":"file","z":"f2f9f979.79f0d8","name":"dot2","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":550,"y":500,"wires":[["8284f95.9551608"]]},{"id":"e047d770.74a1b8","type":"file","z":"f2f9f979.79f0d8","name":"dot","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":550,"y":420,"wires":[["5548597a.fa22f8"]]},{"id":"8284f95.9551608","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = {\n    d2:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":500,"wires":[["c316f2b8.8bf4e"]]},{"id":"5548597a.fa22f8","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = {\n    d1:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":420,"wires":[["c316f2b8.8bf4e"]]},{"id":"259868f2.cb0908","type":"fs-ops-mkdir","z":"f2f9f979.79f0d8","name":"","path":"createDataset/","pathType":"str","dirname":"out","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":500,"y":600,"wires":[[]]},{"id":"d98e1b52.e29758","type":"fs-ops-mkdir","z":"f2f9f979.79f0d8","name":"","path":"","pathType":"str","dirname":"createDataset","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":500,"y":660,"wires":[["259868f2.cb0908"]]},{"id":"42166b7c.beb754","type":"function","z":"f2f9f979.79f0d8","name":"","func":"if(msg.payload.stdout==\"Error\"){\n    msg.payload = { group: {\n    show : [\"CreateDataset_Error\"],\n    hide : [\"CreateDataset_Text\",\"CreateDataset_Form\"]\n}}\n}\nelse {\n    msg.payload = { group: {\n    show : [\"CreateDataset_Text\"],\n    hide : [\"CreateDataset_Error\",\"CreateDataset_Form\"]\n}, text: \"Process successfully completed!\"}\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1380,"y":320,"wires":[["bc9eb84e.506cb8"]]},{"id":"bc9eb84e.506cb8","type":"ui_text","z":"f2f9f979.79f0d8","group":"2c11af70.0f302","order":1,"width":0,"height":0,"name":"","label":"","format":"{{msg.payload.text}}","layout":"col-center","x":1350,"y":480,"wires":[]},{"id":"d65f0e51.d8e5","type":"ui_template","z":"f2f9f979.79f0d8","group":"afc25dd5.9d13e","name":"Error","order":1,"width":24,"height":2,"format":" <body>\n <center>\n<h1>Process NOT Done !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1550,"y":400,"wires":[[]]},{"id":"ae589789.83d0e8","type":"ui_ui_control","z":"f2f9f979.79f0d8","name":"Refresh page restore","events":"all","x":160,"y":680,"wires":[["8644fdfd.006b1"]]},{"id":"8644fdfd.006b1","type":"function","z":"f2f9f979.79f0d8","name":"","func":"if(msg.payload == \"connect\" || msg.payload == \"change\") {\n    msg.payload = { group: {\n    show : [\"CreateDataset_Form\"],\n    hide : [\"CreateDataset_Error\",\"CreateDataset_Text\"]\n}, title: \"\"\n};\n    return msg;\n}\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":140,"y":780,"wires":[["fe44bbac.b34728","74101ca.9737ae4","d98e1b52.e29758"]]},{"id":"fe44bbac.b34728","type":"ui_ui_control","z":"f2f9f979.79f0d8","name":"","events":"all","x":160,"y":840,"wires":[[]]},{"id":"fb18ab06.368a28","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = { group: {\n    show : [\"CreateDataset_Text\"],\n    //hide : [\"R_Form\"]\n}, text: \"Proccess in execution.. It can have a long term, check the files in the folder.\"}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1040,"y":400,"wires":[["ae7b9d56.a0a33","bc9eb84e.506cb8"]]},{"id":"ae7b9d56.a0a33","type":"ui_ui_control","z":"f2f9f979.79f0d8","name":"","events":"all","x":1220,"y":400,"wires":[[]]},{"id":"aa2243fe.d89c2","type":"fs-ops-dir","z":"f2f9f979.79f0d8","name":"","path":"createDataset/out","pathType":"str","filter":"*","filterType":"str","dir":"payload","dirType":"msg","x":720,"y":740,"wires":[["c744c7f1.69a4f8"]]},{"id":"95feef23.b8682","type":"inject","z":"f2f9f979.79f0d8","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"str","x":540,"y":740,"wires":[["aa2243fe.d89c2"]]},{"id":"c744c7f1.69a4f8","type":"ui_list","z":"f2f9f979.79f0d8","group":"6975bb20.9b9194","name":"Lista File","order":3,"width":6,"height":6,"lineType":"two","actionType":"click","allowHTML":false,"outputs":1,"topic":"","x":930,"y":680,"wires":[["5f3cc215.8b00fc","74101ca.9737ae4"]]},{"id":"920d3181.dc534","type":"ui_text","z":"f2f9f979.79f0d8","group":"6975bb20.9b9194","order":2,"width":6,"height":1,"name":"","label":"","format":"File List","layout":"col-center","x":930,"y":640,"wires":[]},{"id":"5f3cc215.8b00fc","type":"fs-ops-stats","z":"f2f9f979.79f0d8","name":"","path":"createDataset/out","pathType":"str","filename":"payload.title","filenameType":"msg","stats":"stats","sizeType":"msg","x":1080,"y":680,"wires":[["d9fc176a.cad3d8"]]},{"id":"5c8fa524.1fd0cc","type":"ui_toast","z":"f2f9f979.79f0d8","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":true,"topic":"","name":"","x":1360,"y":620,"wires":[[]]},{"id":"d9fc176a.cad3d8","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = (\"Createation Date: \").bold() + msg.stats.birthtime + (\"Size: \").bold() + msg.stats.size + \" byte\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1180,"y":620,"wires":[["5c8fa524.1fd0cc"]]},{"id":"3a725b30.f6f5a4","type":"ui_template","z":"f2f9f979.79f0d8","group":"6975bb20.9b9194","name":"","order":4,"width":6,"height":2,"format":"<h5><a href=\"{{msg.payload}}\">Download</a></h5>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1220,"y":780,"wires":[[]]},{"id":"74101ca.9737ae4","type":"function","z":"f2f9f979.79f0d8","name":"","func":"if(msg.payload.title == '') {\n    msg.payload = \"\";\n}\nelse {\n    msg.payload = \"/file/createDataset/out/\" + msg.payload.title\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1060,"y":780,"wires":[["3a725b30.f6f5a4"]]},{"id":"a25e0f8f.c10c5","type":"ui_text","z":"f2f9f979.79f0d8","group":"982dcf6e.45f36","order":1,"width":"24","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":170,"y":440,"wires":[]},{"id":"6975bb20.9b9194","type":"ui_group","z":"","name":"Form","tab":"dcd6d1d.2fef53","order":3,"disp":false,"width":"24","collapse":false},{"id":"2c11af70.0f302","type":"ui_group","z":"","name":"Text","tab":"dcd6d1d.2fef53","order":1,"disp":false,"width":"24","collapse":false},{"id":"afc25dd5.9d13e","type":"ui_group","z":"","name":"Error","tab":"dcd6d1d.2fef53","order":2,"disp":false,"width":"24","collapse":false},{"id":"982dcf6e.45f36","type":"ui_group","z":"","name":"AuthMessage","tab":"dcd6d1d.2fef53","order":4,"disp":false,"width":"24","collapse":false},{"id":"dcd6d1d.2fef53","type":"ui_tab","z":"","name":"CreateDataset","icon":"dashboard","order":15,"disabled":false,"hidden":false}]
```
#### Login

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/Login.PNG)

```json
[{"id":"47f33c15.c23984","type":"tab","label":"Login","disabled":false,"info":""},{"id":"6f0bc1cb.63434","type":"ui_form","z":"47f33c15.c23984","name":"Dashboard Sign-In","label":"","group":"6717cb13.667b14","order":0,"width":"6","height":"8","options":[{"label":"username","value":"username","type":"text","required":true,"rows":null},{"label":"password","value":"password","type":"password","required":true,"rows":null}],"formValue":{"username":"","password":""},"payload":"","submit":"submit","cancel":"cancel","topic":"","x":250,"y":140,"wires":[["f01e22ca.947ef","a838dad5.42c908","d36e698c.456128"]]},{"id":"a70f3f15.8a6db","type":"debug","z":"47f33c15.c23984","name":"Debug Account Log ","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":818.0000915527344,"y":101.00000762939453,"wires":[]},{"id":"325319f5.7cb2e6","type":"comment","z":"47f33c15.c23984","name":"Sign-In Section","info":"","x":250.00000762939453,"y":82.99999618530273,"wires":[]},{"id":"f01e22ca.947ef","type":"function","z":"47f33c15.c23984","name":"Account Log","func":"var accountlog =  flow.get(\"accountlog\") || [] ; \n\naccountlog.push({ accessAt : new Date(), username : msg.payload.username})\n\nflow.set(\"accountlog\", accountlog);\n\nmsg.payload = accountlog;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":449.00000762939453,"y":109.99999618530273,"wires":[["a70f3f15.8a6db"]]},{"id":"a838dad5.42c908","type":"function","z":"47f33c15.c23984","name":"Account Verification","func":"var accounts =  flow.get(\"accounts\") || [ { username : \"admin\", password : \"admin\"},{ username : \"guest\", password : \"guest\"}] ; \n\nvar username = msg.payload.username ;\nvar password = msg.payload.password ; \n\nmsg.payload = 1;\n\naccounts.forEach(function ( account ){\n    if ( account.username == username ) {\n       msg.payload = 2;\n       if ( account.password == password ) {\n           msg.payload = 0;\n       } \n    }\n});\n\n/*if ( msg.payload === 0 ) {\n  var currentsocketid = flow.get(\"clientid\") || undefined;\n  if ( currentsocketid !== undefined && currentsocketid !== msg.socketid ) msg.payload = 3;\n}*/\n// keep the original socketid from msg.socketid;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":462.0000457763672,"y":155.0000057220459,"wires":[["3b7388c7.6f4638"]]},{"id":"3b7388c7.6f4638","type":"switch","z":"47f33c15.c23984","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"str"},{"t":"eq","v":"1","vt":"str"},{"t":"eq","v":"2","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":631.0000419616699,"y":185.9999885559082,"wires":[["e95c98f4.45a9f8"],["e9573277.073fa"],["c07beb81.200688"]]},{"id":"e95c98f4.45a9f8","type":"function","z":"47f33c15.c23984","name":"= 0 : Success","func":"/* activate session timer */\nvar sessionTimer =  flow.get(\"sessionTimer\") || 0; \nvar currTime = Date.now();\nflow.set(\"sessionTimer\", currTime);\nflow.set(\"clientid\", msg.socketid);\n/* ui-control payload */\nmsg.payload = { group: {\n    show : [\"CreateDataset_Form\",\"Python_Form\",\"ComplexProcess_Process\",\"IncrementFasta_IncrementFasta\", \"ExtractFromCUFF_ExtractFromCUFF\",\"RemoveFromFasta_RemoveFromFasta\",\"ExtractFromTopat_ExtractFromTopat\", \"MergeFasta_MergeFasta\",\"RemoveNucleotides_RemoveNucleotides\", \"ExtractFromAugustus_ExtractFromAugustus\", \"ExtractFromStringTie_ExtractFromStringTie\", \"CreateDotFromFasta_CreateDotFromFasta\", \"Dashboard_Signout\"],\n    hide : [\"CreateDataset_AuthMessage\",\"Python_AuthMessage\",\"ComplexProcess_AuthMessage\",\"Dashboard_Signin\", \"IncrementFasta_AuthMessage\", \"ExtractFromCUFF_AuthMessage\",\"ExtractFromTopat_AuthMessage\",\"RemoveFromFasta_AuthMessage\", \"MergeFasta_AuthMessage\",\"RemoveNucleotides_AuthMessage\",\"ExtractFromAugustus_AuthMessage\", \"ExtractFromStringTie_AuthMessage\", \"CreateDotFromFasta_AuthMessage\"]\n    }\n};\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":800.999885559082,"y":141.99999809265137,"wires":[["1e0eae6f.26b7c2"]]},{"id":"e9573277.073fa","type":"function","z":"47f33c15.c23984","name":"= 1 : Unknown User","func":"msg.payload = \"Username Doesn't exist!!!\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":821.9998931884766,"y":179,"wires":[["26d169f2.21b4d6"]]},{"id":"c07beb81.200688","type":"function","z":"47f33c15.c23984","name":"= 2 : Wrong Password","func":"msg.payload = \"Invalid Password\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":822.9999618530273,"y":216.0000123977661,"wires":[["26d169f2.21b4d6"]]},{"id":"1e0eae6f.26b7c2","type":"ui_ui_control","z":"47f33c15.c23984","name":"Go to App Groups","events":"all","x":1058.0000686645508,"y":141.9999942779541,"wires":[[]]},{"id":"26d169f2.21b4d6","type":"ui_toast","z":"47f33c15.c23984","position":"dialog","displayTime":"3","highlight":"","outputs":1,"ok":"OK","cancel":"","topic":"Authentication Failed","name":"Authentication Failure Dialog","x":1087.9999732971191,"y":199,"wires":[[]]},{"id":"7fb6288f.5430b8","type":"ui_ui_control","z":"47f33c15.c23984","name":"Go to Signin Group","x":610,"y":360,"wires":[[]]},{"id":"6ad42c67.fbaf34","type":"function","z":"47f33c15.c23984","name":"Sign-In Redirection","func":"msg = {};\n\nmsg.socketid = flow.get(\"clientid\") || undefined;\nmsg.payload = { group: {\n    show : [\"CreateDataset_AuthMessage\",\"Python_AuthMessage\",\"ComplexProcess_AuthMessage\",\"Dashboard_Signin\", \"IncrementFasta_AuthMessage\", \"ExtractFromCUFF_AuthMessage\",\"ExtractFromTopat_AuthMessage\",\"MergeFasta_AuthMessage\",\"RemoveFromFasta_AuthMessage\",\"RemoveNucleotides_AuthMessage\", \"ExtractFromAugustus_AuthMessage\", \"ExtractFromStringTie_AuthMessage\", \"CreateDotFromFasta_AuthMessage\"],\n    hide : [\"CreateDataset_Form\",\"Python_Form\",\"ComplexProcess_Process\",\"IncrementFasta_IncrementFasta\", \"ExtractFromCUFF_ExtractFromCUFF\",\"RemoveFromFasta_RemoveFromFasta\",\"ExtractFromTopat_ExtractFromTopat\",\"MergeFasta_MergeFasta\",\"RemoveNucleotides_RemoveNucleotides\", \"ExtractFromAugustus_ExtractFromAugustus\", \"ExtractFromStringTie_ExtractFromStringTie\", \"CreateDotFromFasta_CreateDotFromFasta\",\"Dashboard_Signout\"]\n}\n};\nflow.set(\"sessionTimer\", 0);\n\nflow.set(\"clientid\", undefined);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":390,"y":360,"wires":[["7fb6288f.5430b8"]]},{"id":"d36e698c.456128","type":"debug","z":"47f33c15.c23984","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":431.5000419616699,"y":220.5347557067871,"wires":[]},{"id":"c85972e3.fe7e5","type":"ui_button","z":"47f33c15.c23984","name":"Signout","group":"eac2a716.8bf7e8","order":2,"width":0,"height":0,"passthru":false,"label":"Log Out","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":220,"y":360,"wires":[["6ad42c67.fbaf34"]]},{"id":"89f60525.f831b8","type":"comment","z":"47f33c15.c23984","name":"Session Management - 1 h","info":"","x":250,"y":440,"wires":[]},{"id":"f9346371.3d342","type":"inject","z":"47f33c15.c23984","name":"Session Timeout","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"0.1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":210,"y":540,"wires":[["e842b731.198fb8","5fb61ab5.ae28e4"]]},{"id":"e842b731.198fb8","type":"function","z":"47f33c15.c23984","name":"Detect Session Timer","func":"var sessionTimer =  flow.get(\"sessionTimer\") || 0; \nvar currTime = Date.now();\nvar SESSION_TIMEOUT = 3600000; //1h\n\n\nif ( sessionTimer === 0 /* Inactive, No user signed in */ ) {\n    msg.payload = 2;\n} else {\n    if ( currTime - sessionTimer > SESSION_TIMEOUT ) {\n      msg.payload = 0;  \n    } else {\n      msg.payload = 1;        \n    }\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":406.50003814697266,"y":495,"wires":[["97d5270d.b02268"]]},{"id":"97d5270d.b02268","type":"switch","z":"47f33c15.c23984","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"str"},{"t":"eq","v":"1","vt":"str"},{"t":"eq","v":"2","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":576.500072479248,"y":493,"wires":[["d18dad5c.62776"],[],["225270f6.e608a"]]},{"id":"d18dad5c.62776","type":"function","z":"47f33c15.c23984","name":"Time-Out","func":"/* activate session timer */\nvar sessionTimer =  flow.get(\"sessionTimer\") || 0; \nflow.set(\"sessionTimer\", 0);\n\nmsg.socketid = flow.get(\"clientid\") || undefined;\nmsg.payload = \"Session Expired! Please singin again!\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":732.4999847412109,"y":466.00000381469727,"wires":[["be9177f1.d52bf8","6e06b78.3cdd848"]]},{"id":"be9177f1.d52bf8","type":"ui_toast","z":"47f33c15.c23984","position":"dialog","displayTime":"3","highlight":"","outputs":1,"ok":"OK","cancel":"","topic":"Session Timeout","name":"Time-Out Dialog","x":920.000114440918,"y":432.00000381469727,"wires":[[]]},{"id":"3d09cda.9513032","type":"ui_ui_control","z":"47f33c15.c23984","name":"Go to Signin Group","events":"all","x":1130,"y":480,"wires":[[]]},{"id":"6e06b78.3cdd848","type":"function","z":"47f33c15.c23984","name":"Sign-In Redirection","func":"msg = {};\n\nmsg.socketid = flow.get(\"clientid\") || undefined;\nmsg.payload = { group: {\n    show : [\"CreateDataset_AuthMessage\",\"Python_AuthMessage\",\"ComplexProcess_AuthMessage\",\"Dashboard_Signin\", \"IncrementFasta_AuthMessage\", \"ExtractFromCUFF_AuthMessage\",\"ExtractFromTopat_AuthMessage\",\"MergeFasta_AuthMessage\",\"RemoveFromFasta_AuthMessage\",\"RemoveNucleotides_AuthMessage\", \"ExtractFromAugustus_AuthMessage\", \"ExtractFromStringTie_AuthMessage\", \"CreateDotFromFasta_AuthMessage\"],\n    hide : [\"CreateDataset_Form\",\"Python_Form\",\"ComplexProcess_Process\",\"IncrementFasta_IncrementFasta\", \"ExtractFromCUFF_ExtractFromCUFF\",\"RemoveFromFasta_RemoveFromFasta\",\"ExtractFromTopat_ExtractFromTopat\",\"MergeFasta_MergeFasta\",\"RemoveNucleotides_RemoveNucleotides\", \"ExtractFromAugustus_ExtractFromAugustus\", \"ExtractFromStringTie_ExtractFromStringTie\", \"CreateDotFromFasta_CreateDotFromFasta\",\"Dashboard_Signout\"]\n}\n};\n\nflow.set(\"clientid\", undefined);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":930,"y":480,"wires":[["3d09cda.9513032"]]},{"id":"5fb61ab5.ae28e4","type":"function","z":"47f33c15.c23984","name":"Calculating Remaining Time (Debug)","func":"var sessionTimer =  flow.get(\"sessionTimer\") || 0; \nvar currTime = Date.now();\nvar remainingSecs = Math.floor((3600000 - (currTime - sessionTimer))/1000) + 1;\n    \nif ( sessionTimer === 0 /* Inactive, No user signed in */ ) {\n    return null;\n} else {\n    \n    if ( remainingSecs <= 7 ) msg.payload = \"Remaining : \" + remainingSecs + \" secs\";  \n    else return null;\n}\n\nmsg.socketid = flow.get(\"clientid\") || \"B1234\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":456.5000305175781,"y":583.0000123977661,"wires":[[]]},{"id":"225270f6.e608a","type":"function","z":"47f33c15.c23984","name":"Signin Goup","func":"msg = {};\nmsg.payload = { group: {\n   show : [\"CreateDataset_AuthMessage\",\"Python_AuthMessage\",\"ComplexProcess_AuthMessage\",\"Dashboard_Signin\", \"IncrementFasta_AuthMessage\", \"ExtractFromCUFF_AuthMessage\",\"ExtractFromTopat_AuthMessage\",\"MergeFasta_AuthMessage\",\"RemoveFromFasta_AuthMessage\",\"RemoveNucleotides_AuthMessage\", \"ExtractFromAugustus_AuthMessage\", \"ExtractFromStringTie_AuthMessage\", \"CreateDotFromFasta_AuthMessage\"],\n    hide : [\"CreateDataset_Form\",\"Python_Form\",\"ComplexProcess_Process\",\"IncrementFasta_IncrementFasta\", \"ExtractFromCUFF_ExtractFromCUFF\",\"RemoveFromFasta_RemoveFromFasta\",\"ExtractFromTopat_ExtractFromTopat\",\"MergeFasta_MergeFasta\",\"RemoveNucleotides_RemoveNucleotides\", \"ExtractFromAugustus_ExtractFromAugustus\", \"ExtractFromStringTie_ExtractFromStringTie\", \"CreateDotFromFasta_CreateDotFromFasta\",\"Dashboard_Signout\"]\n}\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":730,"y":540,"wires":[["1c7976c4.1dcb79"]]},{"id":"1c7976c4.1dcb79","type":"ui_ui_control","z":"47f33c15.c23984","name":"Go to Signin Group","events":"all","x":950,"y":540,"wires":[[]]},{"id":"ccd0f1e6.2b009","type":"ui_text","z":"47f33c15.c23984","group":"eac2a716.8bf7e8","order":1,"width":0,"height":0,"name":"SignoutText","label":"YOU ARE CORRECTLY LOGGED IN","format":"Click here to log out.","layout":"col-center","x":230,"y":300,"wires":[]},{"id":"6717cb13.667b14","type":"ui_group","z":"","name":"Signin","tab":"5d159711.018ea8","order":1,"disp":true,"width":"6","collapse":false},{"id":"eac2a716.8bf7e8","type":"ui_group","z":"","name":"Signout","tab":"5d159711.018ea8","order":2,"disp":false,"width":"6","collapse":false},{"id":"5d159711.018ea8","type":"ui_tab","z":"","name":"Dashboard","icon":"dashboard","order":1}]
```
#### GetFile

![N|Solid](https://github.com/leonardovito/node-red-biounicam-tool/blob/master/.img_Flows/GetFile.PNG)

```json
[{"id":"91640969.c309e8","type":"tab","label":"GetFile","disabled":false,"info":""},{"id":"2708d391.56816c","type":"function","z":"91640969.c309e8","name":"Set base path","func":"msg.filename = msg.req.params.dir + \"/out/\" + msg.req.params.name\nmsg.payload = msg.filename\nreturn [msg, null];","outputs":1,"noerr":0,"initialize":"","finalize":"","x":360,"y":100,"wires":[["9362f573.f2ba38","2058233.3dbbcdc"]]},{"id":"da93d2b.b20353","type":"http response","z":"91640969.c309e8","name":"","statusCode":"","headers":{},"x":870,"y":100,"wires":[]},{"id":"9362f573.f2ba38","type":"file in","z":"91640969.c309e8","name":"","filename":"","format":"","chunk":false,"sendError":false,"encoding":"none","x":590,"y":100,"wires":[["da93d2b.b20353","967ae5dd.1101c8"]]},{"id":"2aeb4769.169598","type":"catch","z":"91640969.c309e8","name":"","scope":null,"uncaught":false,"x":900,"y":220,"wires":[["61d47db1.595244","551f543c.eb776c"]]},{"id":"61d47db1.595244","type":"function","z":"91640969.c309e8","name":"Set 404","func":"msg.payload = msg.error;\nmsg.statusCode = 404;//resource not found\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1100,"y":220,"wires":[["da93d2b.b20353"]]},{"id":"551f543c.eb776c","type":"debug","z":"91640969.c309e8","name":"msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":1010,"y":280,"wires":[]},{"id":"e967e75.ac04918","type":"http in","z":"91640969.c309e8","name":"","url":"/file/:dir/out/:name","method":"get","upload":false,"swaggerDoc":"","x":140,"y":100,"wires":[["2708d391.56816c"]]},{"id":"8d608aed.f16798","type":"fs-ops-delete","z":"91640969.c309e8","name":"","path":"","pathType":"str","filename":"filename","filenameType":"msg","x":570,"y":280,"wires":[[]]},{"id":"967ae5dd.1101c8","type":"function","z":"91640969.c309e8","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":160,"wires":[["2058233.3dbbcdc"]]},{"id":"2058233.3dbbcdc","type":"join","z":"91640969.c309e8","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":510,"y":220,"wires":[["8d608aed.f16798"]]},{"id":"160ff705.cba5a9","type":"function","z":"91640969.c309e8","name":"Set base path","func":"msg.filename = msg.req.params.dir + \"/\" + msg.req.params.name\nmsg.payload = msg.filename\nreturn [msg, null];","outputs":1,"noerr":0,"initialize":"","finalize":"","x":360,"y":380,"wires":[["c3ecc1b3.cb2e6","fa30607b.a2309"]]},{"id":"c24b631.516d4a","type":"http response","z":"91640969.c309e8","name":"","statusCode":"","headers":{},"x":870,"y":380,"wires":[]},{"id":"c3ecc1b3.cb2e6","type":"file in","z":"91640969.c309e8","name":"","filename":"","format":"","chunk":false,"sendError":false,"encoding":"none","x":590,"y":380,"wires":[["c24b631.516d4a","48fb4176.1796e"]]},{"id":"5083993f.468f38","type":"catch","z":"91640969.c309e8","name":"","scope":null,"uncaught":false,"x":900,"y":500,"wires":[["3dc42d5e.18b4b2","bc22c1a3.0e641"]]},{"id":"3dc42d5e.18b4b2","type":"function","z":"91640969.c309e8","name":"Set 404","func":"msg.payload = msg.error;\nmsg.statusCode = 404;//resource not found\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1100,"y":500,"wires":[["c24b631.516d4a"]]},{"id":"bc22c1a3.0e641","type":"debug","z":"91640969.c309e8","name":"msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":1010,"y":560,"wires":[]},{"id":"7d4e03f9.d411ac","type":"http in","z":"91640969.c309e8","name":"","url":"/file/:dir/:name","method":"get","upload":false,"swaggerDoc":"","x":130,"y":380,"wires":[["160ff705.cba5a9"]]},{"id":"8f05729d.449b6","type":"fs-ops-delete","z":"91640969.c309e8","name":"","path":"","pathType":"str","filename":"filename","filenameType":"msg","x":570,"y":560,"wires":[[]]},{"id":"48fb4176.1796e","type":"function","z":"91640969.c309e8","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":440,"wires":[["fa30607b.a2309"]]},{"id":"fa30607b.a2309","type":"join","z":"91640969.c309e8","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":510,"y":500,"wires":[["8f05729d.449b6"]]}]
```
#### All Flows Together

```json
[{"id":"1a68a6c3.21c2f9","type":"tab","label":"Form-Increment-Fasta","disabled":false,"info":""},{"id":"f5a2918c.826dd","type":"http in","z":"1a68a6c3.21c2f9","name":"","url":"/incrementfasta","method":"post","upload":true,"swaggerDoc":"","x":180,"y":420,"wires":[["60a511f7.b9104","a87e1d16.e2dda"]]},{"id":"60a511f7.b9104","type":"function","z":"1a68a6c3.21c2f9","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"incrementFasta/out/\" + msg.req.files[0].originalname\n\nreturn [msg,null];","outputs":1,"noerr":0,"initialize":"","finalize":"","x":360,"y":460,"wires":[["eff8585b.cb5d98"]]},{"id":"a280826f.6c109","type":"http response","z":"1a68a6c3.21c2f9","name":"","statusCode":"","headers":{},"x":1970,"y":460,"wires":[]},{"id":"eff8585b.cb5d98","type":"file","z":"1a68a6c3.21c2f9","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":490,"y":460,"wires":[["b7328ec8.97a0f"]]},{"id":"ccc3f903.a94768","type":"increment_fasta_contig","z":"1a68a6c3.21c2f9","name":"","fasta":"","pathfolder":"","outputname":"","x":970,"y":420,"wires":[["8c1be5d1.c04b78","4b494a80.224564","78fe3251.ddf33c"]]},{"id":"a87e1d16.e2dda","type":"function","z":"1a68a6c3.21c2f9","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload.fasta = \"incrementFasta/out/\" + msg.req.files[0].originalname\nmsg.payload.pathfolder = \"incrementFasta/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":340,"wires":[["237d3da4.6af6b2"]]},{"id":"8c1be5d1.c04b78","type":"function","z":"1a68a6c3.21c2f9","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\nif(msg.payload.zip===\"no\") {\n    msg.payload = msg.payload.outputname\n    return[msg,null,null]\n}\nelse if(msg.payload.zip===\"yes\") {\n    msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n    msg.payload.pathIn = \"incrementFasta/out\"\n    msg.payload.pathOut = \"incrementFasta/\"+msg.payload.outputname\n    return [null,msg,null]\n}\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1200,"y":440,"wires":[["6fe39ff7.e8e9c"],["da4e5f8a.0f32"],["54176ae5.151314"]]},{"id":"fc8b3db1.e1238","type":"template","z":"1a68a6c3.21c2f9","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/incrementFasta/out/{{payload}}\" onclick=\"clickAndDisable(this);\">{{payload}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":400,"wires":[["a280826f.6c109"]]},{"id":"b7328ec8.97a0f","type":"function","z":"1a68a6c3.21c2f9","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":460,"wires":[["237d3da4.6af6b2"]]},{"id":"237d3da4.6af6b2","type":"join","z":"1a68a6c3.21c2f9","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":750,"y":420,"wires":[["ccc3f903.a94768"]]},{"id":"6fe39ff7.e8e9c","type":"delay","z":"1a68a6c3.21c2f9","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1400,"y":400,"wires":[["fc8b3db1.e1238"]]},{"id":"1b1c28af.ea3d27","type":"ui_template","z":"1a68a6c3.21c2f9","group":"cf6f06d7.103268","name":"Data-table","order":3,"width":"24","height":"14","format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/incrementfasta\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">INCREMENT FASTA FILE</font><br /></div>\n    <p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta\" type=\"file\" name=\"file\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":170,"y":360,"wires":[[]]},{"id":"4b494a80.224564","type":"fs-ops-delete","z":"1a68a6c3.21c2f9","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1110,"y":520,"wires":[[]]},{"id":"78fe3251.ddf33c","type":"change","z":"1a68a6c3.21c2f9","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":340,"wires":[["6644a2ac.8141dc"]]},{"id":"6644a2ac.8141dc","type":"ui_toast","z":"1a68a6c3.21c2f9","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1410,"y":340,"wires":[[]]},{"id":"da4e5f8a.0f32","type":"zip_folder","z":"1a68a6c3.21c2f9","name":"","pathIn":"","pathOut":"","x":1400,"y":460,"wires":[["b762de46.b6e54"]]},{"id":"4e1befe4.d47df","type":"template","z":"1a68a6c3.21c2f9","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":460,"wires":[["a280826f.6c109"]]},{"id":"b762de46.b6e54","type":"delay","z":"1a68a6c3.21c2f9","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1560,"y":460,"wires":[["4e1befe4.d47df"]]},{"id":"914132d0.dfbe9","type":"ui_text","z":"1a68a6c3.21c2f9","group":"1f54bac1.fbcf55","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":170,"y":480,"wires":[]},{"id":"54176ae5.151314","type":"delay","z":"1a68a6c3.21c2f9","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1400,"y":520,"wires":[["3c745ff3.08569"]]},{"id":"3c745ff3.08569","type":"template","z":"1a68a6c3.21c2f9","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":520,"wires":[["a280826f.6c109"]]},{"id":"c96405ab.0acd98","type":"tab","label":"Form-Extract-Intron-Cuff","disabled":false,"info":""},{"id":"addf0c6.7305df","type":"http in","z":"c96405ab.0acd98","name":"","url":"/extractfromcuff","method":"post","upload":true,"swaggerDoc":"","x":180,"y":320,"wires":[["6a1cc6ba.00c8e8","8b9f3fbd.373b7"]]},{"id":"6a1cc6ba.00c8e8","type":"function","z":"c96405ab.0acd98","name":"","func":"//msg.name = msg.req.files[0].originalname;\nglobal.set(\"name\",msg.payload.outputname);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"extractFromCUFF/out/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromCUFF/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":360,"y":380,"wires":[["53f6480.c0084b8"],["8b2c54a1.4491c8"]]},{"id":"50c11c60.af73a4","type":"http response","z":"c96405ab.0acd98","name":"","statusCode":"","headers":{},"x":2070,"y":320,"wires":[]},{"id":"53f6480.c0084b8","type":"file","z":"c96405ab.0acd98","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":490,"y":320,"wires":[["edc1b3e0.9723e"]]},{"id":"8b9f3fbd.373b7","type":"function","z":"c96405ab.0acd98","name":"","func":"//global.set(\"name\",msg.payload.outputname);\nmsg.payload.fasta = \"extractFromCUFF/out/\" + msg.req.files[0].originalname\nmsg.payload.cuff = \"extractFromCUFF/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"extractFromCUFF/out\"\nmsg.payload.flanking = msg.payload.flanking\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":260,"wires":[["b0988f2d.ae781"]]},{"id":"50d4d9bd.98b538","type":"ui_template","z":"c96405ab.0acd98","group":"9c3e0298.6f6f2","name":"Data-table","order":1,"width":24,"height":14,"format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/extractfromcuff\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">EXTRACT INTRON FROM CUFF</font><br /></div>\n    <br><p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta3\" type=\"file\" name=\"filefasta\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"filecuff\">CUFF File:&emsp;</label>\n      <input id=\"file-input-cuff\" type=\"file\" name=\"filecuff\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"flanking\">Flanking:&emsp;</label>\n      <input type=\"text\" name=\"flanking\" style=\"width: 200px; height: 20px\"/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":170,"y":260,"wires":[[]]},{"id":"8b2c54a1.4491c8","type":"file","z":"c96405ab.0acd98","name":"CUFF","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":490,"y":440,"wires":[["44b2c834.930208"]]},{"id":"ad1b40ee.1a251","type":"ui_toast","z":"c96405ab.0acd98","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1350,"y":140,"wires":[[]]},{"id":"b0988f2d.ae781","type":"join","z":"c96405ab.0acd98","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":850,"y":300,"wires":[["b8a60023.f1b8b"]]},{"id":"edc1b3e0.9723e","type":"function","z":"c96405ab.0acd98","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":320,"wires":[["b0988f2d.ae781"]]},{"id":"44b2c834.930208","type":"function","z":"c96405ab.0acd98","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":440,"wires":[["b0988f2d.ae781"]]},{"id":"b8a60023.f1b8b","type":"extract_intron_from_cuff_gtf","z":"c96405ab.0acd98","name":"","fasta":"","cuff":"","pathfolder":"","outputname":"","flanking":"","x":950,"y":220,"wires":[["fd1c0e02.14545","cb842424.5402e8","53adeea4.d0b7d","85e32a3c.0f7648"]]},{"id":"fd1c0e02.14545","type":"function","z":"c96405ab.0acd98","name":"","func":"var name = global.get(\"name\");\n\nif(msg.payload.stdout!==\"Error\") {\nif(msg.payload.zip===\"no\") {\n    if(msg.payload.stdout!==\"Error\" && msg.payload.flanking===\"\") {\n        msg.payload = {\n            fasta : name,\n            fastaPlus : name + \"Plus\"\n        }\n        return [msg,null,null,null];\n    }\n    else if(msg.payload.stdout!==\"Error\" && msg.payload.flanking!==\"\"){\n        msg.filename = name+\"Plus\"\n        msg.payload = {\n            fasta : name,\n            fastaPlus : name+\"Plus\",\n            flDx : \"flanking_Dx_\" + name,\n            flDxPlus : \"flanking_Dx_\" + name + \"Plus\",\n            flSx : \"flanking_Sx_\" + name,\n            flSxPlus : \"flanking_Sx_\" + name + \"Plus\",\n            flTot: \"flanking_tot_\" + name,\n            flTotPlus : \"flanking_tot_\" + name + \"Plus\"\n        }\n        return [null,msg,null,null];\n    }\n}\nelse if(msg.payload.zip===\"yes\") {\n    msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n    msg.payload.pathIn = \"extractFromCUFF/out\"\n    msg.payload.pathOut = \"extractFromCUFF/\"+msg.payload.outputname\n    return [null,null,msg,null]\n}\n}\nelse {\n    return [null,null,null,msg]\n}","outputs":4,"noerr":0,"initialize":"","finalize":"","x":1180,"y":280,"wires":[["e098a98.5943158"],["6475552f.5cdb0c"],["a53932e7.4a01c"],["69cec4f6.72f7fc"]]},{"id":"e098a98.5943158","type":"delay","z":"c96405ab.0acd98","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1380,"y":220,"wires":[["13b073d6.8eb68c"]]},{"id":"6475552f.5cdb0c","type":"delay","z":"c96405ab.0acd98","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1380,"y":280,"wires":[["9d1469ef.33f278"]]},{"id":"9d1469ef.33f278","type":"template","z":"c96405ab.0acd98","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromCUFF/out/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flDx}}\" onclick=\"clickAndDisable(this);\">{{payload.flDx}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flDxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flDxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flSx}}\" onclick=\"clickAndDisable(this);\">{{payload.flSx}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flSxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flSxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flTot}}\" onclick=\"clickAndDisable(this);\">{{payload.flTot}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.flTotPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flTotPlus}}</a> <br><br>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1750,"y":280,"wires":[["50c11c60.af73a4"]]},{"id":"13b073d6.8eb68c","type":"template","z":"c96405ab.0acd98","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromCUFF/out/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromCUFF/out/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1750,"y":220,"wires":[["50c11c60.af73a4"]]},{"id":"ca3bf889.750fc8","type":"ui_text","z":"c96405ab.0acd98","group":"6e680fda.97841","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":170,"y":380,"wires":[]},{"id":"cb842424.5402e8","type":"fs-ops-delete","z":"c96405ab.0acd98","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1090,"y":400,"wires":[[]]},{"id":"53adeea4.d0b7d","type":"fs-ops-delete","z":"c96405ab.0acd98","name":"Delete Cuff","path":"","pathType":"str","filename":"payload.cuff","filenameType":"msg","x":1070,"y":460,"wires":[[]]},{"id":"85e32a3c.0f7648","type":"change","z":"c96405ab.0acd98","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1140,"y":140,"wires":[["ad1b40ee.1a251"]]},{"id":"a53932e7.4a01c","type":"zip_folder","z":"c96405ab.0acd98","name":"","pathIn":"","pathOut":"","x":1380,"y":340,"wires":[["865b794d.7c8828"]]},{"id":"865b794d.7c8828","type":"delay","z":"c96405ab.0acd98","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1560,"y":340,"wires":[["957bd76c.9d9ec8"]]},{"id":"957bd76c.9d9ec8","type":"template","z":"c96405ab.0acd98","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1750,"y":340,"wires":[["50c11c60.af73a4"]]},{"id":"69cec4f6.72f7fc","type":"delay","z":"c96405ab.0acd98","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1380,"y":400,"wires":[["616f6d3c.529254"]]},{"id":"616f6d3c.529254","type":"template","z":"c96405ab.0acd98","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1750,"y":400,"wires":[["50c11c60.af73a4"]]},{"id":"fedc305b.a318d","type":"tab","label":"Form-Extract-From-Topat","disabled":false,"info":""},{"id":"56c821c.94f2ae","type":"http in","z":"fedc305b.a318d","name":"","url":"/extractintronfromtopat","method":"post","upload":true,"swaggerDoc":"","x":300,"y":360,"wires":[["7440fc34.ce25c4","b662d116.2e258"]]},{"id":"797aea3b.78f344","type":"http response","z":"fedc305b.a318d","name":"","statusCode":"","headers":{},"x":2230,"y":260,"wires":[]},{"id":"58e9ef4.2c02e1","type":"template","z":"fedc305b.a318d","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromTopat/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1950,"y":160,"wires":[["797aea3b.78f344"]]},{"id":"74870a11.71fa34","type":"ui_template","z":"fedc305b.a318d","group":"212549a7.c55656","name":"Data-table","order":1,"width":24,"height":14,"format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/extractintronfromtopat\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">EXTRACT INTRON FROM TOPAT</font><br /></div>\n    <br><p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta2\" type=\"file\" name=\"filefasta\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Topat File:&emsp;</label>\n      <input id=\"file-input-topat\" type=\"file\" name=\"filetopat\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"flanking\">Flanking:&emsp;</label>\n      <input type=\"text\" name=\"flanking\" style=\"width: 200px; height: 20px\"/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":290,"y":300,"wires":[[]]},{"id":"9bad9bd5.acc1b8","type":"function","z":"fedc305b.a318d","name":"","func":"var name = msg.payload.outputname;\n\nif(msg.payload.stdout!==\"Error\") {\n    if(msg.payload.zip===\"no\") {\n        if(msg.payload.stdout!==\"Error\" && msg.payload.flanking===\"\") {\n            msg.payload = {\n                fasta : name,\n                fastaPlus : name + \"Plus\"\n            }\n            return [msg,null,null,null];\n        }\n        else if(msg.payload.stdout!==\"Error\" && msg.payload.flanking!==\"\"){\n            msg.filename = name+\"Plus\"\n            msg.payload = {\n                fasta : name,\n                fastaPlus : name+\"Plus\",\n                flDx : \"flanking_Dx_IR_\" + name,\n                flDxPlus : \"flanking_Dx_IR_\" + name + \"Plus\",\n                flSx : \"flanking_Sx_IR_\" + name,\n                flSxPlus : \"flanking_Sx_IR_\" + name + \"Plus\",\n                flIr: \"flanking_IR_\" + name,\n                flIrPlus : \"flanking_IR_\" + name + \"Plus\"\n            }\n            return [null,msg,null,null];\n        }\n    }\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"extractFromTopat/out\"\n        msg.payload.pathOut = \"extractFromTopat/\"+msg.payload.outputname\n        return [null,null,msg,null]\n    }\n}\nelse {\n    return[null,null,null,msg]\n}","outputs":4,"noerr":0,"initialize":"","finalize":"","x":1420,"y":240,"wires":[["2936ff8d.0efcf"],["3bd78b13.5d9484"],["391b49be.d7f936"],["f983f57e.1016e8"]]},{"id":"2936ff8d.0efcf","type":"delay","z":"fedc305b.a318d","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":160,"wires":[["58e9ef4.2c02e1"]]},{"id":"3bd78b13.5d9484","type":"delay","z":"fedc305b.a318d","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":220,"wires":[["b5ee1b4e.68df38"]]},{"id":"b5ee1b4e.68df38","type":"template","z":"fedc305b.a318d","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromTopat/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flDx}}\" onclick=\"clickAndDisable(this);\">{{payload.flDx}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flDxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flDxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flSx}}\" onclick=\"clickAndDisable(this);\">{{payload.flSx}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flSxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flSxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flIr}}\" onclick=\"clickAndDisable(this);\">{{payload.flIr}}</a> <br><br>\n    <a href=\"/file/extractFromTopat/{{payload.flIrPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flIrPlus}}</a> <br><br>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1950,"y":220,"wires":[["797aea3b.78f344"]]},{"id":"7fc69fe4.7eca7","type":"ui_text","z":"fedc305b.a318d","group":"9dfcb7a5.c5b028","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":290,"y":420,"wires":[]},{"id":"3b0c75e3.0e1c0a","type":"fs-ops-delete","z":"fedc305b.a318d","name":"Delete Topat","path":"","pathType":"str","filename":"payload.tp","filenameType":"msg","x":1230,"y":360,"wires":[[]]},{"id":"8948099.b3fd5f8","type":"fs-ops-delete","z":"fedc305b.a318d","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1250,"y":300,"wires":[[]]},{"id":"afda0d38.d5e9","type":"change","z":"fedc305b.a318d","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1400,"y":100,"wires":[["49c9bddd.c4fe24"]]},{"id":"49c9bddd.c4fe24","type":"ui_toast","z":"fedc305b.a318d","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1610,"y":100,"wires":[[]]},{"id":"391b49be.d7f936","type":"zip_folder","z":"fedc305b.a318d","name":"","pathIn":"","pathOut":"","x":1640,"y":280,"wires":[["b61fcd8d.e3e34"]]},{"id":"b61fcd8d.e3e34","type":"delay","z":"fedc305b.a318d","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1800,"y":280,"wires":[["f098d6ff.4791e8"]]},{"id":"f098d6ff.4791e8","type":"template","z":"fedc305b.a318d","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1950,"y":280,"wires":[["797aea3b.78f344"]]},{"id":"f983f57e.1016e8","type":"delay","z":"fedc305b.a318d","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":340,"wires":[["97e20d3e.5a72"]]},{"id":"97e20d3e.5a72","type":"template","z":"fedc305b.a318d","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1950,"y":340,"wires":[["797aea3b.78f344"]]},{"id":"7440fc34.ce25c4","type":"function","z":"fedc305b.a318d","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.payload.outputname);\n//global.set(\"flanking\",msg.payload.flanking);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"extractFromTopat/out/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromTopat/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":480,"y":420,"wires":[["48d07757.9d1ea8"],["55a33d56.ce2584"]]},{"id":"48d07757.9d1ea8","type":"file","z":"fedc305b.a318d","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":610,"y":360,"wires":[["fe5d4158.6668a"]]},{"id":"b662d116.2e258","type":"function","z":"fedc305b.a318d","name":"","func":"msg.payload.fasta = \"extractFromTopat/out/\" + msg.req.files[0].originalname\nmsg.payload.tp = \"extractFromTopat/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"extractFromTopat/out\"\nmsg.payload.flanking = msg.payload.flanking\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":760,"y":300,"wires":[["7cc37c9.1388b84"]]},{"id":"55a33d56.ce2584","type":"file","z":"fedc305b.a318d","name":"topat","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":610,"y":480,"wires":[["753db319.e4353c"]]},{"id":"7cc37c9.1388b84","type":"join","z":"fedc305b.a318d","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":970,"y":340,"wires":[["68ccc397.dc9a9c"]]},{"id":"fe5d4158.6668a","type":"function","z":"fedc305b.a318d","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":760,"y":360,"wires":[["7cc37c9.1388b84"]]},{"id":"753db319.e4353c","type":"function","z":"fedc305b.a318d","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":760,"y":480,"wires":[["7cc37c9.1388b84"]]},{"id":"68ccc397.dc9a9c","type":"extract_intron_using_bed_file_from_topat","z":"fedc305b.a318d","name":"","fasta":"","tp":"","pathfolder":"","outputname":"","flanking":"","x":1060,"y":180,"wires":[["afda0d38.d5e9","9bad9bd5.acc1b8","8948099.b3fd5f8","3b0c75e3.0e1c0a"]]},{"id":"48c34eff.adfe8","type":"tab","label":"Form-Remove-Contig-From-Fasta","disabled":false,"info":""},{"id":"fd588953.d220d8","type":"http in","z":"48c34eff.adfe8","name":"","url":"/removecontingfasta","method":"post","upload":true,"swaggerDoc":"","x":190,"y":220,"wires":[["a159d269.fa4ae","7a903ca7.2dd4a4"]]},{"id":"a159d269.fa4ae","type":"function","z":"48c34eff.adfe8","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"removeFromFasta/out/\" + msg.req.files[0].originalname\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"removeFromFasta/out/\" + msg.req.files[1].originalname};\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":360,"y":280,"wires":[["faa73f11.413b5"],["9f263b7f.ea6328"]]},{"id":"d363251e.f13ce8","type":"http response","z":"48c34eff.adfe8","name":"","statusCode":"","headers":{},"x":1990,"y":260,"wires":[]},{"id":"faa73f11.413b5","type":"file","z":"48c34eff.adfe8","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":510,"y":260,"wires":[["b7ba871e.b66a68"]]},{"id":"7a903ca7.2dd4a4","type":"function","z":"48c34eff.adfe8","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload.fasta1 = \"removeFromFasta/out/\" + msg.req.files[0].originalname\nmsg.payload.fasta2 = \"removeFromFasta/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"removeFromFasta/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":500,"y":140,"wires":[["b3b9bac0.d33358"]]},{"id":"5ccdabba.990264","type":"function","z":"48c34eff.adfe8","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\n    if(msg.payload.zip===\"no\") {\n        msg.payload = msg.payload.outputname\n        return[msg,null,null]\n    }\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"removeFromFasta/out\"\n        msg.payload.pathOut = \"removeFromFasta/\"+msg.payload.outputname\n        return [null,msg,null]\n    }\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1220,"y":220,"wires":[["59fc90bc.a562"],["9e53ce8a.42634"],["841d1988.f3d248"]]},{"id":"64402284.d70d1c","type":"template","z":"48c34eff.adfe8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/removeFromFasta/out/{{payload}}\" onclick=\"clickAndDisable(this);\">{{payload}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1590,"y":200,"wires":[["d363251e.f13ce8"]]},{"id":"b7ba871e.b66a68","type":"function","z":"48c34eff.adfe8","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":260,"wires":[["b3b9bac0.d33358"]]},{"id":"b3b9bac0.d33358","type":"join","z":"48c34eff.adfe8","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":810,"y":240,"wires":[["f0729ada.0ce238"]]},{"id":"59fc90bc.a562","type":"delay","z":"48c34eff.adfe8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1420,"y":200,"wires":[["64402284.d70d1c"]]},{"id":"52168771.5599e8","type":"ui_template","z":"48c34eff.adfe8","group":"3659cf15.ca84e","name":"Data-table","order":3,"width":"24","height":"14","format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/removecontingfasta\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">REMOVE CONTING FROM FASTA</font><br /></div>\n    <p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta1\">Fasta File 1:&emsp;</label>\n      <input id=\"file-input-fasta1\" type=\"file\" name=\"file\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"fasta2\">Fasta File 2:&emsp;</label>\n      <input id=\"file-input-fasta2\" type=\"file\" name=\"file2\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":190,"y":160,"wires":[[]]},{"id":"88b57f07.3624d","type":"fs-ops-delete","z":"48c34eff.adfe8","name":"Delete Fasta1","path":"","pathType":"str","filename":"payload.fasta1","filenameType":"msg","x":1140,"y":320,"wires":[[]]},{"id":"9e53ce8a.42634","type":"zip_folder","z":"48c34eff.adfe8","name":"","pathIn":"","pathOut":"","x":1420,"y":260,"wires":[["319f4e3e.460932"]]},{"id":"b177434f.727be","type":"template","z":"48c34eff.adfe8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1730,"y":260,"wires":[["d363251e.f13ce8"]]},{"id":"319f4e3e.460932","type":"delay","z":"48c34eff.adfe8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1580,"y":260,"wires":[["b177434f.727be"]]},{"id":"4c1c0b9a.9c7114","type":"ui_text","z":"48c34eff.adfe8","group":"941bf67f.e99a28","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":190,"y":280,"wires":[]},{"id":"d090755a.558bd8","type":"fs-ops-delete","z":"48c34eff.adfe8","name":"Delete Fasta2","path":"","pathType":"str","filename":"payload.fasta2","filenameType":"msg","x":1100,"y":380,"wires":[[]]},{"id":"f0729ada.0ce238","type":"remove_conting_from_fasta","z":"48c34eff.adfe8","name":"","fasta1":"","fasta2":"","pathfolder":"","outputname":"","x":1000,"y":220,"wires":[["5ccdabba.990264","88b57f07.3624d","d090755a.558bd8","62bf9a3c.61f724"]]},{"id":"9f263b7f.ea6328","type":"file","z":"48c34eff.adfe8","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":510,"y":320,"wires":[["df00f560.c9c598"]]},{"id":"df00f560.c9c598","type":"function","z":"48c34eff.adfe8","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":320,"wires":[["b3b9bac0.d33358"]]},{"id":"841d1988.f3d248","type":"delay","z":"48c34eff.adfe8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1420,"y":320,"wires":[["fb40e740.bf0b18"]]},{"id":"fb40e740.bf0b18","type":"template","z":"48c34eff.adfe8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1570,"y":320,"wires":[["d363251e.f13ce8"]]},{"id":"62bf9a3c.61f724","type":"change","z":"48c34eff.adfe8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":120,"wires":[["cf0058ae.2fd208"]]},{"id":"cf0058ae.2fd208","type":"ui_toast","z":"48c34eff.adfe8","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1430,"y":120,"wires":[[]]},{"id":"ae86f831.853418","type":"tab","label":"Form-Merge-Fasta","disabled":false,"info":""},{"id":"7536f3b1.9d989c","type":"http in","z":"ae86f831.853418","name":"","url":"/mergefasta","method":"post","upload":true,"swaggerDoc":"","x":170,"y":300,"wires":[["aa55e021.1bd69","493f93cb.de162c"]]},{"id":"aa55e021.1bd69","type":"function","z":"ae86f831.853418","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"mergeFasta/out/\" + msg.req.files[0].originalname\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"mergeFasta/out/\" + msg.req.files[1].originalname};\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":360,"y":360,"wires":[["d3d05c0e.1ffb6"],["9af0bb3e.fa9288"]]},{"id":"7f7c3340.bf225c","type":"http response","z":"ae86f831.853418","name":"","statusCode":"","headers":{},"x":1990,"y":340,"wires":[]},{"id":"d3d05c0e.1ffb6","type":"file","z":"ae86f831.853418","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":510,"y":340,"wires":[["f1980304.a8871"]]},{"id":"493f93cb.de162c","type":"function","z":"ae86f831.853418","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload.fasta1 = \"mergeFasta/out/\" + msg.req.files[0].originalname\nmsg.payload.fasta2 = \"mergeFasta/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"mergeFasta/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":500,"y":220,"wires":[["32bc015b.5123ce"]]},{"id":"1db0970f.a07ab9","type":"function","z":"ae86f831.853418","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\n    if(msg.payload.zip===\"no\") {\n        msg.payload = msg.payload.outputname\n        return[msg,null,null]\n    }\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"mergeFasta/out\"\n        msg.payload.pathOut = \"mergeFasta/\"+msg.payload.outputname\n        return [null,msg,null]\n    }\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1220,"y":300,"wires":[["15f233ae.96ae9c"],["386bbb92.dba8e4"],["4c15c8b0.595ac8"]]},{"id":"6e65a276.66b43c","type":"template","z":"ae86f831.853418","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/mergeFasta/out/{{payload}}\" onclick=\"clickAndDisable(this);\">{{payload}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1590,"y":280,"wires":[["7f7c3340.bf225c"]]},{"id":"f1980304.a8871","type":"function","z":"ae86f831.853418","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":340,"wires":[["32bc015b.5123ce"]]},{"id":"32bc015b.5123ce","type":"join","z":"ae86f831.853418","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":810,"y":320,"wires":[["9d59b642.0a9f18"]]},{"id":"15f233ae.96ae9c","type":"delay","z":"ae86f831.853418","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1420,"y":280,"wires":[["6e65a276.66b43c"]]},{"id":"dd654df4.7973f","type":"ui_template","z":"ae86f831.853418","group":"1dfc3980.5ea5e7","name":"Data-table","order":3,"width":"24","height":"14","format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/mergefasta\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">MERGE FASTA</font><br /></div>\n    <p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta1\">Fasta File 1:&emsp;</label>\n      <input id=\"file-input-fasta1\" type=\"file\" name=\"file\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"fasta2\">Fasta File 2:&emsp;</label>\n      <input id=\"file-input-fasta2\" type=\"file\" name=\"file2\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":190,"y":240,"wires":[[]]},{"id":"c69d461c.4e1b28","type":"fs-ops-delete","z":"ae86f831.853418","name":"Delete Fasta1","path":"","pathType":"str","filename":"payload.fasta1","filenameType":"msg","x":1160,"y":400,"wires":[[]]},{"id":"98199708.2b08a8","type":"change","z":"ae86f831.853418","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":180,"wires":[["69785e70.8fc7c"]]},{"id":"69785e70.8fc7c","type":"ui_toast","z":"ae86f831.853418","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1430,"y":180,"wires":[[]]},{"id":"386bbb92.dba8e4","type":"zip_folder","z":"ae86f831.853418","name":"","pathIn":"","pathOut":"","x":1420,"y":340,"wires":[["f1e3a7fd.e8c6a8"]]},{"id":"37654ecd.b5a212","type":"template","z":"ae86f831.853418","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1730,"y":340,"wires":[["7f7c3340.bf225c"]]},{"id":"f1e3a7fd.e8c6a8","type":"delay","z":"ae86f831.853418","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1580,"y":340,"wires":[["37654ecd.b5a212"]]},{"id":"10adbbad.45b604","type":"ui_text","z":"ae86f831.853418","group":"73a73bf5.0db8c4","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":190,"y":360,"wires":[]},{"id":"1517c3e9.9e466c","type":"fs-ops-delete","z":"ae86f831.853418","name":"Delete Fasta2","path":"","pathType":"str","filename":"payload.fasta2","filenameType":"msg","x":1100,"y":460,"wires":[[]]},{"id":"9af0bb3e.fa9288","type":"file","z":"ae86f831.853418","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":510,"y":400,"wires":[["8137c61e.20ba68"]]},{"id":"8137c61e.20ba68","type":"function","z":"ae86f831.853418","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":640,"y":400,"wires":[["32bc015b.5123ce"]]},{"id":"4c15c8b0.595ac8","type":"delay","z":"ae86f831.853418","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1420,"y":400,"wires":[["f19fdc79.89c8b"]]},{"id":"f19fdc79.89c8b","type":"template","z":"ae86f831.853418","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1570,"y":400,"wires":[["7f7c3340.bf225c"]]},{"id":"9d59b642.0a9f18","type":"merge_fasta","z":"ae86f831.853418","name":"","fasta1":"","fasta2":"","pathfolder":"","outputname":"","x":980,"y":300,"wires":[["98199708.2b08a8","1db0970f.a07ab9","c69d461c.4e1b28","1517c3e9.9e466c"]]},{"id":"e423d604.e803a8","type":"tab","label":"Form-Remove-Nucleotides","disabled":false,"info":""},{"id":"b1acfdbb.23968","type":"http in","z":"e423d604.e803a8","name":"","url":"/removenucleotides","method":"post","upload":true,"swaggerDoc":"","x":150,"y":240,"wires":[["434cb4e0.30862c","41bbddfc.d38144"]]},{"id":"434cb4e0.30862c","type":"function","z":"e423d604.e803a8","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"removeNucleotides/out/\" + msg.req.files[0].originalname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":320,"y":300,"wires":[["f5fdb3fa.055bd"]]},{"id":"4a4caf72.0ef23","type":"http response","z":"e423d604.e803a8","name":"","statusCode":"","headers":{},"x":1950,"y":280,"wires":[]},{"id":"f5fdb3fa.055bd","type":"file","z":"e423d604.e803a8","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":470,"y":300,"wires":[["b91805bd.e090a8"]]},{"id":"41bbddfc.d38144","type":"function","z":"e423d604.e803a8","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload.fasta = \"removeNucleotides/out/\" + msg.req.files[0].originalname\nmsg.payload.n = msg.payload.n\nmsg.payload.pathfolder = \"removeNucleotides/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":160,"wires":[["5c2d6c17.757364"]]},{"id":"8989707c.14ff2","type":"function","z":"e423d604.e803a8","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\n    if(msg.payload.zip===\"no\") {\n        msg.payload = msg.payload.outputname\n        return[msg,null,null]\n    }\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"removeNucleotides/out\"\n        msg.payload.pathOut = \"removeNucleotides/\"+msg.payload.outputname\n        return [null,msg,null]\n    }\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1160,"y":260,"wires":[["76f33b28.154cc4"],["4588f3e2.dc259c"],["73804418.1925ec"]]},{"id":"ee5d924c.f05a5","type":"template","z":"e423d604.e803a8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/removeNucleotides/out/flanking_Dx_{{payload}}\" onclick=\"clickAndDisable(this);\">flanking_Dx_{{payload}}</a> <br><br>\n    <a href=\"/file/removeNucleotides/out/flanking_Sx_{{payload}}\" onclick=\"clickAndDisable(this);\">flanking_Sx_{{payload}}</a> <br><br>\n    <a href=\"/file/removeNucleotides/out/no_flanking_{{payload}}\" onclick=\"clickAndDisable(this);\">no_flanking_{{payload}}</a> <br><br>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1550,"y":220,"wires":[["4a4caf72.0ef23"]]},{"id":"b91805bd.e090a8","type":"function","z":"e423d604.e803a8","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":600,"y":300,"wires":[["5c2d6c17.757364"]]},{"id":"5c2d6c17.757364","type":"join","z":"e423d604.e803a8","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":770,"y":260,"wires":[["d522f980.4f3f68"]]},{"id":"76f33b28.154cc4","type":"delay","z":"e423d604.e803a8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1380,"y":220,"wires":[["ee5d924c.f05a5"]]},{"id":"f46145bd.89aea8","type":"ui_template","z":"e423d604.e803a8","group":"d50a9d76.ce46f","name":"Data-table","order":3,"width":"24","height":"14","format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/removenucleotides\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">REMOVE NUCLEOTIDES</font><br /></div>\n    <p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta\" type=\"file\" name=\"file\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"fasta2\">Number of Nucleotides to remove:&emsp;</label>\n      <input type=\"text\" name=\"n\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":150,"y":180,"wires":[[]]},{"id":"f7c4b1c.cd6d95","type":"fs-ops-delete","z":"e423d604.e803a8","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1130,"y":360,"wires":[[]]},{"id":"220503b3.0edc2c","type":"change","z":"e423d604.e803a8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1200,"y":120,"wires":[["969d7d78.31a95"]]},{"id":"969d7d78.31a95","type":"ui_toast","z":"e423d604.e803a8","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1390,"y":120,"wires":[[]]},{"id":"4588f3e2.dc259c","type":"zip_folder","z":"e423d604.e803a8","name":"","pathIn":"","pathOut":"","x":1380,"y":280,"wires":[["7fc9cd26.340764"]]},{"id":"7d1eae65.5991e","type":"template","z":"e423d604.e803a8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1690,"y":280,"wires":[["4a4caf72.0ef23"]]},{"id":"7fc9cd26.340764","type":"delay","z":"e423d604.e803a8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":280,"wires":[["7d1eae65.5991e"]]},{"id":"78fe60b.a9788a","type":"ui_text","z":"e423d604.e803a8","group":"d44d86e5.ec9878","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":150,"y":300,"wires":[]},{"id":"73804418.1925ec","type":"delay","z":"e423d604.e803a8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1380,"y":340,"wires":[["66b08626.178bb8"]]},{"id":"66b08626.178bb8","type":"template","z":"e423d604.e803a8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1530,"y":340,"wires":[["4a4caf72.0ef23"]]},{"id":"d522f980.4f3f68","type":"remove_nucleotides","z":"e423d604.e803a8","name":"","fasta":"","n":"","pathfolder":"","outputname":"","x":960,"y":260,"wires":[["8989707c.14ff2","f7c4b1c.cd6d95","220503b3.0edc2c"]]},{"id":"6e4e284a.67f7f8","type":"tab","label":"Form-Extract-From-August","disabled":false,"info":""},{"id":"af118039.583b4","type":"http in","z":"6e4e284a.67f7f8","name":"","url":"/extractfromaugustus","method":"post","upload":true,"swaggerDoc":"","x":210,"y":300,"wires":[["fd2cc10e.41de4","60f53940.dff0f8"]]},{"id":"fd2cc10e.41de4","type":"function","z":"6e4e284a.67f7f8","name":"","func":"//msg.name = msg.req.files[0].originalname;\nglobal.set(\"name\",msg.payload.outputname);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"extractFromAugustus/out/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromAugustus/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":400,"y":360,"wires":[["a339fc7c.500ed"],["40904a1.52db1b4"]]},{"id":"63ecd664.3f9008","type":"http response","z":"6e4e284a.67f7f8","name":"","statusCode":"","headers":{},"x":2210,"y":300,"wires":[]},{"id":"a339fc7c.500ed","type":"file","z":"6e4e284a.67f7f8","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":530,"y":300,"wires":[["9dd3be6f.47c1d"]]},{"id":"60f53940.dff0f8","type":"function","z":"6e4e284a.67f7f8","name":"","func":"//global.set(\"name\",msg.payload.outputname);\nmsg.payload.fasta = \"extractFromAugustus/out/\" + msg.req.files[0].originalname\nmsg.payload.au = \"extractFromAugustus/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"extractFromAugustus/out\"\nmsg.payload.flanking = msg.payload.flanking\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":240,"wires":[["d741035d.78f21"]]},{"id":"34d765ef.02aaea","type":"ui_template","z":"6e4e284a.67f7f8","group":"b674b16e.b0e02","name":"Data-table","order":1,"width":24,"height":14,"format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/extractfromaugustus\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">EXTRACT INTRON FROM AUGUSTUS</font><br /></div>\n    <br><p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta3\" type=\"file\" name=\"filefasta\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"fileaug\">AUGUSTUS File:&emsp;</label>\n      <input id=\"file-input-aug\" type=\"file\" name=\"fileaug\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"flanking\">Flanking:&emsp;</label>\n      <input type=\"text\" name=\"flanking\" style=\"width: 200px; height: 20px\"/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":190,"y":240,"wires":[[]]},{"id":"40904a1.52db1b4","type":"file","z":"6e4e284a.67f7f8","name":"CUFF","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":530,"y":420,"wires":[["9300abb3.916728"]]},{"id":"7de0229a.fed74c","type":"ui_toast","z":"6e4e284a.67f7f8","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1490,"y":120,"wires":[[]]},{"id":"d741035d.78f21","type":"join","z":"6e4e284a.67f7f8","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":850,"y":280,"wires":[["2d1cb0d9.4a59e"]]},{"id":"9dd3be6f.47c1d","type":"function","z":"6e4e284a.67f7f8","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":300,"wires":[["d741035d.78f21"]]},{"id":"9300abb3.916728","type":"function","z":"6e4e284a.67f7f8","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":420,"wires":[["d741035d.78f21"]]},{"id":"7db21ae7.445ec4","type":"function","z":"6e4e284a.67f7f8","name":"","func":"var name = global.get(\"name\");\n\nif(msg.payload.stdout!==\"Error\") {\nif(msg.payload.zip===\"no\") {\n    if(msg.payload.stdout!==\"Error\" && msg.payload.flanking===\"\") {\n        msg.payload = {\n            fasta : name,\n            fastaPlus : name + \"Plus\"\n        }\n        return [msg,null,null,null];\n    }\n    else if(msg.payload.stdout!==\"Error\" && msg.payload.flanking!==\"\"){\n        msg.filename = name+\"Plus\"\n        msg.payload = {\n            fasta : name,\n            fastaPlus : name+\"Plus\",\n            flDx : \"flanking_Dx_\" + name,\n            flDxPlus : \"flanking_Dx_\" + name + \"Plus\",\n            flSx : \"flanking_Sx_\" + name,\n            flSxPlus : \"flanking_Sx_\" + name + \"Plus\",\n            flTot: \"flanking_tot_\" + name,\n            flTotPlus : \"flanking_tot_\" + name + \"Plus\"\n        }\n        return [null,msg,null,null];\n    }\n}\nelse if(msg.payload.zip===\"yes\") {\n    msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n    msg.payload.pathIn = \"extractFromAugustus/out\"\n    msg.payload.pathOut = \"extractFromAugustus/\"+msg.payload.outputname\n    return [null,null,msg,null]\n}\n}\nelse {\n    return [null,null,null,msg]\n}","outputs":4,"noerr":0,"initialize":"","finalize":"","x":1320,"y":280,"wires":[["f864fa2d.b41378"],["c8d3ce9a.42053"],["b77767b9.779748"],["90e0e92d.d7f988"]]},{"id":"f864fa2d.b41378","type":"delay","z":"6e4e284a.67f7f8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1520,"y":200,"wires":[["f0e96e27.47dd"]]},{"id":"c8d3ce9a.42053","type":"delay","z":"6e4e284a.67f7f8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1520,"y":260,"wires":[["2ba6b236.f7971e"]]},{"id":"2ba6b236.f7971e","type":"template","z":"6e4e284a.67f7f8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromAugustus/out/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flDx}}\" onclick=\"clickAndDisable(this);\">{{payload.flDx}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flDxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flDxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flSx}}\" onclick=\"clickAndDisable(this);\">{{payload.flSx}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flSxPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flSxPlus}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flTot}}\" onclick=\"clickAndDisable(this);\">{{payload.flTot}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.flTotPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.flTotPlus}}</a> <br><br>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1890,"y":260,"wires":[["63ecd664.3f9008"]]},{"id":"f0e96e27.47dd","type":"template","z":"6e4e284a.67f7f8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromAugustus/out/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromAugustus/out/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1890,"y":200,"wires":[["63ecd664.3f9008"]]},{"id":"4ac08323.d3a4cc","type":"ui_text","z":"6e4e284a.67f7f8","group":"c95ba756.fbe828","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":190,"y":360,"wires":[]},{"id":"9a3f168.0adece8","type":"fs-ops-delete","z":"6e4e284a.67f7f8","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1210,"y":400,"wires":[[]]},{"id":"b1d563e5.ba8ac","type":"fs-ops-delete","z":"6e4e284a.67f7f8","name":"Delete Augustus","path":"","pathType":"str","filename":"payload.au","filenameType":"msg","x":1220,"y":440,"wires":[[]]},{"id":"da35b6c4.acbae8","type":"change","z":"6e4e284a.67f7f8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1280,"y":120,"wires":[["7de0229a.fed74c"]]},{"id":"b77767b9.779748","type":"zip_folder","z":"6e4e284a.67f7f8","name":"","pathIn":"","pathOut":"","x":1520,"y":320,"wires":[["49424848.b81d28"]]},{"id":"49424848.b81d28","type":"delay","z":"6e4e284a.67f7f8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1700,"y":320,"wires":[["4f16cf62.f8286"]]},{"id":"4f16cf62.f8286","type":"template","z":"6e4e284a.67f7f8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1890,"y":320,"wires":[["63ecd664.3f9008"]]},{"id":"90e0e92d.d7f988","type":"delay","z":"6e4e284a.67f7f8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1520,"y":380,"wires":[["d1c7c21c.914f5"]]},{"id":"d1c7c21c.914f5","type":"template","z":"6e4e284a.67f7f8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1890,"y":380,"wires":[["63ecd664.3f9008"]]},{"id":"2d1cb0d9.4a59e","type":"extract_intron_from_gtf_augustus","z":"6e4e284a.67f7f8","name":"","fasta":"","au":"","pathfolder":"","outputname":"","flanking":"","x":1060,"y":280,"wires":[["7db21ae7.445ec4","da35b6c4.acbae8","9a3f168.0adece8","b1d563e5.ba8ac"]]},{"id":"dea6d6a9.b834b8","type":"tab","label":"Form-Extract-From-String-Tie","disabled":false,"info":""},{"id":"9bf902ce.a823d","type":"http in","z":"dea6d6a9.b834b8","name":"","url":"/extractfromstringtie","method":"post","upload":true,"swaggerDoc":"","x":150,"y":260,"wires":[["ed20ecb7.9ceaf","bfe5c343.fd745"]]},{"id":"ed20ecb7.9ceaf","type":"function","z":"dea6d6a9.b834b8","name":"","func":"//msg.name = msg.req.files[0].originalname;\nglobal.set(\"name\",msg.payload.outputname);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"extractFromFileTie/out/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromFileTie/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":340,"y":320,"wires":[["35aa69e7.023306"],["a8b58a28.609ab8"]]},{"id":"2b9108bb.662a18","type":"http response","z":"dea6d6a9.b834b8","name":"","statusCode":"","headers":{},"x":2150,"y":260,"wires":[]},{"id":"35aa69e7.023306","type":"file","z":"dea6d6a9.b834b8","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":470,"y":260,"wires":[["dd63b3c6.c1fe2"]]},{"id":"bfe5c343.fd745","type":"function","z":"dea6d6a9.b834b8","name":"","func":"//global.set(\"name\",msg.payload.outputname);\nmsg.payload.fasta = \"extractFromFileTie/out/\" + msg.req.files[0].originalname\nmsg.payload.st = \"extractFromFileTie/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"extractFromFileTie/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":200,"wires":[["1c7acd2e.172c03"]]},{"id":"354bf13.334cb0e","type":"ui_template","z":"dea6d6a9.b834b8","group":"ab0631a8.a72a3","name":"Data-table","order":1,"width":24,"height":14,"format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/extractfromstringtie\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">EXTRACT INTRON FROM STRING TIE</font><br /></div>\n    <br><p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta3\" type=\"file\" name=\"filefasta\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"filest\">StringTie File:&emsp;</label>\n      <input id=\"file-input-st\" type=\"file\" name=\"filest\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"start\">Start:</label>\n      <input type=\"text\" name=\"start\" style=\"width: 20px; height: 20px\"/>\n      \n      <label style=\"font-size:20px\" for=\"end\">&emsp;End:</label>\n      <input type=\"text\" name=\"end\" style=\"width: 20px; height: 20px\"/>\n      \n      <label style=\"font-size:20px\" for=\"contig\">&emsp;Contig:</label>\n      <input type=\"text\" name=\"contig\" style=\"width: 20px; height: 20px\"/>\n      <br><br>\n      <label style=\"font-size:20px\" for=\"strand\">Strand:</label>\n      <input type=\"text\" name=\"strand\" style=\"width: 20px; height: 20px\"/>\n   \n      <label style=\"font-size:20px\" for=\"coverage\">&emsp;Coverage:</label>\n      <input type=\"text\" name=\"coverage\" style=\"width: 20px; height: 20px\"/>\n     \n      <label style=\"font-size:20px\" for=\"label\">&emsp;Label:</label>\n      <input type=\"text\" name=\"label\" style=\"width: 20px; height: 20px\"/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":130,"y":200,"wires":[[]]},{"id":"a8b58a28.609ab8","type":"file","z":"dea6d6a9.b834b8","name":"CUFF","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":470,"y":380,"wires":[["1964dfb1.e21ee"]]},{"id":"2256d114.4d0d0e","type":"ui_toast","z":"dea6d6a9.b834b8","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1430,"y":80,"wires":[[]]},{"id":"1c7acd2e.172c03","type":"join","z":"dea6d6a9.b834b8","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":790,"y":240,"wires":[["bd34c401.141378"]]},{"id":"dd63b3c6.c1fe2","type":"function","z":"dea6d6a9.b834b8","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":260,"wires":[["1c7acd2e.172c03"]]},{"id":"1964dfb1.e21ee","type":"function","z":"dea6d6a9.b834b8","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":380,"wires":[["1c7acd2e.172c03"]]},{"id":"f5267862.4dc5a8","type":"function","z":"dea6d6a9.b834b8","name":"","func":"var name = global.get(\"name\");\n\nif(msg.payload.stdout!==\"Error\") {\nif(msg.payload.zip===\"no\") {\n    if(msg.payload.stdout!==\"Error\") {\n        msg.payload = {\n            fasta : name,\n            fastaPlus : name + \"Plus\"\n        }\n        return [msg,null,null];\n    }\n}\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outputname.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"extractFromFileTie/out\"\n        msg.payload.pathOut = \"extractFromFileTie/\"+msg.payload.outputname\n        return [null,msg,null]\n    }\n}\nelse {\n    return [null,null,msg]\n}","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1260,"y":240,"wires":[["a6945a96.068258"],["6c28cf84.b3567"],["dc5357c7.243448"]]},{"id":"a6945a96.068258","type":"delay","z":"dea6d6a9.b834b8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1460,"y":160,"wires":[["35c43ccd.b6ab54"]]},{"id":"35c43ccd.b6ab54","type":"template","z":"dea6d6a9.b834b8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>   \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/extractFromFileTie/out/{{payload.fasta}}\" onclick=\"clickAndDisable(this);\">{{payload.fasta}}</a> <br><br>\n    <a href=\"/file/extractFromFileTie/out/{{payload.fastaPlus}}\" onclick=\"clickAndDisable(this);\">{{payload.fastaPlus}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1830,"y":160,"wires":[["2b9108bb.662a18"]]},{"id":"6d372bfd.60d0d4","type":"ui_text","z":"dea6d6a9.b834b8","group":"399d26b8.47656a","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":130,"y":320,"wires":[]},{"id":"f5a3395a.aa60d8","type":"fs-ops-delete","z":"dea6d6a9.b834b8","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1150,"y":360,"wires":[[]]},{"id":"44c20bb9.67e8c4","type":"fs-ops-delete","z":"dea6d6a9.b834b8","name":"Delete FileTie","path":"","pathType":"str","filename":"payload.st","filenameType":"msg","x":1160,"y":400,"wires":[[]]},{"id":"eae52cb7.1da8b","type":"change","z":"dea6d6a9.b834b8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":80,"wires":[["2256d114.4d0d0e"]]},{"id":"6c28cf84.b3567","type":"zip_folder","z":"dea6d6a9.b834b8","name":"","pathIn":"","pathOut":"","x":1460,"y":240,"wires":[["2b4b935b.e11a8c"]]},{"id":"2b4b935b.e11a8c","type":"delay","z":"dea6d6a9.b834b8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":240,"wires":[["149898a8.e336e7"]]},{"id":"149898a8.e336e7","type":"template","z":"dea6d6a9.b834b8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1830,"y":240,"wires":[["2b9108bb.662a18"]]},{"id":"dc5357c7.243448","type":"delay","z":"dea6d6a9.b834b8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1460,"y":320,"wires":[["610f6954.287558"]]},{"id":"610f6954.287558","type":"template","z":"dea6d6a9.b834b8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1830,"y":320,"wires":[["2b9108bb.662a18"]]},{"id":"bd34c401.141378","type":"extract_intron_from_string_tie","z":"dea6d6a9.b834b8","name":"","fasta":"","au":"","pathfolder":"","outputname":"","start":"","end":"","contig":"","strand":"","coverage":"","label":"","x":1010,"y":240,"wires":[["eae52cb7.1da8b","f5267862.4dc5a8","f5a3395a.aa60d8","44c20bb9.67e8c4"]]},{"id":"93d0da46.dd28e8","type":"tab","label":"Form-Create-Dot","disabled":false,"info":""},{"id":"338f65e0.35be0a","type":"http in","z":"93d0da46.dd28e8","name":"","url":"/createdotfromfasta","method":"post","upload":true,"swaggerDoc":"","x":150,"y":420,"wires":[["f512b04.c649e5","f2d8abb5.2ed5b8"]]},{"id":"f512b04.c649e5","type":"function","z":"93d0da46.dd28e8","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"createDot/out/\" + msg.req.files[0].originalname\n\nreturn [msg,null];","outputs":1,"noerr":0,"initialize":"","finalize":"","x":360,"y":460,"wires":[["6d639a4e.c56984"]]},{"id":"452bf2f4.a6188c","type":"http response","z":"93d0da46.dd28e8","name":"","statusCode":"","headers":{},"x":1970,"y":460,"wires":[]},{"id":"6d639a4e.c56984","type":"file","z":"93d0da46.dd28e8","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":490,"y":460,"wires":[["3c73dc36.e768a4"]]},{"id":"f2d8abb5.2ed5b8","type":"function","z":"93d0da46.dd28e8","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload.fasta = \"createDot/out/\" + msg.req.files[0].originalname\nmsg.payload.pathfolder = \"createDot/out\"\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":340,"wires":[["cc2839b1.8dc898"]]},{"id":"b87fdc4f.d0c4c","type":"function","z":"93d0da46.dd28e8","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\nif(msg.payload.zip===\"no\") {\n    msg.payload = msg.payload.outputname\n    return[msg,null,null]\n}\nelse if(msg.payload.zip===\"yes\") {\n    msg.payload.outputname = msg.payload.outputname.slice(0,-4) + \".zip\";\n    msg.payload.pathIn = \"createDot/out\"\n    msg.payload.pathOut = \"createDot/\"+msg.payload.outputname\n    return [null,msg,null]\n}\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1200,"y":420,"wires":[["38c6d250.3c870e"],["c5174234.58fd3"],["b1f62562.d0b098"]]},{"id":"9f1dfdab.d6405","type":"template","z":"93d0da46.dd28e8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/createDot/out/{{payload}}\" onclick=\"clickAndDisable(this);\">{{payload}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":400,"wires":[["452bf2f4.a6188c"]]},{"id":"3c73dc36.e768a4","type":"function","z":"93d0da46.dd28e8","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":460,"wires":[["cc2839b1.8dc898"]]},{"id":"cc2839b1.8dc898","type":"join","z":"93d0da46.dd28e8","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":750,"y":420,"wires":[["429c5677.e6d918"]]},{"id":"38c6d250.3c870e","type":"delay","z":"93d0da46.dd28e8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1400,"y":400,"wires":[["9f1dfdab.d6405"]]},{"id":"b64c3485.8efdc8","type":"ui_template","z":"93d0da46.dd28e8","group":"e89f74f4.1fb5d8","name":"Data-table","order":1,"width":"24","height":"14","format":"<html>  \n  <head>\n      <style>\n.center {\n  position: absolute;\n  top: 8%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n}\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n  </head>\n  <body>\n  <center>\n \n      <br><br><br><br>\n    <form action=\"/createdotfromfasta\" method=\"post\" enctype=\"multipart/form-data\">\n    <div style=\"width:700px; height:45px; border:5px outset navy;\"> <font face=\"Verdana\" size=\"6\">CREATE DOT FROM FASTA</font><br /></div>\n    <p>_________________________________________________________________________________________________________________</p> <br>\n      <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Fasta File:&emsp;</label>\n      <input id=\"file-input-fasta\" type=\"file\" name=\"file\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"no\">NO</option>\n          <option value=\"yes\">YES</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"submit\" style=\"width: 250px; height: 43px\" />\n     \n    </form>\n    </center>\n      </body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":130,"y":360,"wires":[[]]},{"id":"b1db4c7e.f2006","type":"fs-ops-delete","z":"93d0da46.dd28e8","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1110,"y":520,"wires":[[]]},{"id":"a4f25d47.255a5","type":"change","z":"93d0da46.dd28e8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.stdout","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":340,"wires":[["7bea7ade.0ad834"]]},{"id":"7bea7ade.0ad834","type":"ui_toast","z":"93d0da46.dd28e8","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1410,"y":340,"wires":[[]]},{"id":"c5174234.58fd3","type":"zip_folder","z":"93d0da46.dd28e8","name":"","pathIn":"","pathOut":"","x":1400,"y":460,"wires":[["f74e8007.cc9c6"]]},{"id":"31b84d1f.589d22","type":"template","z":"93d0da46.dd28e8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"/file/{{payload.pathOut}}\" onclick=\"clickAndDisable(this);\">{{payload.outputname}}</a>\n</div>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":460,"wires":[["452bf2f4.a6188c"]]},{"id":"f74e8007.cc9c6","type":"delay","z":"93d0da46.dd28e8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1560,"y":460,"wires":[["31b84d1f.589d22"]]},{"id":"f7f9f662.26b678","type":"ui_text","z":"93d0da46.dd28e8","group":"6ee01b0.d1889e4","order":1,"width":"26","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":130,"y":480,"wires":[]},{"id":"b1f62562.d0b098","type":"delay","z":"93d0da46.dd28e8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1400,"y":520,"wires":[["c8fef51e.190b68"]]},{"id":"c8fef51e.190b68","type":"template","z":"93d0da46.dd28e8","name":"html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n      </head>\n  <body>\n      <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>\n</html>","output":"str","x":1710,"y":520,"wires":[["452bf2f4.a6188c"]]},{"id":"429c5677.e6d918","type":"create_dot_from_fasta","z":"93d0da46.dd28e8","name":"","fasta":"","pathfolder":"","outputname":"","x":940,"y":420,"wires":[["a4f25d47.255a5","b87fdc4f.d0c4c","b1db4c7e.f2006"]]},{"id":"47f33c15.c23984","type":"tab","label":"Login","disabled":false,"info":""},{"id":"6f0bc1cb.63434","type":"ui_form","z":"47f33c15.c23984","name":"Dashboard Sign-In","label":"","group":"6717cb13.667b14","order":0,"width":"6","height":"8","options":[{"label":"username","value":"username","type":"text","required":true,"rows":null},{"label":"password","value":"password","type":"password","required":true,"rows":null}],"formValue":{"username":"","password":""},"payload":"","submit":"submit","cancel":"cancel","topic":"","x":250,"y":140,"wires":[["f01e22ca.947ef","a838dad5.42c908","d36e698c.456128"]]},{"id":"a70f3f15.8a6db","type":"debug","z":"47f33c15.c23984","name":"Debug Account Log ","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":818.0000915527344,"y":101.00000762939453,"wires":[]},{"id":"325319f5.7cb2e6","type":"comment","z":"47f33c15.c23984","name":"Sign-In Section","info":"","x":250.00000762939453,"y":82.99999618530273,"wires":[]},{"id":"f01e22ca.947ef","type":"function","z":"47f33c15.c23984","name":"Account Log","func":"var accountlog =  flow.get(\"accountlog\") || [] ; \n\naccountlog.push({ accessAt : new Date(), username : msg.payload.username})\n\nflow.set(\"accountlog\", accountlog);\n\nmsg.payload = accountlog;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":449.00000762939453,"y":109.99999618530273,"wires":[["a70f3f15.8a6db"]]},{"id":"a838dad5.42c908","type":"function","z":"47f33c15.c23984","name":"Account Verification","func":"var accounts =  flow.get(\"accounts\") || [ { username : \"admin\", password : \"admin\"},{ username : \"guest\", password : \"guest\"}] ; \n\nvar username = msg.payload.username ;\nvar password = msg.payload.password ; \n\nmsg.payload = 1;\n\naccounts.forEach(function ( account ){\n    if ( account.username == username ) {\n       msg.payload = 2;\n       if ( account.password == password ) {\n           msg.payload = 0;\n       } \n    }\n});\n\n/*if ( msg.payload === 0 ) {\n  var currentsocketid = flow.get(\"clientid\") || undefined;\n  if ( currentsocketid !== undefined && currentsocketid !== msg.socketid ) msg.payload = 3;\n}*/\n// keep the original socketid from msg.socketid;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":462.0000457763672,"y":155.0000057220459,"wires":[["3b7388c7.6f4638"]]},{"id":"3b7388c7.6f4638","type":"switch","z":"47f33c15.c23984","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"str"},{"t":"eq","v":"1","vt":"str"},{"t":"eq","v":"2","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":631.0000419616699,"y":185.9999885559082,"wires":[["e95c98f4.45a9f8"],["e9573277.073fa"],["c07beb81.200688"]]},{"id":"e95c98f4.45a9f8","type":"function","z":"47f33c15.c23984","name":"= 0 : Success","func":"/* activate session timer */\nvar sessionTimer =  flow.get(\"sessionTimer\") || 0; \nvar currTime = Date.now();\nflow.set(\"sessionTimer\", currTime);\nflow.set(\"clientid\", msg.socketid);\n/* ui-control payload */\nmsg.payload = { group: {\n    show : [\"CreateDataset_Form\",\"Python_Form\",\"ComplexProcess_Process\",\"IncrementFasta_IncrementFasta\", \"ExtractFromCUFF_ExtractFromCUFF\",\"RemoveFromFasta_RemoveFromFasta\",\"ExtractFromTopat_ExtractFromTopat\", \"MergeFasta_MergeFasta\",\"RemoveNucleotides_RemoveNucleotides\", \"ExtractFromAugustus_ExtractFromAugustus\", \"ExtractFromStringTie_ExtractFromStringTie\", \"CreateDotFromFasta_CreateDotFromFasta\", \"Dashboard_Signout\"],\n    hide : [\"CreateDataset_AuthMessage\",\"Python_AuthMessage\",\"ComplexProcess_AuthMessage\",\"Dashboard_Signin\", \"IncrementFasta_AuthMessage\", \"ExtractFromCUFF_AuthMessage\",\"ExtractFromTopat_AuthMessage\",\"RemoveFromFasta_AuthMessage\", \"MergeFasta_AuthMessage\",\"RemoveNucleotides_AuthMessage\",\"ExtractFromAugustus_AuthMessage\", \"ExtractFromStringTie_AuthMessage\", \"CreateDotFromFasta_AuthMessage\"]\n    }\n};\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":800.999885559082,"y":141.99999809265137,"wires":[["1e0eae6f.26b7c2"]]},{"id":"e9573277.073fa","type":"function","z":"47f33c15.c23984","name":"= 1 : Unknown User","func":"msg.payload = \"Username Doesn't exist!!!\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":821.9998931884766,"y":179,"wires":[["26d169f2.21b4d6"]]},{"id":"c07beb81.200688","type":"function","z":"47f33c15.c23984","name":"= 2 : Wrong Password","func":"msg.payload = \"Invalid Password\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":822.9999618530273,"y":216.0000123977661,"wires":[["26d169f2.21b4d6"]]},{"id":"1e0eae6f.26b7c2","type":"ui_ui_control","z":"47f33c15.c23984","name":"Go to App Groups","events":"all","x":1058.0000686645508,"y":141.9999942779541,"wires":[[]]},{"id":"26d169f2.21b4d6","type":"ui_toast","z":"47f33c15.c23984","position":"dialog","displayTime":"3","highlight":"","outputs":1,"ok":"OK","cancel":"","topic":"Authentication Failed","name":"Authentication Failure Dialog","x":1087.9999732971191,"y":199,"wires":[[]]},{"id":"7fb6288f.5430b8","type":"ui_ui_control","z":"47f33c15.c23984","name":"Go to Signin Group","x":610,"y":360,"wires":[[]]},{"id":"6ad42c67.fbaf34","type":"function","z":"47f33c15.c23984","name":"Sign-In Redirection","func":"msg = {};\n\nmsg.socketid = flow.get(\"clientid\") || undefined;\nmsg.payload = { group: {\n    show : [\"CreateDataset_AuthMessage\",\"Python_AuthMessage\",\"ComplexProcess_AuthMessage\",\"Dashboard_Signin\", \"IncrementFasta_AuthMessage\", \"ExtractFromCUFF_AuthMessage\",\"ExtractFromTopat_AuthMessage\",\"MergeFasta_AuthMessage\",\"RemoveFromFasta_AuthMessage\",\"RemoveNucleotides_AuthMessage\", \"ExtractFromAugustus_AuthMessage\", \"ExtractFromStringTie_AuthMessage\", \"CreateDotFromFasta_AuthMessage\"],\n    hide : [\"CreateDataset_Form\",\"Python_Form\",\"ComplexProcess_Process\",\"IncrementFasta_IncrementFasta\", \"ExtractFromCUFF_ExtractFromCUFF\",\"RemoveFromFasta_RemoveFromFasta\",\"ExtractFromTopat_ExtractFromTopat\",\"MergeFasta_MergeFasta\",\"RemoveNucleotides_RemoveNucleotides\", \"ExtractFromAugustus_ExtractFromAugustus\", \"ExtractFromStringTie_ExtractFromStringTie\", \"CreateDotFromFasta_CreateDotFromFasta\",\"Dashboard_Signout\"]\n}\n};\nflow.set(\"sessionTimer\", 0);\n\nflow.set(\"clientid\", undefined);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":390,"y":360,"wires":[["7fb6288f.5430b8"]]},{"id":"d36e698c.456128","type":"debug","z":"47f33c15.c23984","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":431.5000419616699,"y":220.5347557067871,"wires":[]},{"id":"c85972e3.fe7e5","type":"ui_button","z":"47f33c15.c23984","name":"Signout","group":"eac2a716.8bf7e8","order":2,"width":0,"height":0,"passthru":false,"label":"Log Out","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":220,"y":360,"wires":[["6ad42c67.fbaf34"]]},{"id":"89f60525.f831b8","type":"comment","z":"47f33c15.c23984","name":"Session Management - 1 h","info":"","x":250,"y":440,"wires":[]},{"id":"f9346371.3d342","type":"inject","z":"47f33c15.c23984","name":"Session Timeout","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"0.1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":210,"y":540,"wires":[["e842b731.198fb8","5fb61ab5.ae28e4"]]},{"id":"e842b731.198fb8","type":"function","z":"47f33c15.c23984","name":"Detect Session Timer","func":"var sessionTimer =  flow.get(\"sessionTimer\") || 0; \nvar currTime = Date.now();\nvar SESSION_TIMEOUT = 3600000; //1h\n\n\nif ( sessionTimer === 0 /* Inactive, No user signed in */ ) {\n    msg.payload = 2;\n} else {\n    if ( currTime - sessionTimer > SESSION_TIMEOUT ) {\n      msg.payload = 0;  \n    } else {\n      msg.payload = 1;        \n    }\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":406.50003814697266,"y":495,"wires":[["97d5270d.b02268"]]},{"id":"97d5270d.b02268","type":"switch","z":"47f33c15.c23984","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"str"},{"t":"eq","v":"1","vt":"str"},{"t":"eq","v":"2","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":576.500072479248,"y":493,"wires":[["d18dad5c.62776"],[],["225270f6.e608a"]]},{"id":"d18dad5c.62776","type":"function","z":"47f33c15.c23984","name":"Time-Out","func":"/* activate session timer */\nvar sessionTimer =  flow.get(\"sessionTimer\") || 0; \nflow.set(\"sessionTimer\", 0);\n\nmsg.socketid = flow.get(\"clientid\") || undefined;\nmsg.payload = \"Session Expired! Please singin again!\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":732.4999847412109,"y":466.00000381469727,"wires":[["be9177f1.d52bf8","6e06b78.3cdd848"]]},{"id":"be9177f1.d52bf8","type":"ui_toast","z":"47f33c15.c23984","position":"dialog","displayTime":"3","highlight":"","outputs":1,"ok":"OK","cancel":"","topic":"Session Timeout","name":"Time-Out Dialog","x":920.000114440918,"y":432.00000381469727,"wires":[[]]},{"id":"3d09cda.9513032","type":"ui_ui_control","z":"47f33c15.c23984","name":"Go to Signin Group","events":"all","x":1130,"y":480,"wires":[[]]},{"id":"6e06b78.3cdd848","type":"function","z":"47f33c15.c23984","name":"Sign-In Redirection","func":"msg = {};\n\nmsg.socketid = flow.get(\"clientid\") || undefined;\nmsg.payload = { group: {\n    show : [\"CreateDataset_AuthMessage\",\"Python_AuthMessage\",\"ComplexProcess_AuthMessage\",\"Dashboard_Signin\", \"IncrementFasta_AuthMessage\", \"ExtractFromCUFF_AuthMessage\",\"ExtractFromTopat_AuthMessage\",\"MergeFasta_AuthMessage\",\"RemoveFromFasta_AuthMessage\",\"RemoveNucleotides_AuthMessage\", \"ExtractFromAugustus_AuthMessage\", \"ExtractFromStringTie_AuthMessage\", \"CreateDotFromFasta_AuthMessage\"],\n    hide : [\"CreateDataset_Form\",\"Python_Form\",\"ComplexProcess_Process\",\"IncrementFasta_IncrementFasta\", \"ExtractFromCUFF_ExtractFromCUFF\",\"RemoveFromFasta_RemoveFromFasta\",\"ExtractFromTopat_ExtractFromTopat\",\"MergeFasta_MergeFasta\",\"RemoveNucleotides_RemoveNucleotides\", \"ExtractFromAugustus_ExtractFromAugustus\", \"ExtractFromStringTie_ExtractFromStringTie\", \"CreateDotFromFasta_CreateDotFromFasta\",\"Dashboard_Signout\"]\n}\n};\n\nflow.set(\"clientid\", undefined);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":930,"y":480,"wires":[["3d09cda.9513032"]]},{"id":"5fb61ab5.ae28e4","type":"function","z":"47f33c15.c23984","name":"Calculating Remaining Time (Debug)","func":"var sessionTimer =  flow.get(\"sessionTimer\") || 0; \nvar currTime = Date.now();\nvar remainingSecs = Math.floor((3600000 - (currTime - sessionTimer))/1000) + 1;\n    \nif ( sessionTimer === 0 /* Inactive, No user signed in */ ) {\n    return null;\n} else {\n    \n    if ( remainingSecs <= 7 ) msg.payload = \"Remaining : \" + remainingSecs + \" secs\";  \n    else return null;\n}\n\nmsg.socketid = flow.get(\"clientid\") || \"B1234\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":456.5000305175781,"y":583.0000123977661,"wires":[[]]},{"id":"225270f6.e608a","type":"function","z":"47f33c15.c23984","name":"Signin Goup","func":"msg = {};\nmsg.payload = { group: {\n   show : [\"CreateDataset_AuthMessage\",\"Python_AuthMessage\",\"ComplexProcess_AuthMessage\",\"Dashboard_Signin\", \"IncrementFasta_AuthMessage\", \"ExtractFromCUFF_AuthMessage\",\"ExtractFromTopat_AuthMessage\",\"MergeFasta_AuthMessage\",\"RemoveFromFasta_AuthMessage\",\"RemoveNucleotides_AuthMessage\", \"ExtractFromAugustus_AuthMessage\", \"ExtractFromStringTie_AuthMessage\", \"CreateDotFromFasta_AuthMessage\"],\n    hide : [\"CreateDataset_Form\",\"Python_Form\",\"ComplexProcess_Process\",\"IncrementFasta_IncrementFasta\", \"ExtractFromCUFF_ExtractFromCUFF\",\"RemoveFromFasta_RemoveFromFasta\",\"ExtractFromTopat_ExtractFromTopat\",\"MergeFasta_MergeFasta\",\"RemoveNucleotides_RemoveNucleotides\", \"ExtractFromAugustus_ExtractFromAugustus\", \"ExtractFromStringTie_ExtractFromStringTie\", \"CreateDotFromFasta_CreateDotFromFasta\",\"Dashboard_Signout\"]\n}\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":730,"y":540,"wires":[["1c7976c4.1dcb79"]]},{"id":"1c7976c4.1dcb79","type":"ui_ui_control","z":"47f33c15.c23984","name":"Go to Signin Group","events":"all","x":950,"y":540,"wires":[[]]},{"id":"ccd0f1e6.2b009","type":"ui_text","z":"47f33c15.c23984","group":"eac2a716.8bf7e8","order":1,"width":0,"height":0,"name":"SignoutText","label":"YOU ARE CORRECTLY LOGGED IN","format":"Click here to log out.","layout":"col-center","x":230,"y":300,"wires":[]},{"id":"14b69582.157d0a","type":"tab","label":"GetFile","disabled":false,"info":""},{"id":"13dbab87.d0add4","type":"function","z":"14b69582.157d0a","name":"Set base path","func":"msg.filename = msg.req.params.dir + \"/out/\" + msg.req.params.name\nmsg.payload = msg.filename\nreturn [msg, null];","outputs":1,"noerr":0,"initialize":"","finalize":"","x":360,"y":100,"wires":[["889d4c80.cd117","177dcce7.d6d233"]]},{"id":"db6c5408.f35778","type":"http response","z":"14b69582.157d0a","name":"","statusCode":"","headers":{},"x":870,"y":100,"wires":[]},{"id":"889d4c80.cd117","type":"file in","z":"14b69582.157d0a","name":"","filename":"","format":"","chunk":false,"sendError":false,"encoding":"none","x":590,"y":100,"wires":[["db6c5408.f35778","cee3dd83.07674"]]},{"id":"3298bac3.a07e66","type":"catch","z":"14b69582.157d0a","name":"","scope":null,"uncaught":false,"x":900,"y":220,"wires":[["573b73db.2675ac","a6c7f187.214cc"]]},{"id":"573b73db.2675ac","type":"function","z":"14b69582.157d0a","name":"Set 404","func":"msg.payload = msg.error;\nmsg.statusCode = 404;//resource not found\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1100,"y":220,"wires":[["db6c5408.f35778"]]},{"id":"a6c7f187.214cc","type":"debug","z":"14b69582.157d0a","name":"msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":1010,"y":280,"wires":[]},{"id":"a561f4a9.94ba48","type":"http in","z":"14b69582.157d0a","name":"","url":"/file/:dir/out/:name","method":"get","upload":false,"swaggerDoc":"","x":140,"y":100,"wires":[["13dbab87.d0add4"]]},{"id":"aae90b52.f335f8","type":"fs-ops-delete","z":"14b69582.157d0a","name":"","path":"","pathType":"str","filename":"filename","filenameType":"msg","x":570,"y":280,"wires":[[]]},{"id":"cee3dd83.07674","type":"function","z":"14b69582.157d0a","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":160,"wires":[["177dcce7.d6d233"]]},{"id":"177dcce7.d6d233","type":"join","z":"14b69582.157d0a","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":510,"y":220,"wires":[["aae90b52.f335f8"]]},{"id":"d047e213.e2f79","type":"function","z":"14b69582.157d0a","name":"Set base path","func":"msg.filename = msg.req.params.dir + \"/\" + msg.req.params.name\nmsg.payload = msg.filename\nreturn [msg, null];","outputs":1,"noerr":0,"initialize":"","finalize":"","x":360,"y":380,"wires":[["a1f9c2d4.fa2f8","9c505772.215c58"]]},{"id":"1bf051ba.78496e","type":"http response","z":"14b69582.157d0a","name":"","statusCode":"","headers":{},"x":870,"y":380,"wires":[]},{"id":"a1f9c2d4.fa2f8","type":"file in","z":"14b69582.157d0a","name":"","filename":"","format":"","chunk":false,"sendError":false,"encoding":"none","x":590,"y":380,"wires":[["1bf051ba.78496e","85364c59.ac06c"]]},{"id":"a689ae39.5a374","type":"catch","z":"14b69582.157d0a","name":"","scope":null,"uncaught":false,"x":900,"y":500,"wires":[["b65db162.a55e8","23001868.851ed8"]]},{"id":"b65db162.a55e8","type":"function","z":"14b69582.157d0a","name":"Set 404","func":"msg.payload = msg.error;\nmsg.statusCode = 404;//resource not found\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1100,"y":500,"wires":[["1bf051ba.78496e"]]},{"id":"23001868.851ed8","type":"debug","z":"14b69582.157d0a","name":"msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":1010,"y":560,"wires":[]},{"id":"816593b.8f5ed7","type":"http in","z":"14b69582.157d0a","name":"","url":"/file/:dir/:name","method":"get","upload":false,"swaggerDoc":"","x":130,"y":380,"wires":[["d047e213.e2f79"]]},{"id":"a1b8df15.bb5ea","type":"fs-ops-delete","z":"14b69582.157d0a","name":"","path":"","pathType":"str","filename":"filename","filenameType":"msg","x":570,"y":560,"wires":[[]]},{"id":"85364c59.ac06c","type":"function","z":"14b69582.157d0a","name":"","func":"msg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":440,"wires":[["9c505772.215c58"]]},{"id":"9c505772.215c58","type":"join","z":"14b69582.157d0a","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":510,"y":500,"wires":[["a1b8df15.bb5ea"]]},{"id":"b0b611c8.366dd","type":"tab","label":"Complex-Process","disabled":false,"info":""},{"id":"4b4f7aa5.078ab4","type":"http in","z":"b0b611c8.366dd","name":"","url":"/process","method":"post","upload":true,"swaggerDoc":"","x":180,"y":340,"wires":[["83dfd8a3.e9b7a8","eb6a8079.0021e","3c740d4b.044302","900efd48.ae88e","58f0763a.a1c578","8ceaa465.3169d8","9f093eb5.a299a","8dbd22d.3ab58e","de018491.8edd78"]]},{"id":"eb6a8079.0021e","type":"function","z":"b0b611c8.366dd","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.payload.outputname);\n//global.set(\"flanking\",msg.payload.flanking);\n\nvar msg1 = { payload: msg.req.files[2].buffer, filename: \"extractFromTopat/out/\" + msg.req.files[2].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromTopat/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":460,"y":500,"wires":[["df7b2cfe.dd90e"],["e0879a1.1d69868"]]},{"id":"df7b2cfe.dd90e","type":"file","z":"b0b611c8.366dd","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":590,"y":440,"wires":[["a1a52aca.cd6f78"]]},{"id":"900efd48.ae88e","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload.fasta = \"extractFromTopat/out/\" + msg.req.files[0].originalname\nmsg.payload.tp = \"extractFromTopat/out/\" + msg.req.files[2].originalname\nmsg.payload.pathfolder = \"outputProcess/out\"\nmsg.payload.flanking = msg.payload.flanking\nmsg.payload.outputname = \"IR_\" + msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":740,"wires":[["ca9abb44.7eecf8"]]},{"id":"66b63562.826f2c","type":"ui_template","z":"b0b611c8.366dd","d":true,"group":"1a1e1f30.7c4dd1","name":"Data-table","order":1,"width":0,"height":0,"format":"<style>\n .auto-style1 {\n margin-left: 0px;\n }\n </style>\n      <center>\n    <form id=\"upload_form\" method=\"post\" enctype=\"multipart/form-data\">\n        <br>\n      <label style=\"font-size:20px\"  for=\"fasta\">Genoma File:&emsp;</label>\n      <input id=\"filefasta\" type=\"file\" name=\"filefasta\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".fasta\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"gtf\">GTF file:&emsp;</label>\n      <input id=\"filegtf\" type=\"file\" name=\"filegtf\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\"  for=\"irgtf\"> IR GTF file:&emsp;</label>\n      <input id=\"fileirgtf\" type=\"file\" name=\"fileirgtf\" class=\"auto-style1\" style=\"width: 273px; height: 34px\" accept=\".gtf\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"outputname\">Output name:&emsp;</label>\n      <input type=\"text\" name=\"outputname\" id=\"outputname\" style=\"width: 200px; height: 20px\" required/>\n      <br><br><br>\n      <label style=\"font-size:20px\" for=\"flanking\">Flanking:&emsp;</label>\n      <input type=\"text\" name=\"flanking\" id=\"flanking\" style=\"width: 200px; height: 20px\"/>\n      <br><br>\n      <label for=\"zip\">Want zip the output(if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select>\n    <p>_________________________________________________________________________________________________________________</p>\n      <br>\n      <input type=\"button\" value=\"Start\" onclick=\"uploadFile()\"> <br>\n      <progress id=\"progressBar\" value=\"0\" max=\"100\" style=\"width:300px;\"></progress>\n      <p id=\"status\"></p>\n    </form>\n    </center>\n    \n    <script>\n    function _(el){\n    return document.getElementById(el);\n}\nfunction uploadFile(){\n    var fileFasta = _(\"filefasta\").files[0];\n    var fileGTF = _(\"filegtf\").files[0];\n    var fileIRGTF = _(\"fileirgtf\").files[0];\n    var outputname = document.getElementById('outputname').value\n    var flanking = document.getElementById('flanking').value\n    var zip = document.getElementById('zip').value\n\n    var formdata = new FormData();\n    formdata.append(\"filefasta\", fileFasta);\n    formdata.append(\"filegtf\", fileGTF);\n    formdata.append(\"fileirgtf\", fileIRGTF);\n    formdata.append(\"outputname\", outputname);\n    formdata.append(\"flanking\", flanking);\n    formdata.append(\"zip\", zip);\n    var ajax = new XMLHttpRequest();\n    ajax.upload.addEventListener(\"progress\", progressHandler, false);\n    ajax.addEventListener(\"load\", completeHandler, false);\n    ajax.addEventListener(\"error\", errorHandler, false);\n    ajax.addEventListener(\"abort\", abortHandler, false);\n    ajax.open(\"POST\", \"/process\");\n    ajax.send(formdata);\n}\nfunction progressHandler(event){\n    var percent = (event.loaded / event.total) * 100;\n    _(\"progressBar\").value = Math.round(percent);\n    _(\"status\").innerHTML = Math.round(percent)+\"% uploaded... please wait\";\n}\nfunction completeHandler(event){\n    _(\"status\").innerHTML = \"Upload Done\";\n    _(\"progressBar\").value = 0;\n}\nfunction errorHandler(event){\n    _(\"status\").innerHTML = \"Upload Failed\";\n}\nfunction abortHandler(event){\n    _(\"status\").innerHTML = \"Upload Aborted\";\n}\n</script>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":170,"y":80,"wires":[[]]},{"id":"e0879a1.1d69868","type":"file","z":"b0b611c8.366dd","name":"topat","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":590,"y":560,"wires":[["2e88468c.413d1a"]]},{"id":"ca9abb44.7eecf8","type":"join","z":"b0b611c8.366dd","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"8","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":970,"y":540,"wires":[["fce13ce7.9b4d3"]]},{"id":"a1a52aca.cd6f78","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload = {\n    f1:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":740,"y":440,"wires":[["ca9abb44.7eecf8"]]},{"id":"2e88468c.413d1a","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload = {\n    f2:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":740,"y":560,"wires":[["ca9abb44.7eecf8"]]},{"id":"fce13ce7.9b4d3","type":"extract_intron_using_bed_file_from_topat","z":"b0b611c8.366dd","name":"","fasta":"","tp":"","pathfolder":"","outputname":"","flanking":"","x":1220,"y":540,"wires":[["e10ab107.52201","c794aafc.1a1278","9cb35070.fc153","e5fd75d6.566998","59e375f3.1b979c"]]},{"id":"83dfd8a3.e9b7a8","type":"function","z":"b0b611c8.366dd","name":"","func":"//msg.name = msg.req.files[0].originalname;\nglobal.set(\"name\",msg.payload.outputname);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"extractFromCUFF/out/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"extractFromCUFF/out/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":460,"y":220,"wires":[["1a8bc2cc.4fa69d"],["eeed6390.36916"]]},{"id":"1a8bc2cc.4fa69d","type":"file","z":"b0b611c8.366dd","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":590,"y":160,"wires":[["7e6d96e3.8b4018"]]},{"id":"3c740d4b.044302","type":"function","z":"b0b611c8.366dd","name":"","func":"//global.set(\"name\",msg.payload.outputname);\nmsg.payload.fasta = \"extractFromCUFF/out/\" + msg.req.files[0].originalname\nmsg.payload.cuff = \"extractFromCUFF/out/\" + msg.req.files[1].originalname\nmsg.payload.pathfolder = \"extractFromCUFF/out\"\nmsg.payload.flanking = msg.payload.flanking\nmsg.payload.outputname = msg.payload.outputname\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":40,"wires":[["e1042467.594368"]]},{"id":"eeed6390.36916","type":"file","z":"b0b611c8.366dd","name":"CUFF","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":590,"y":280,"wires":[["5793135.1c1efec"]]},{"id":"e1042467.594368","type":"join","z":"b0b611c8.366dd","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"8","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":950,"y":140,"wires":[["a0e1f1b8.49f5e"]]},{"id":"7e6d96e3.8b4018","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload = {\n    f1:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":740,"y":160,"wires":[["e1042467.594368"]]},{"id":"5793135.1c1efec","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload = {\n    f2:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":740,"y":280,"wires":[["e1042467.594368"]]},{"id":"a0e1f1b8.49f5e","type":"extract_intron_from_cuff_gtf","z":"b0b611c8.366dd","name":"","fasta":"","cuff":"","pathfolder":"","outputname":"","flanking":"","x":1180,"y":140,"wires":[["a507bffc.9bc9e","8228124f.ded84","26d77409.1635ec","86656c20.cbea7","988213db.0c3f4"]]},{"id":"8228124f.ded84","type":"fs-ops-delete","z":"b0b611c8.366dd","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1450,"y":40,"wires":[[]]},{"id":"26d77409.1635ec","type":"fs-ops-delete","z":"b0b611c8.366dd","name":"Delete Cuff","path":"","pathType":"str","filename":"payload.cuff","filenameType":"msg","x":1450,"y":80,"wires":[[]]},{"id":"9cb35070.fc153","type":"fs-ops-delete","z":"b0b611c8.366dd","name":"Delete Topat","path":"","pathType":"str","filename":"payload.tp","filenameType":"msg","x":1470,"y":720,"wires":[[]]},{"id":"c794aafc.1a1278","type":"fs-ops-delete","z":"b0b611c8.366dd","name":"Delete Fasta","path":"","pathType":"str","filename":"payload.fasta","filenameType":"msg","x":1470,"y":660,"wires":[[]]},{"id":"a507bffc.9bc9e","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload = {\n    fasta1: msg.payload.pathfolder + \"/\" + msg.payload.outputname\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1220,"y":300,"wires":[["58f0763a.a1c578"]]},{"id":"e10ab107.52201","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload = {\n    fasta2: msg.payload.pathfolder + \"/\" + msg.payload.outputname,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1220,"y":380,"wires":[["58f0763a.a1c578"]]},{"id":"58f0763a.a1c578","type":"join","z":"b0b611c8.366dd","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"5","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1410,"y":340,"wires":[["55120e79.ba83f","8ee819f.6f0a2e8","c7d0892a.b492e8"]]},{"id":"49ba2fe1.37ae3","type":"function","z":"b0b611c8.366dd","name":"","func":"//var name = global.get(\"name\");\nif(msg.payload.stdout!==\"Error\") {\n    if(msg.payload.zip===\"no\") {\n        msg.payload.path = \"/file/outputProcess/out/\"+msg.payload.outputname\n        msg.payload.fasta2 = \"/file/\"+msg.payload.fasta2\n        return[msg,null,null]\n    }\n    else if(msg.payload.zip===\"yes\") {\n        msg.payload.outputname = msg.payload.outzip.slice(0,-6) + \".zip\";\n        msg.payload.pathIn = \"outputProcess/out\"\n        msg.payload.pathOut = \"outputProcess/\"+msg.payload.outputname\n        return [null,msg,null]\n    }\n}\nelse {\n    return [null,null,msg]\n}\n","outputs":3,"noerr":0,"initialize":"","finalize":"","x":2320,"y":340,"wires":[["fe67f67e.0f7988","3b0c40d6.ed615"],["fb52e1d4.360e9"],["2a4f4be2.8adb14"]]},{"id":"fb52e1d4.360e9","type":"zip_folder","z":"b0b611c8.366dd","name":"","pathIn":"","pathOut":"","x":2520,"y":340,"wires":[["7a3ac23a.43eedc","6eb2577.5864ea8"]]},{"id":"92c71040.cc476","type":"remove_conting_from_fasta","z":"b0b611c8.366dd","name":"","fasta1":"","fasta2":"","pathfolder":"","outputname":"","x":1800,"y":340,"wires":[["acc476a5.bc2468","666d5815.866a88","8438f967.8c12b8"]]},{"id":"55120e79.ba83f","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload.pathfolder = \"outputProcess/out\"\nmsg.payload.outzip = msg.payload.outputname\nmsg.payload.outputname = \"INR_\" + msg.payload.outputname\nmsg.payload.text = \"Remove contig from Fasta is processing...\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1580,"y":340,"wires":[["92c71040.cc476","64c0d7c1.d68288"]]},{"id":"8ee819f.6f0a2e8","type":"fs-ops-mkdir","z":"b0b611c8.366dd","name":"","path":"","pathType":"str","dirname":"removeFromFasta","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":1600,"y":280,"wires":[["60dc0b8.dcb58f4"]]},{"id":"60dc0b8.dcb58f4","type":"fs-ops-mkdir","z":"b0b611c8.366dd","name":"","path":"removeFromFasta/","pathType":"str","dirname":"out","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":1800,"y":280,"wires":[[]]},{"id":"e5fd75d6.566998","type":"json","z":"b0b611c8.366dd","name":"","property":"payload.stdout","action":"","pretty":true,"x":1670,"y":540,"wires":[["e73b9009.af6dc","717790e7.f1713"]]},{"id":"e73b9009.af6dc","type":"ui_gauge","z":"b0b611c8.366dd","name":"","group":"50e07f41.289da","order":5,"width":5,"height":3,"gtype":"gage","title":"Intron removed","label":"","format":"{{msg.payload.stdout.intron_removed}}","min":0,"max":"1","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1860,"y":540,"wires":[]},{"id":"717790e7.f1713","type":"ui_gauge","z":"b0b611c8.366dd","name":"","group":"50e07f41.289da","order":7,"width":5,"height":3,"gtype":"gage","title":"Total intron reteined","label":"","format":"{{msg.payload.stdout.total_intron_reteined}}","min":0,"max":"1","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1870,"y":580,"wires":[]},{"id":"86656c20.cbea7","type":"json","z":"b0b611c8.366dd","name":"","property":"payload.stdout","action":"","pretty":false,"x":1510,"y":140,"wires":[["ab807a9a.31bb58","1cf6b05d.bdd88","b4fea288.234d3","fb9824a7.252cc8"]]},{"id":"b4fea288.234d3","type":"ui_gauge","z":"b0b611c8.366dd","name":"","group":"50e07f41.289da","order":27,"width":6,"height":3,"gtype":"gage","title":"Total intron found","label":"","format":"{{msg.payload.stdout.total_intron_foud}}","min":0,"max":"1","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1870,"y":140,"wires":[]},{"id":"1cf6b05d.bdd88","type":"ui_gauge","z":"b0b611c8.366dd","name":"","group":"50e07f41.289da","order":16,"width":5,"height":3,"gtype":"gage","title":"Total intron removed","label":"","format":"{{msg.payload.stdout.total_intron_removed}}","min":0,"max":"1","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1880,"y":180,"wires":[]},{"id":"fb9824a7.252cc8","type":"ui_text","z":"b0b611c8.366dd","group":"50e07f41.289da","order":2,"width":8,"height":1,"name":"","label":"Intron Candidate","format":"{{msg.payload.stdout.candidate_intron}}","layout":"col-center","x":1870,"y":100,"wires":[]},{"id":"ab807a9a.31bb58","type":"function","z":"b0b611c8.366dd","name":"","func":"msg = {ui_control:{max:msg.payload.stdout.candidate_intron}};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1600,"y":200,"wires":[["1cf6b05d.bdd88","b4fea288.234d3","e73b9009.af6dc","717790e7.f1713","33c67309.e5eedc"]]},{"id":"3b0c40d6.ed615","type":"function","z":"b0b611c8.366dd","name":"Output_group","func":"msg = {};\nmsg.payload = { group: {\n    show : [\"ComplexProcess_Download\",\"ComplexProcess_Output\"],\n    hide : [\"ComplexProcess_Text\"]\n}\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2480,"y":480,"wires":[["ed5fd0fb.b9e62"]]},{"id":"ed5fd0fb.b9e62","type":"ui_ui_control","z":"b0b611c8.366dd","name":"Go to Group","events":"all","x":2770,"y":540,"wires":[[]]},{"id":"bb801adb.ec43a8","type":"ui_ui_control","z":"b0b611c8.366dd","name":"Refresh page restore","events":"all","x":160,"y":440,"wires":[["e5fef966.5c3108"]]},{"id":"e5fef966.5c3108","type":"function","z":"b0b611c8.366dd","name":"","func":"if(msg.payload == \"connect\" || msg.payload == \"change\") {\n    msg.payload = { group: {\n    show : [\"ComplexProcess_Process\"],\n    hide : [\"ComplexProcess_Text\",\"ComplexProcess_Download\",\"ComplexProcess_Output\",\"ComplexProcess_Error\",\"ComplexProcess_Zip\"]\n}\n};\n    return msg;\n}\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":160,"y":520,"wires":[["1b8e848c.c501db"]]},{"id":"1b8e848c.c501db","type":"ui_ui_control","z":"b0b611c8.366dd","name":"","events":"all","x":160,"y":600,"wires":[[]]},{"id":"acc476a5.bc2468","type":"json","z":"b0b611c8.366dd","name":"","property":"payload.stdout","action":"","pretty":true,"x":1970,"y":260,"wires":[["33c67309.e5eedc"]]},{"id":"33c67309.e5eedc","type":"ui_gauge","z":"b0b611c8.366dd","name":"","group":"50e07f41.289da","order":18,"width":5,"height":3,"gtype":"gage","title":"Total not reteined intron","label":"","format":"{{msg.payload.stdout.Total_Not_Reteined_Intron}}","min":0,"max":"1","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":2170,"y":200,"wires":[]},{"id":"e41562f6.4a3c4","type":"ui_text","z":"b0b611c8.366dd","group":"d709413c.16ff3","order":3,"width":8,"height":1,"name":"","label":"","format":"{{msg.payload}}","layout":"col-center","x":950,"y":300,"wires":[]},{"id":"21bcefed.bd6e9","type":"ui_text","z":"b0b611c8.366dd","group":"d709413c.16ff3","order":6,"width":8,"height":1,"name":"","label":"","format":"{{msg.payload}}","layout":"col-center","x":950,"y":380,"wires":[]},{"id":"9f093eb5.a299a","type":"function","z":"b0b611c8.366dd","name":"","func":"var msg1 = {payload:\"Extract intron from Astalavista is processing....\"}\nmsg.payload = \"Extract intron from CUFF is processing....\"\nreturn [msg,msg1]","outputs":2,"noerr":0,"initialize":"","finalize":"","x":740,"y":340,"wires":[["e41562f6.4a3c4"],["21bcefed.bd6e9"]]},{"id":"8ceaa465.3169d8","type":"function","z":"b0b611c8.366dd","name":"Redirection","func":"msg = {};\nmsg.payload = { group: {\n    show : [\"ComplexProcess_Text\"],\n    hide : [\"ComplexProcess_Process\"]\n}\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":150,"y":240,"wires":[["2c333c80.752bb4"]]},{"id":"2c333c80.752bb4","type":"ui_ui_control","z":"b0b611c8.366dd","name":"Go to Group","events":"all","x":150,"y":180,"wires":[[]]},{"id":"59e375f3.1b979c","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload = \"Process Extract intron from Astalavista: DONE!\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1070,"y":460,"wires":[["21bcefed.bd6e9"]]},{"id":"988213db.0c3f4","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload = \"Process Extract intron from CUFF: DONE!\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1040,"y":220,"wires":[["e41562f6.4a3c4"]]},{"id":"fe67f67e.0f7988","type":"ui_template","z":"b0b611c8.366dd","group":"836fc009.8a0ba","name":"Dowlnload","order":1,"width":24,"height":4,"format":"<script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <body>\n      <center>\n<h1>File Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"{{msg.payload.path}}\" onclick=\"clickAndDisable(this);\">Fasta Intron Not Retained</a> <br>\n    <a href=\"{{msg.payload.fasta2}}\" onclick=\"clickAndDisable(this);\">Fasta Intron Retained</a> <br>\n    <a href=\"{{msg.payload.path}}Plus\" onclick=\"clickAndDisable(this);\">Fasta Intron Not Retained PLUS</a> <br>\n    <a href=\"{{msg.payload.fasta2}}Plus\" onclick=\"clickAndDisable(this);\">Fasta Intron Retained PLUS</a>\n</div>\n</center>\n</body>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":false,"templateScope":"local","x":2790,"y":280,"wires":[[]]},{"id":"7a3ac23a.43eedc","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload.path = \"/file/\"+msg.payload.pathOut\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2680,"y":340,"wires":[["13dcd1d1.b0b57e"]]},{"id":"64c0d7c1.d68288","type":"ui_text","z":"b0b611c8.366dd","group":"d709413c.16ff3","order":9,"width":0,"height":0,"name":"","label":"","format":"{{msg.payload.text}}","layout":"col-center","x":1750,"y":860,"wires":[]},{"id":"8dbd22d.3ab58e","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload.text =\"\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":880,"wires":[["64c0d7c1.d68288"]]},{"id":"666d5815.866a88","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload.text = \"Process Remove contig from Fasta: DONE!\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2080,"y":720,"wires":[["64c0d7c1.d68288"]]},{"id":"bcf8eba4.dfb4c8","type":"ui_template","z":"b0b611c8.366dd","group":"2f9c22f8.c5777e","name":"Error","order":1,"width":8,"height":3,"format":" <body>\n <center>\n<h1>Files NOT Uploaded !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":2850,"y":400,"wires":[[]]},{"id":"2a4f4be2.8adb14","type":"function","z":"b0b611c8.366dd","name":"Error_group","func":"msg.payload = { group: {\n    show : [\"ComplexProcess_Error\"],\n    hide : [\"ComplexProcess_Text\"]\n}}\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2530,"y":420,"wires":[["ed5fd0fb.b9e62"]]},{"id":"de018491.8edd78","type":"fs-ops-mkdir","z":"b0b611c8.366dd","name":"","path":"","pathType":"str","dirname":"outputProcess","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":500,"y":800,"wires":[["55a6e744.7afd58"]]},{"id":"55a6e744.7afd58","type":"fs-ops-mkdir","z":"b0b611c8.366dd","name":"","path":"outputProcess/","pathType":"str","dirname":"out","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":700,"y":800,"wires":[[]]},{"id":"ae18024b.d030b","type":"ui_text","z":"b0b611c8.366dd","group":"6ff5e786.9cb028","order":1,"width":26,"height":9,"name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":150,"y":680,"wires":[]},{"id":"13dcd1d1.b0b57e","type":"ui_template","z":"b0b611c8.366dd","group":"279694d0.d74c8c","name":"Zip","order":1,"width":24,"height":3,"format":"<script> \n   function clickAndDisable(link) {\n     // disable subsequent clicks\n     link.onclick = function(event) {\n        event.preventDefault();\n     }\n   }   \n</script>  \n  <body>\n      <center>\n<h1>File Uploaded !</h1>\n<h3>Click the name for download it</h3>\n<div>\n    <a href=\"{{msg.payload.path}}\" onclick=\"clickAndDisable(this);\">{{msg.payload.outputname}}</a> <br>\n</div>\n</center>\n</body>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":2850,"y":340,"wires":[[]]},{"id":"6eb2577.5864ea8","type":"function","z":"b0b611c8.366dd","name":"zip_group","func":"msg.payload = { group: {\n    show : [\"ComplexProcess_Zip\",\"ComplexProcess_Output\"],\n    hide : [\"ComplexProcess_Text\"]\n}}\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2620,"y":380,"wires":[["ed5fd0fb.b9e62"]]},{"id":"5405b483.108fbc","type":"remove_conting_from_fasta","z":"b0b611c8.366dd","name":"","fasta1":"","fasta2":"","pathfolder":"","outputname":"","x":1800,"y":400,"wires":[["d3544281.2f19a"]]},{"id":"c7d0892a.b492e8","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload.pathfolder = \"outputProcess/out\"\nmsg.payload.outzip = msg.payload.outputname+\"Plus\"\nmsg.payload.outputname = \"INR_\" + msg.payload.outputname + \"Plus\"\nmsg.payload.fasta1 = msg.payload.fasta1 + \"Plus\"\nmsg.payload.fasta2 = msg.payload.fasta2 + \"Plus\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1580,"y":400,"wires":[["5405b483.108fbc"]]},{"id":"d3544281.2f19a","type":"function","z":"b0b611c8.366dd","name":"","func":"msg.payload = {go:\"y\"}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2060,"y":400,"wires":[["8438f967.8c12b8"]]},{"id":"8438f967.8c12b8","type":"join","z":"b0b611c8.366dd","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"10","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2150,"y":340,"wires":[["49ba2fe1.37ae3"]]},{"id":"87b0f376.cd3f5","type":"ui_template","z":"b0b611c8.366dd","group":"1a1e1f30.7c4dd1","name":"","order":1,"width":0,"height":0,"format":"<!DOCTYPE html>\n<html>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<link href=\"https://fonts.googleapis.com/css?family=Raleway\" rel=\"stylesheet\">\n<style>\n* {\n  box-sizing: border-box;\n}\n\nbody {\n  background-color: #f1f1f1;\n}\n\n#regForm {\n  background-color: #ffffff;\n  margin: 100px auto;\n  font-family: Raleway;\n  padding: 40px;\n  width: 70%;\n  min-width: 300px;\n}\n\nh1 {\n  text-align: center;  \n}\n\ninput {\n  padding: 10px;\n  width: 100%;\n  font-size: 17px;\n  font-family: Raleway;\n  border: 1px solid #aaaaaa;\n}\n\n/* Mark input boxes that gets an error on validation: */\ninput.invalid {\n  background-color: #ffdddd;\n}\n\n/* Hide all steps by default: */\n.tab {\n  display: none;\n}\n\nbutton {\n  background-color: #4CAF50;\n  color: #ffffff;\n  border: none;\n  padding: 10px 20px;\n  font-size: 17px;\n  font-family: Raleway;\n  cursor: pointer;\n}\n\nbutton:hover {\n  opacity: 0.8;\n}\n\n#prevBtn {\n  background-color: #bbbbbb;\n}\n\n/* Make circles that indicate the steps of the form: */\n.step {\n  height: 15px;\n  width: 15px;\n  margin: 0 2px;\n  background-color: #bbbbbb;\n  border: none;  \n  border-radius: 50%;\n  display: inline-block;\n  opacity: 0.5;\n}\n\n.step.active {\n  opacity: 1;\n}\n\n/* Mark the steps that are finished and valid: */\n.step.finish {\n  background-color: #4CAF50;\n}\n</style>\n<body>\n\n<form id=\"regForm\" action=\"/step\" method=\"post\" enctype=\"multipart/form-data\">\n  <h1>Complex Process</h1>\n  <!-- One \"tab\" for each step in the form: -->\n  <div class=\"tab\">Insert Genoma file:\n    <p><input placeholder=\"Fasta File\" id=\"filefasta\" type=\"file\" name=\"filefasta\"  accept=\".fasta\" oninput=\"this.className = ''\"></p>\n  </div>\n  <div class=\"tab\">Insert CUFF file:\n    <p><input placeholder=\"Cuff File\" id=\"filegtf\" type=\"file\" name=\"filegtf\" oninput=\"this.className = ''\" accept=\".gtf\"></p>\n  </div>\n  <div class=\"tab\">Insert Astalavista file:\n    <p><input placeholder=\"Astalavista File\" id=\"fileirgtf\" type=\"file\" name=\"fileirgtf\" class=\"auto-style1\" accept=\".gtf\" oninput=\"this.className = ''\"></p>\n  </div>\n  <div class=\"tab\">Insert output options:\n    <p><input placeholder=\"Name...\" oninput=\"this.className = ''\" name=\"outputname\" id=\"outputname\"></p>\n    <p><input placeholder=\"Flanking... (OPTIONAL)\" name=\"flanking\" id=\"flanking\"></p>\n    <label for=\"zip\">Want zip the output (if chose \"NO\" you can download the files individually):</label>\n      <select id=\"zip\" name=\"zip\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select> <br><br>\n  </div>\n  <div style=\"overflow:auto;\">\n    <div style=\"float:right;\">\n      <button type=\"button\" id=\"prevBtn\" onclick=\"nextPrev(-1)\">Previous</button>\n      <button type=\"button\" id=\"nextBtn\" onclick=\"nextPrev(1)\">Next</button>\n    </div>\n  </div>\n  <!-- Circles which indicates the steps of the form: -->\n  <div style=\"text-align:center;margin-top:40px;\">\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n  </div>\n  \n  <div style=\"text-align:center;margin-top:40px;\">\n      <progress id=\"progressBar\" value=\"0\" max=\"100\" style=\"width:300px;\"></progress>\n        <p id=\"status\"></p>\n  </div>\n</form>\n\n<script>\nvar currentTab = 0; // Current tab is set to be the first tab (0)\nshowTab(currentTab); // Display the current tab\n\nfunction showTab(n) {\n    document.getElementById(\"progressBar\").style.display = \"none\";\n  // This function will display the specified tab of the form...\n  var x = document.getElementsByClassName(\"tab\");\n  x[n].style.display = \"block\";\n  //... and fix the Previous/Next buttons:\n  if (n == 0) {\n    document.getElementById(\"prevBtn\").style.display = \"none\";\n  } else {\n    document.getElementById(\"prevBtn\").style.display = \"inline\";\n  }\n  if (n == (x.length - 1)) {\n    document.getElementById(\"nextBtn\").innerHTML = \"Submit\";\n  } else {\n    document.getElementById(\"nextBtn\").innerHTML = \"Next\";\n  }\n  //... and run a function that will display the correct step indicator:\n  fixStepIndicator(n)\n}\n\nfunction nextPrev(n) {\n  // This function will figure out which tab to display\n  var x = document.getElementsByClassName(\"tab\");\n  // Exit the function if any field in the current tab is invalid:\n  if (n == 1 && !validateForm()) return false;\n  // Hide the current tab:\n  x[currentTab].style.display = \"none\";\n  // Increase or decrease the current tab by 1:\n  currentTab = currentTab + n;\n  // if you have reached the end of the form...\n  if (currentTab >= x.length) {\n    // ... the form gets submitted:\n    //document.getElementById(\"regForm\").submit();\n     document.getElementById(\"progressBar\").style.display = \"inline\";\n    document.getElementById(\"prevBtn\").style.display = \"none\";\n    document.getElementById(\"nextBtn\").style.display = \"none\";\n    uploadFile();\n    return false;\n  }\n  // Otherwise, display the correct tab:\n  showTab(currentTab);\n}\n\nfunction validateForm() {\n  // This function deals with validation of the form fields\n  var x, y, i, valid = true;\n  x = document.getElementsByClassName(\"tab\");\n  y = x[currentTab].getElementsByTagName(\"input\");\n  // A loop that checks every input field in the current tab:\n  for (i = 0; i < y.length; i++) {\n    // If a field is empty...\n    if (y[i].value == \"\" && y[i].name != \"flanking\") {\n      // add an \"invalid\" class to the field:\n      y[i].className += \" invalid\";\n      // and set the current valid status to false\n      valid = false;\n    }\n  }\n  // If the valid status is true, mark the step as finished and valid:\n  if (valid) {\n    document.getElementsByClassName(\"step\")[currentTab].className += \" finish\";\n  }\n  return valid; // return the valid status\n}\n\nfunction fixStepIndicator(n) {\n  // This function removes the \"active\" class of all steps...\n  var i, x = document.getElementsByClassName(\"step\");\n  for (i = 0; i < x.length; i++) {\n    x[i].className = x[i].className.replace(\" active\", \"\");\n  }\n  //... and adds the \"active\" class on the current step:\n  x[n].className += \" active\";\n}\n\nfunction uploadFile(){\n    \n    var fileFasta = document.getElementById(\"filefasta\").files[0];\n    var fileGTF = document.getElementById(\"filegtf\").files[0];\n    var fileIRGTF = document.getElementById(\"fileirgtf\").files[0];\n    var outputname = document.getElementById('outputname').value\n    var flanking = document.getElementById('flanking').value\n    var zip = document.getElementById('zip').value\n\n    var formdata = new FormData();\n    formdata.append(\"filefasta\", fileFasta);\n    formdata.append(\"filegtf\", fileGTF);\n    formdata.append(\"fileirgtf\", fileIRGTF);\n    formdata.append(\"outputname\", outputname);\n    formdata.append(\"flanking\", flanking);\n    formdata.append(\"zip\", zip);\n    var ajax = new XMLHttpRequest();\n    ajax.upload.addEventListener(\"progress\", progressHandler, false);\n    ajax.addEventListener(\"load\", completeHandler, false);\n    ajax.addEventListener(\"error\", errorHandler, false);\n    ajax.addEventListener(\"abort\", abortHandler, false);\n    ajax.open(\"POST\", \"/process\");\n    ajax.send(formdata);\n}\n\nfunction progressHandler(event){\n    var percent = (event.loaded / event.total) * 100;\n    document.getElementById(\"progressBar\").value = Math.round(percent);\n    document.getElementById(\"status\").innerHTML = Math.round(percent)+\"% uploaded... please wait\";\n}\nfunction completeHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Done\";\n    document.getElementById(\"progressBar\").value = 0;\n}\nfunction errorHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Failed\";\n}\nfunction abortHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Aborted\";\n}\n</script>\n</body>\n</html>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":160,"y":120,"wires":[[]]},{"id":"d7c7d71d.3d11d8","type":"tab","label":"Python","disabled":false,"info":""},{"id":"b58d075f.ac6cf8","type":"ui_template","z":"d7c7d71d.3d11d8","group":"9128be89.18406","name":"Data-table","order":2,"width":18,"height":10,"format":"<html>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<link href=\"https://fonts.googleapis.com/css?family=Raleway\" rel=\"stylesheet\">\n<style>\n * {\n  box-sizing: border-box;\n}\n\nbody {\n  background-color: #f1f1f1;\n}\n\n#upload_form {\n  background-color: #ffffff;\n  margin: 100px auto;\n  font-family: Raleway;\n  padding: 40px;\n  width: 70%;\n  min-width: 300px;\n}\n\nh1 {\n  text-align: center;  \n}\n\ninput {\n  padding: 10px;\n  width: 100%;\n  font-size: 17px;\n  font-family: Raleway;\n  border: 1px solid #aaaaaa;\n}\n\nbutton {\n  background-color: #4CAF50;\n  color: #ffffff;\n  border: none;\n  padding: 10px 20px;\n  font-size: 17px;\n  font-family: Raleway;\n  cursor: pointer;\n}\n\nbutton:hover {\n  opacity: 0.8;\n}\n </style>\n <body>\n\n <form id=\"upload_form\" method=\"post\" enctype=\"multipart/form-data\">\n  <h1>Intron Classification Model</h1>\n  <!-- One \"tab\" for each step in the form: -->\n  <div class=\"tab\">Excel File:\n    <p><input id=\"fileexcel\" type=\"file\" name=\"fileexcel\" accept=\".xlsx\" required/></p>\n  </div>\n  \n  <div style=\"overflow:auto;\">\n    <div style=\"float:right;\">\n      <button type=\"button\" id=\"start\" onclick=\"uploadFile()\">Start</button>\n    </div>\n  </div>\n  \n  <div style=\"text-align:center;margin-top:40px;\">\n      <progress id=\"progressBar\" value=\"0\" max=\"100\" style=\"width:300px;\"></progress>\n        <p id=\"status\"></p>\n  </div>\n</form>\n    <script>\n    function _(el){\n    return document.getElementById(el);\n}\nfunction uploadFile(){\n    var fileFasta = _(\"fileexcel\").files[0];\n\n    var formdata = new FormData();\n    formdata.append(\"fileexcel\", fileFasta);\n    var ajax = new XMLHttpRequest();\n    ajax.upload.addEventListener(\"progress\", progressHandler, false);\n    ajax.addEventListener(\"load\", completeHandler, false);\n    ajax.addEventListener(\"error\", errorHandler, false);\n    ajax.addEventListener(\"abort\", abortHandler, false);\n    ajax.open(\"POST\", \"/python\");\n    ajax.send(formdata);\n}\nfunction progressHandler(event){\n    var percent = (event.loaded / event.total) * 100;\n    _(\"progressBar\").value = Math.round(percent);\n    _(\"status\").innerHTML = Math.round(percent)+\"% uploaded... please wait\";\n}\nfunction completeHandler(event){\n    _(\"status\").innerHTML = \"Upload Done\";\n    _(\"progressBar\").value = 0;\n}\nfunction errorHandler(event){\n    _(\"status\").innerHTML = \"Upload Failed\";\n}\nfunction abortHandler(event){\n    _(\"status\").innerHTML = \"Upload Aborted\";\n}\n</script>\n</body>\n</html>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":150,"y":100,"wires":[[]]},{"id":"9ba3c5c3.4b8f18","type":"http in","z":"d7c7d71d.3d11d8","name":"","url":"/python","method":"post","upload":true,"swaggerDoc":"","x":130,"y":180,"wires":[["1e4c2261.a7a36e","8f12ab16.da8e08","9d7b7df5.04c0a","6e257893.4afaa8"]]},{"id":"1e4c2261.a7a36e","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"//msg.name = msg.req.files[0].originalname;\n//global.set(\"name\",msg.req.files[0].originalname);\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"python/\" + msg.req.files[0].originalname\n\nreturn [msg,null];","outputs":1,"noerr":0,"initialize":"","finalize":"","x":340,"y":220,"wires":[["1a6a5b3f.f19275"]]},{"id":"1a6a5b3f.f19275","type":"file","z":"d7c7d71d.3d11d8","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":470,"y":220,"wires":[["b8a26c5b.fd0b6"]]},{"id":"8f12ab16.da8e08","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"//global.set(\"name\",msg.payload.outputname);\n\nmsg.payload = {path:(\"python/\" + msg.req.files[0].originalname)}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":100,"wires":[["3406c73f.b9add8"]]},{"id":"b8a26c5b.fd0b6","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"msg.payload = {upload:\"yes\"}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":600,"y":220,"wires":[["3406c73f.b9add8"]]},{"id":"3406c73f.b9add8","type":"join","z":"d7c7d71d.3d11d8","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":730,"y":180,"wires":[["3829a7ec.e980e8"]]},{"id":"6ea0c465.6ad26c","type":"ui_text","z":"d7c7d71d.3d11d8","group":"2675649a.e6be4c","order":1,"width":24,"height":9,"name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":130,"y":240,"wires":[]},{"id":"a099d1f4.df65f","type":"python-function","z":"d7c7d71d.3d11d8","name":"","func":"import pandas as pd\nfrom sklearn.decomposition import PCA\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nimport json\n\n\npy_obj =json.dumps(msg)\nresp = json.loads(py_obj)\npath = resp['payload']\n\n#import the dataset\ndata=pd.read_excel(path)\nX=data.iloc[:,1:6] #11:20 senza phi\nY=data.iloc[:,0]\nY=np.ravel(Y)\ntrain_X, test_X, train_y, test_y = train_test_split(X, Y, random_state=1, stratify=Y)\nfrom sklearn.ensemble import AdaBoostClassifier\nfrom sklearn.tree import DecisionTreeClassifier, ExtraTreeClassifier\nfrom sklearn.linear_model import LogisticRegression\n#from sklearn.svm import SVC\nfrom sklearn.metrics import confusion_matrix, classification_report\n#we construct and fit our model to the training set\n##max_depth tells our model the structure of our trees\n##n_estimators specifies the total number of trees in the forest\n\n##DecisionTreeClassifier estimator \nclassifier = AdaBoostClassifier(\n    DecisionTreeClassifier(max_depth=2),\n    n_estimators=500, random_state=0,learning_rate=0.6,\n    algorithm=\"SAMME.R\")\n\n#classifier = AdaBoostClassifier(\n#SVC(probability=True , kernel='rbf'),\n#n_estimators=1000, random_state=0,learning_rate=0.6,\n#algorithm=\"SAMME.R\")\n\n####Support Vector Classification \n##with kernel rbf]]]\n#from sklearn.svm import SVC\n#svclassifier = SVC(kernel='rbf')\n#svclassifier.fit(train_X, train_y)\n#y_pred = svclassifier.predict(test_X)\n#from sklearn.metrics import classification_report\n#print(confusion_matrix(test_y,y_pred))\n#print(classification_report(test_y,y_pred))\n\n####LogisticRegression estimator \n#classifier = AdaBoostClassifier(\n#    LogisticRegression())\n\n####ExtraTreeClassifier estimator \n#classifier = AdaBoostClassifier(\n#   ExtraTreeClassifier())\n\n####SVC estimator\n#classifier = AdaBoostClassifier(\n# SVC(probability=True , kernel='linear'))\n\n####Undefined estimator, which corresponds to a decision stump, i.e.,\n#### a decision tree with max_depth=1 with a single decision node and two leaves\n#classifier = AdaBoostClassifier()\n\n#we fit our model to the training set\nclassifier.fit(train_X, train_y)\n#we use our model to make predictions\npredictions = classifier.predict(test_X)\n#probability predictions used to compute the ROC curve\npredictions_proba= classifier.predict_proba(test_X)\n#we compute the confusion matrix \nmatrix_adaboost=confusion_matrix(test_y, predictions)\nprint(matrix_adaboost)\n#we compute precision, recall, f1 score\nmsg = classification_report(test_y,predictions)\n#ROC curve\n#import scikitplot\n#scikitplot.metrics.plot_roc(test_y,predictions_proba,plot_micro=False,plot_macro=False)\n#DF = np.c_[X,Y]\n#import seaborn as sns\n#sns.pairplot(DF, hue=\"labels\")\n\n\nreturn msg","outputs":1,"x":1080,"y":180,"wires":[["dd119b0b.9196a8"]]},{"id":"3829a7ec.e980e8","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"var path = msg.payload.path\nmsg.payload = path\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":880,"y":180,"wires":[["a099d1f4.df65f"]]},{"id":"5f03f790.089788","type":"ui_text","z":"d7c7d71d.3d11d8","group":"53d952ff.4a1f4c","order":2,"width":18,"height":6,"name":"","label":"","format":"{{msg.payload}}","layout":"col-center","x":1470,"y":120,"wires":[]},{"id":"9d7b7df5.04c0a","type":"function","z":"d7c7d71d.3d11d8","name":"Output_group","func":"msg = {};\nmsg.payload = { group: {\n    show : [\"Python_Output\"],\n    hide : [\"Python_Form\"]\n}\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":340,"y":280,"wires":[["5a814f32.98c75"]]},{"id":"5a814f32.98c75","type":"ui_ui_control","z":"d7c7d71d.3d11d8","name":"Go to Group","events":"all","x":530,"y":360,"wires":[[]]},{"id":"5abbc93b.287458","type":"ui_ui_control","z":"d7c7d71d.3d11d8","name":"Refresh page restore","events":"all","x":160,"y":320,"wires":[["a2ce8346.453c"]]},{"id":"a2ce8346.453c","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"if(msg.payload == \"connect\" || msg.payload == \"change\") {\n    msg.payload = { group: {\n    show : [\"Python_Form\"],\n    hide : [\"Python_Output\"]\n}\n};\n    return msg;\n}\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":160,"y":400,"wires":[["fa686004.40447"]]},{"id":"fa686004.40447","type":"ui_ui_control","z":"d7c7d71d.3d11d8","name":"","events":"all","x":160,"y":480,"wires":[[]]},{"id":"dd119b0b.9196a8","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"var str = msg\nmsg = {payload: str}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1300,"y":180,"wires":[["5f03f790.089788"]]},{"id":"6e257893.4afaa8","type":"function","z":"d7c7d71d.3d11d8","name":"","func":"msg.payload = \"Process in execution... Please wait.\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":40,"wires":[["5f03f790.089788"]]},{"id":"f2f9f979.79f0d8","type":"tab","label":"Create-Dataset","disabled":false,"info":""},{"id":"80c84a46.0d8ec8","type":"ui_template","z":"f2f9f979.79f0d8","group":"6975bb20.9b9194","name":"","order":1,"width":18,"height":13,"format":"<!DOCTYPE html>\n<html>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<link href=\"https://fonts.googleapis.com/css?family=Raleway\" rel=\"stylesheet\">\n<style>\n* {\n  box-sizing: border-box;\n}\n\nbody {\n  background-color: #f1f1f1;\n}\n\n#regForm {\n  background-color: #ffffff;\n  margin: 100px auto;\n  font-family: Raleway;\n  padding: 40px;\n  width: 70%;\n  min-width: 300px;\n}\n\nh1 {\n  text-align: center;  \n}\n\ninput {\n  padding: 10px;\n  width: 100%;\n  font-size: 17px;\n  font-family: Raleway;\n  border: 1px solid #aaaaaa;\n}\n\n/* Mark input boxes that gets an error on validation: */\ninput.invalid {\n  background-color: #ffdddd;\n}\n\n/* Hide all steps by default: */\n.tab {\n  display: none;\n}\n\nbutton {\n  background-color: #4CAF50;\n  color: #ffffff;\n  border: none;\n  padding: 10px 20px;\n  font-size: 17px;\n  font-family: Raleway;\n  cursor: pointer;\n}\n\nbutton:hover {\n  opacity: 0.8;\n}\n\n#prevBtn {\n  background-color: #bbbbbb;\n}\n\n/* Make circles that indicate the steps of the form: */\n.step {\n  height: 15px;\n  width: 15px;\n  margin: 0 2px;\n  background-color: #bbbbbb;\n  border: none;  \n  border-radius: 50%;\n  display: inline-block;\n  opacity: 0.5;\n}\n\n.step.active {\n  opacity: 1;\n}\n\n/* Mark the steps that are finished and valid: */\n.step.finish {\n  background-color: #4CAF50;\n}\n</style>\n<body>\n\n<form id=\"regForm\" action=\"/createdataset\" method=\"post\" enctype=\"multipart/form-data\">\n  <h1>Create Dateset Feature</h1>\n  <!-- One \"tab\" for each step in the form: -->\n  <div class=\"tab\">Introni retenuti Fasta:\n    <p><input placeholder=\"Fasta File\" id=\"fileirf\" type=\"file\" name=\"fileirf\"  accept=\".fasta\" oninput=\"this.className = ''\"></p>\n  </div>\n  <div class=\"tab\">Introni non retenuti Fasta:\n    <p><input placeholder=\"Fasta File\" id=\"fileinrf\" type=\"file\" name=\"fileinrf\" oninput=\"this.className = ''\" accept=\".fasta\"></p>\n  </div>\n  <div class=\"tab\">Introni retenuti Dot:\n    <p><input placeholder=\"Dot File\" id=\"fileird\" type=\"file\" name=\"fileird\" class=\"auto-style1\" accept=\".dot\" oninput=\"this.className = ''\"></p>\n    Introni non retenuti Dot:\n    <p><input placeholder=\"Dot File\" id=\"fileinrd\" type=\"file\" name=\"fileinrd\" class=\"auto-style1\" accept=\".dot\" oninput=\"this.className = ''\"></p>\n  </div>\n  <div class=\"tab\">Insert output options:\n  <p><label for=\"pNu\">pNu:</label>\n      <select id=\"pNu\" name=\"pNu\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select> </p>\n    <p><label for=\"kMir\">kMir:</label>\n      <select id=\"kMir\" name=\"kMir\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select> </p>\n    <p><label for=\"eNt\">eNt:</label>\n      <select id=\"eNt\" name=\"eNt\">\n          <option value=\"yes\">YES</option>\n          <option value=\"no\">NO</option>\n          </select></p>\n    <p><input placeholder=\"nf\" oninput=\"this.className = ''\" name=\"nf\" id=\"nf\"></p>\n    <p><input placeholder=\"ni\" name=\"ni\" id=\"ni\"></p>\n    <p><input placeholder=\"nni\" name=\"nni\" id=\"nni\"></p>\n  </div>\n  <div style=\"overflow:auto;\">\n    <div style=\"float:right;\">\n      <button type=\"button\" id=\"prevBtn\" onclick=\"nextPrev(-1)\">Previous</button>\n      <button type=\"button\" id=\"nextBtn\" onclick=\"nextPrev(1)\">Next</button>\n    </div>\n  </div>\n  <!-- Circles which indicates the steps of the form: -->\n  <div style=\"text-align:center;margin-top:40px;\">\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n    <span class=\"step\"></span>\n  </div>\n  \n  <div style=\"text-align:center;margin-top:40px;\">\n      <progress id=\"progressBar\" value=\"0\" max=\"100\" style=\"width:300px;\"></progress>\n        <p id=\"status\"></p>\n  </div>\n</form>\n\n<script>\nvar currentTab = 0; // Current tab is set to be the first tab (0)\nshowTab(currentTab); // Display the current tab\n\nfunction showTab(n) {\n    document.getElementById(\"progressBar\").style.display = \"none\";\n  // This function will display the specified tab of the form...\n  var x = document.getElementsByClassName(\"tab\");\n  x[n].style.display = \"block\";\n  //... and fix the Previous/Next buttons:\n  if (n == 0) {\n    document.getElementById(\"prevBtn\").style.display = \"none\";\n  } else {\n    document.getElementById(\"prevBtn\").style.display = \"inline\";\n  }\n  if (n == (x.length - 1)) {\n    document.getElementById(\"nextBtn\").innerHTML = \"Submit\";\n  } else {\n    document.getElementById(\"nextBtn\").innerHTML = \"Next\";\n  }\n  //... and run a function that will display the correct step indicator:\n  fixStepIndicator(n)\n}\n\nfunction nextPrev(n) {\n  // This function will figure out which tab to display\n  var x = document.getElementsByClassName(\"tab\");\n  // Exit the function if any field in the current tab is invalid:\n  if (n == 1 && !validateForm()) return false;\n  // Hide the current tab:\n  x[currentTab].style.display = \"none\";\n  // Increase or decrease the current tab by 1:\n  currentTab = currentTab + n;\n  // if you have reached the end of the form...\n  if (currentTab >= x.length) {\n    // ... the form gets submitted:\n    //document.getElementById(\"regForm\").submit();\n     document.getElementById(\"progressBar\").style.display = \"inline\";\n    document.getElementById(\"prevBtn\").style.display = \"none\";\n    document.getElementById(\"nextBtn\").style.display = \"none\";\n    document.getElementById(\"status\").style.display = \"none\";\n    document.getElementById(\"progressBar\").style.display = \"none\";\n    uploadFile();\n    return false;\n  }\n  // Otherwise, display the correct tab:\n  showTab(currentTab);\n}\n\nfunction validateForm() {\n  // This function deals with validation of the form fields\n  var x, y, i, valid = true;\n  x = document.getElementsByClassName(\"tab\");\n  y = x[currentTab].getElementsByTagName(\"input\");\n  // A loop that checks every input field in the current tab:\n  for (i = 0; i < y.length; i++) {\n    // If a field is empty...\n    if (y[i].value == \"\" && (y[i].name == \"fileirf\" || y[i].name == \"fileinrf\")) {\n      // add an \"invalid\" class to the field:\n      y[i].className += \" invalid\";\n      // and set the current valid status to false\n      valid = false;\n    }\n  }\n  // If the valid status is true, mark the step as finished and valid:\n  if (valid) {\n    document.getElementsByClassName(\"step\")[currentTab].className += \" finish\";\n  }\n  return valid; // return the valid status\n}\n\nfunction fixStepIndicator(n) {\n  // This function removes the \"active\" class of all steps...\n  var i, x = document.getElementsByClassName(\"step\");\n  for (i = 0; i < x.length; i++) {\n    x[i].className = x[i].className.replace(\" active\", \"\");\n  }\n  //... and adds the \"active\" class on the current step:\n  x[n].className += \" active\";\n}\n\nfunction uploadFile(){\n    var fileirf = document.getElementById(\"fileirf\").files[0];\n    var fileinrf = document.getElementById(\"fileinrf\").files[0];\n    var fileird = document.getElementById(\"fileird\").files[0];\n    var fileinrd = document.getElementById(\"fileinrd\").files[0];\n    var pNu = document.getElementById(\"pNu\").value;\n    var kMir = document.getElementById(\"kMir\").value;\n    var nf = document.getElementById(\"nf\").value;\n    var eNt = document.getElementById(\"eNt\").value;\n    var ni = document.getElementById(\"ni\").value;\n    var nni = document.getElementById(\"nni\").value;\n\n    var formdata = new FormData();\n    formdata.append(\"fileirf\", fileirf);\n    formdata.append(\"fileinrf\", fileinrf);\n    formdata.append(\"fileird\", fileird);\n    formdata.append(\"fileinrd\", fileinrd);\n    formdata.append(\"pNu\", pNu);\n    formdata.append(\"kMir\", kMir);\n    formdata.append(\"nf\", nf);\n    formdata.append(\"eNt\", eNt);\n    formdata.append(\"ni\", ni);\n    formdata.append(\"nni\", nni);\n    \n    var ajax = new XMLHttpRequest();\n    ajax.upload.addEventListener(\"progress\", progressHandler, false);\n    ajax.addEventListener(\"load\", completeHandler, false);\n    ajax.addEventListener(\"error\", errorHandler, false);\n    ajax.addEventListener(\"abort\", abortHandler, false);\n    ajax.open(\"POST\", \"/createdataset\");\n    ajax.send(formdata);\n}\n\nfunction progressHandler(event){\n    var percent = (event.loaded / event.total) * 100;\n    document.getElementById(\"progressBar\").value = Math.round(percent);\n    document.getElementById(\"status\").innerHTML = Math.round(percent)+\"% uploaded... please wait\";\n}\nfunction completeHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Done\";\n    document.getElementById(\"progressBar\").value = 0;\n}\nfunction errorHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Failed\";\n}\nfunction abortHandler(event){\n    document.getElementById(\"status\").innerHTML = \"Upload Aborted\";\n}\n</script>\n</body>\n</html>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":160,"y":320,"wires":[[]]},{"id":"44ca6394.593a6c","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = {\n    f1:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":300,"wires":[["c316f2b8.8bf4e"]]},{"id":"2e94dfd5.fe934","type":"http in","z":"f2f9f979.79f0d8","name":"","url":"/createdataset","method":"post","upload":true,"swaggerDoc":"","x":170,"y":380,"wires":[["51b2dc78.86f744","e3c5bad3.3a45a8"]]},{"id":"51b2dc78.86f744","type":"function","z":"f2f9f979.79f0d8","name":"","func":"//msg.name = msg.req.files[0].originalname;\nif(msg.req.files.length == 2) {\nglobal.set(\"name\",msg.payload.outputname);\n\nvar msg1 = { payload: msg.req.files[1].buffer, filename: \"createDataset/\" + msg.req.files[1].originalname};\nmsg.payload = msg.req.files[0].buffer\nmsg.filename = \"createDataset/\" + msg.req.files[0].originalname\n\nreturn [msg,msg1,null,null];\n}\nelse {\n    msg1 = { payload: msg.req.files[1].buffer, filename: \"createDataset/\" + msg.req.files[1].originalname};\n    var msg2 = { payload: msg.req.files[2].buffer, filename: \"createDataset/\" + msg.req.files[2].originalname};\n    var msg3 = { payload: msg.req.files[3].buffer, filename: \"createDataset/\" + msg.req.files[3].originalname};\n    msg.payload = msg.req.files[0].buffer\n    msg.filename = \"createDataset/\" + msg.req.files[0].originalname\n    \n    return [msg,msg1,msg2,msg3];\n}","outputs":4,"noerr":0,"initialize":"","finalize":"","x":380,"y":380,"wires":[["f6be787c.49a0d8"],["992cefcc.7c7ae"],["e047d770.74a1b8"],["22214537.d421ca"]]},{"id":"992cefcc.7c7ae","type":"file","z":"f2f9f979.79f0d8","name":"fasta2","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":550,"y":360,"wires":[["7cf48227.4f503c"]]},{"id":"f6be787c.49a0d8","type":"file","z":"f2f9f979.79f0d8","name":"fasta","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":550,"y":300,"wires":[["44ca6394.593a6c"]]},{"id":"7cf48227.4f503c","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = {\n    f2:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":360,"wires":[["c316f2b8.8bf4e"]]},{"id":"e3c5bad3.3a45a8","type":"function","z":"f2f9f979.79f0d8","name":"","func":"//global.set(\"name\",msg.payload.outputname);\nif(msg.req.files.length == 2) {\n    msg.payload.fileirf = \"createDataset/\" + msg.req.files[0].originalname\n    msg.payload.fileinrf = \"createDataset/\" + msg.req.files[1].originalname\n    msg.payload.fileird = \"\"\n    msg.payload.fileinrd = \"\"\n    msg.payload.pathfolder = \"createDataset/out\"\n    return msg;\n}\nelse {\n    msg.payload.fileirf = \"createDataset/\" + msg.req.files[0].originalname\n    msg.payload.fileinrf = \"createDataset/\" + msg.req.files[1].originalname\n    msg.payload.fileird = \"createDataset/\" + msg.req.files[2].originalname\n    msg.payload.fileinrd = \"createDataset/\" + msg.req.files[3].originalname\n    msg.payload.pathfolder = \"createDataset/out\"\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":560,"y":220,"wires":[["c316f2b8.8bf4e"]]},{"id":"c316f2b8.8bf4e","type":"join","z":"f2f9f979.79f0d8","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"13","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":930,"y":320,"wires":[["7a4ccab5.c4d834","fb18ab06.368a28"]]},{"id":"7a4ccab5.c4d834","type":"create_dateset_feature","z":"f2f9f979.79f0d8","name":"","fileirf":"","fileinrf":"","fileird":"","fileinrd":"","pathfolder":"","pNu":"","kMir":"","nf":"","eNt":"","ni":"","nni":"","x":1150,"y":320,"wires":[["42166b7c.beb754"]]},{"id":"22214537.d421ca","type":"file","z":"f2f9f979.79f0d8","name":"dot2","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":550,"y":500,"wires":[["8284f95.9551608"]]},{"id":"e047d770.74a1b8","type":"file","z":"f2f9f979.79f0d8","name":"dot","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":550,"y":420,"wires":[["5548597a.fa22f8"]]},{"id":"8284f95.9551608","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = {\n    d2:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":500,"wires":[["c316f2b8.8bf4e"]]},{"id":"5548597a.fa22f8","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = {\n    d1:\"done\"\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":420,"wires":[["c316f2b8.8bf4e"]]},{"id":"259868f2.cb0908","type":"fs-ops-mkdir","z":"f2f9f979.79f0d8","name":"","path":"createDataset/","pathType":"str","dirname":"out","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":500,"y":600,"wires":[[]]},{"id":"d98e1b52.e29758","type":"fs-ops-mkdir","z":"f2f9f979.79f0d8","name":"","path":"","pathType":"str","dirname":"createDataset","dirnameType":"str","mode":"777","fullpath":"directory","fullpathType":"msg","x":500,"y":660,"wires":[["259868f2.cb0908"]]},{"id":"42166b7c.beb754","type":"function","z":"f2f9f979.79f0d8","name":"","func":"if(msg.payload.stdout==\"Error\"){\n    msg.payload = { group: {\n    show : [\"CreateDataset_Error\"],\n    hide : [\"CreateDataset_Text\",\"CreateDataset_Form\"]\n}}\n}\nelse {\n    msg.payload = { group: {\n    show : [\"CreateDataset_Text\"],\n    hide : [\"CreateDataset_Error\",\"CreateDataset_Form\"]\n}, text: \"Process successfully completed!\"}\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1380,"y":320,"wires":[["bc9eb84e.506cb8"]]},{"id":"bc9eb84e.506cb8","type":"ui_text","z":"f2f9f979.79f0d8","group":"2c11af70.0f302","order":1,"width":0,"height":0,"name":"","label":"","format":"{{msg.payload.text}}","layout":"col-center","x":1350,"y":480,"wires":[]},{"id":"d65f0e51.d8e5","type":"ui_template","z":"f2f9f979.79f0d8","group":"afc25dd5.9d13e","name":"Error","order":1,"width":24,"height":2,"format":" <body>\n <center>\n<h1>Process NOT Done !</h1>\n<h3>There was an error in the process. Please, repeat the procedure</h3>\n</center>\n</body>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1550,"y":400,"wires":[[]]},{"id":"ae589789.83d0e8","type":"ui_ui_control","z":"f2f9f979.79f0d8","name":"Refresh page restore","events":"all","x":160,"y":680,"wires":[["8644fdfd.006b1"]]},{"id":"8644fdfd.006b1","type":"function","z":"f2f9f979.79f0d8","name":"","func":"if(msg.payload == \"connect\" || msg.payload == \"change\") {\n    msg.payload = { group: {\n    show : [\"CreateDataset_Form\"],\n    hide : [\"CreateDataset_Error\",\"CreateDataset_Text\"]\n}, title: \"\"\n};\n    return msg;\n}\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":140,"y":780,"wires":[["fe44bbac.b34728","74101ca.9737ae4","d98e1b52.e29758"]]},{"id":"fe44bbac.b34728","type":"ui_ui_control","z":"f2f9f979.79f0d8","name":"","events":"all","x":160,"y":840,"wires":[[]]},{"id":"fb18ab06.368a28","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = { group: {\n    show : [\"CreateDataset_Text\"],\n    //hide : [\"R_Form\"]\n}, text: \"Proccess in execution.. It can have a long term, check the files in the folder.\"}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1040,"y":400,"wires":[["ae7b9d56.a0a33","bc9eb84e.506cb8"]]},{"id":"ae7b9d56.a0a33","type":"ui_ui_control","z":"f2f9f979.79f0d8","name":"","events":"all","x":1220,"y":400,"wires":[[]]},{"id":"aa2243fe.d89c2","type":"fs-ops-dir","z":"f2f9f979.79f0d8","name":"","path":"createDataset/out","pathType":"str","filter":"*","filterType":"str","dir":"payload","dirType":"msg","x":720,"y":740,"wires":[["c744c7f1.69a4f8"]]},{"id":"95feef23.b8682","type":"inject","z":"f2f9f979.79f0d8","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"str","x":540,"y":740,"wires":[["aa2243fe.d89c2"]]},{"id":"c744c7f1.69a4f8","type":"ui_list","z":"f2f9f979.79f0d8","group":"6975bb20.9b9194","name":"Lista File","order":3,"width":6,"height":6,"lineType":"two","actionType":"click","allowHTML":false,"outputs":1,"topic":"","x":930,"y":680,"wires":[["5f3cc215.8b00fc","74101ca.9737ae4"]]},{"id":"920d3181.dc534","type":"ui_text","z":"f2f9f979.79f0d8","group":"6975bb20.9b9194","order":2,"width":6,"height":1,"name":"","label":"","format":"File List","layout":"col-center","x":930,"y":640,"wires":[]},{"id":"5f3cc215.8b00fc","type":"fs-ops-stats","z":"f2f9f979.79f0d8","name":"","path":"createDataset/out","pathType":"str","filename":"payload.title","filenameType":"msg","stats":"stats","sizeType":"msg","x":1080,"y":680,"wires":[["d9fc176a.cad3d8"]]},{"id":"5c8fa524.1fd0cc","type":"ui_toast","z":"f2f9f979.79f0d8","position":"dialog","displayTime":"3","highlight":"","sendall":false,"outputs":1,"ok":"OK","cancel":"","raw":true,"topic":"","name":"","x":1360,"y":620,"wires":[[]]},{"id":"d9fc176a.cad3d8","type":"function","z":"f2f9f979.79f0d8","name":"","func":"msg.payload = (\"Createation Date: \").bold() + msg.stats.birthtime + (\"Size: \").bold() + msg.stats.size + \" byte\"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1180,"y":620,"wires":[["5c8fa524.1fd0cc"]]},{"id":"3a725b30.f6f5a4","type":"ui_template","z":"f2f9f979.79f0d8","group":"6975bb20.9b9194","name":"","order":4,"width":6,"height":2,"format":"<h5><a href=\"{{msg.payload}}\">Download</a></h5>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1220,"y":780,"wires":[[]]},{"id":"74101ca.9737ae4","type":"function","z":"f2f9f979.79f0d8","name":"","func":"if(msg.payload.title == '') {\n    msg.payload = \"\";\n}\nelse {\n    msg.payload = \"/file/createDataset/out/\" + msg.payload.title\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1060,"y":780,"wires":[["3a725b30.f6f5a4"]]},{"id":"a25e0f8f.c10c5","type":"ui_text","z":"f2f9f979.79f0d8","group":"982dcf6e.45f36","order":1,"width":"24","height":"9","name":"noauthFasta","label":"YOU AREN'T AUTHENTICATED","format":"Please sign in in Dashboard.","layout":"col-center","x":170,"y":440,"wires":[]},{"id":"cf6f06d7.103268","type":"ui_group","z":"","name":"IncrementFasta","tab":"c6293b1c.ceaf98","order":1,"disp":false,"width":"32","collapse":false},{"id":"1f54bac1.fbcf55","type":"ui_group","z":"","name":"AuthMessage","tab":"c6293b1c.ceaf98","order":2,"disp":false,"width":"27","collapse":false},{"id":"9c3e0298.6f6f2","type":"ui_group","z":"","name":"ExtractFromCUFF","tab":"911c2ae1.b6cf88","order":2,"disp":false,"width":"27","collapse":false},{"id":"6e680fda.97841","type":"ui_group","z":"","name":"AuthMessage","tab":"911c2ae1.b6cf88","order":2,"disp":false,"width":"27","collapse":false},{"id":"212549a7.c55656","type":"ui_group","z":"","name":"ExtractFromTopat","tab":"6136b66c.a5e198","order":1,"disp":false,"width":"27","collapse":false},{"id":"9dfcb7a5.c5b028","type":"ui_group","z":"","name":"AuthMessage","tab":"6136b66c.a5e198","order":2,"disp":false,"width":"27","collapse":false},{"id":"3659cf15.ca84e","type":"ui_group","z":"","name":"RemoveFromFasta","tab":"2095eba2.5d8854","order":1,"disp":false,"width":"27","collapse":false},{"id":"941bf67f.e99a28","type":"ui_group","z":"","name":"AuthMessage","tab":"2095eba2.5d8854","order":2,"disp":false,"width":"27","collapse":false},{"id":"1dfc3980.5ea5e7","type":"ui_group","z":"","name":"MergeFasta","tab":"6a9c8657.1559f8","order":1,"disp":false,"width":"27","collapse":false},{"id":"73a73bf5.0db8c4","type":"ui_group","z":"","name":"AuthMessage","tab":"6a9c8657.1559f8","order":2,"disp":false,"width":"27","collapse":false},{"id":"d50a9d76.ce46f","type":"ui_group","z":"","name":"RemoveNucleotides","tab":"4a765601.b3c778","order":1,"disp":false,"width":"27","collapse":false},{"id":"d44d86e5.ec9878","type":"ui_group","z":"","name":"AuthMessage","tab":"4a765601.b3c778","order":2,"disp":false,"width":"27","collapse":false},{"id":"b674b16e.b0e02","type":"ui_group","z":"","name":"ExtractFromAugustus","tab":"a2632305.71634","order":1,"disp":false,"width":"27","collapse":false},{"id":"c95ba756.fbe828","type":"ui_group","z":"","name":"AuthMessage","tab":"a2632305.71634","order":2,"disp":false,"width":"27","collapse":false},{"id":"ab0631a8.a72a3","type":"ui_group","z":"","name":"ExtractFromStringTie","tab":"5bc35168.50dd3","order":1,"disp":false,"width":"27","collapse":false},{"id":"399d26b8.47656a","type":"ui_group","z":"","name":"AuthMessage","tab":"5bc35168.50dd3","order":2,"disp":false,"width":"27","collapse":false},{"id":"e89f74f4.1fb5d8","type":"ui_group","z":"","name":"CreateDotFromFasta","tab":"8ef9feef.24e69","order":1,"disp":false,"width":"27","collapse":false},{"id":"6ee01b0.d1889e4","type":"ui_group","z":"","name":"AuthMessage","tab":"8ef9feef.24e69","order":2,"disp":false,"width":"27","collapse":false},{"id":"6717cb13.667b14","type":"ui_group","z":"","name":"Signin","tab":"5d159711.018ea8","order":1,"disp":true,"width":"6","collapse":false},{"id":"eac2a716.8bf7e8","type":"ui_group","z":"","name":"Signout","tab":"5d159711.018ea8","order":2,"disp":false,"width":"6","collapse":false},{"id":"1a1e1f30.7c4dd1","type":"ui_group","z":"","name":"Process","tab":"6e8b177b.5fa3a8","order":1,"disp":false,"width":"24","collapse":false},{"id":"50e07f41.289da","type":"ui_group","z":"","name":"Output","tab":"6e8b177b.5fa3a8","order":5,"disp":false,"width":24,"collapse":false},{"id":"d709413c.16ff3","type":"ui_group","z":"","name":"Text","tab":"6e8b177b.5fa3a8","order":2,"disp":false,"width":8,"collapse":false},{"id":"836fc009.8a0ba","type":"ui_group","z":"","name":"Download","tab":"6e8b177b.5fa3a8","order":3,"disp":false,"width":"24","collapse":false},{"id":"2f9c22f8.c5777e","type":"ui_group","z":"","name":"Error","tab":"6e8b177b.5fa3a8","order":6,"disp":false,"width":8,"collapse":false},{"id":"6ff5e786.9cb028","type":"ui_group","z":"","name":"AuthMessage","tab":"6e8b177b.5fa3a8","order":7,"disp":false,"width":"27","collapse":false},{"id":"279694d0.d74c8c","type":"ui_group","z":"","name":"Zip","tab":"6e8b177b.5fa3a8","order":4,"disp":false,"width":24,"collapse":false},{"id":"9128be89.18406","type":"ui_group","z":"","name":"Form","tab":"3bf1f0fd.6de7e","order":1,"disp":false,"width":"24","collapse":false},{"id":"2675649a.e6be4c","type":"ui_group","z":"","name":"AuthMessage","tab":"3bf1f0fd.6de7e","order":3,"disp":false,"width":"24","collapse":false},{"id":"53d952ff.4a1f4c","type":"ui_group","z":"","name":"Output","tab":"3bf1f0fd.6de7e","order":2,"disp":false,"width":"24","collapse":false},{"id":"6975bb20.9b9194","type":"ui_group","z":"","name":"Form","tab":"dcd6d1d.2fef53","order":3,"disp":false,"width":"24","collapse":false},{"id":"2c11af70.0f302","type":"ui_group","z":"","name":"Text","tab":"dcd6d1d.2fef53","order":1,"disp":false,"width":"24","collapse":false},{"id":"afc25dd5.9d13e","type":"ui_group","z":"","name":"Error","tab":"dcd6d1d.2fef53","order":2,"disp":false,"width":"24","collapse":false},{"id":"982dcf6e.45f36","type":"ui_group","z":"","name":"AuthMessage","tab":"dcd6d1d.2fef53","order":4,"disp":false,"width":"24","collapse":false},{"id":"c6293b1c.ceaf98","type":"ui_tab","z":"","name":"IncrementFasta","icon":"dashboard","order":3,"disabled":false,"hidden":false},{"id":"911c2ae1.b6cf88","type":"ui_tab","z":"","name":"ExtractFromCUFF","icon":"dashboard","order":4,"disabled":false,"hidden":false},{"id":"6136b66c.a5e198","type":"ui_tab","z":"","name":"ExtractFromTopat","icon":"dashboard","order":5,"disabled":false,"hidden":false},{"id":"2095eba2.5d8854","type":"ui_tab","z":"","name":"RemoveFromFasta","icon":"dashboard","order":6,"disabled":false,"hidden":false},{"id":"6a9c8657.1559f8","type":"ui_tab","z":"","name":"MergeFasta","icon":"dashboard","order":7,"disabled":false,"hidden":false},{"id":"4a765601.b3c778","type":"ui_tab","z":"","name":"RemoveNucleotides","icon":"dashboard","order":8,"disabled":false,"hidden":false},{"id":"a2632305.71634","type":"ui_tab","z":"","name":"ExtractFromAugustus","icon":"dashboard","order":9,"disabled":false,"hidden":false},{"id":"5bc35168.50dd3","type":"ui_tab","z":"","name":"ExtractFromStringTie","icon":"dashboard","order":10,"disabled":false,"hidden":false},{"id":"8ef9feef.24e69","type":"ui_tab","z":"","name":"CreateDotFromFasta","icon":"dashboard","order":11,"disabled":false,"hidden":false},{"id":"5d159711.018ea8","type":"ui_tab","z":"","name":"Dashboard","icon":"dashboard","order":1},{"id":"6e8b177b.5fa3a8","type":"ui_tab","z":"","name":"ComplexProcess","icon":"dashboard","order":12,"disabled":false,"hidden":false},{"id":"3bf1f0fd.6de7e","type":"ui_tab","z":"","name":"Python","icon":"dashboard","order":13,"disabled":false,"hidden":false},{"id":"dcd6d1d.2fef53","type":"ui_tab","z":"","name":"CreateDataset","icon":"dashboard","order":15,"disabled":false,"hidden":false}]
```
